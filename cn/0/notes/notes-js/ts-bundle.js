"use strict";var App=(()=>{var sl=Object.create;var ir=Object.defineProperty;var ol=Object.getOwnPropertyDescriptor;var al=Object.getOwnPropertyNames;var cl=Object.getPrototypeOf,ul=Object.prototype.hasOwnProperty;var ll=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ki=(e,t)=>{for(var n in t)ir(e,n,{get:t[n],enumerable:!0})},ko=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of al(t))!ul.call(e,i)&&i!==n&&ir(e,i,{get:()=>t[i],enumerable:!(r=ol(t,i))||r.enumerable});return e};blank bl dl=(e,t,n)=>(n=e!=null?sl(cl(e)):{},ko(t||!e||!e.__esModule?ir(n,"default",{value:e,enumerable:!0}):n,e)),fl=e=>ko(ir({},"__esModule",{value:!0}),e);var pa=ll((Dg,_r)=>{(function(){"use strict";var e={}.hasOwnProperty,t="[native code]";function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var c in s)e.call(s,c)&&s[c]&&r.push(c)}}}return r.join(" ")}typeof _r<"u"&&_r.exports?(n.default=n,_r.exports=n):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return n}):window.classNames=n})()});var Wm={};ki(Wm,{init:()=>zm});var cr,v,Oo,pl,mt,Ro,Mo,Ri,hl,Ot={},Bo=[],_l=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ur=Array.isArray;function et(e,t){for(var n in t)e[n]=t[n];return e}function Uo(e){var t=e.parentNode;t&&t.removeChild(e)}function Sn(e,t,n){var r,i,s,o={};for(s in t)s=="key"?r=t[s]:s=="ref"?i=t[s]:o[s]=t[s];if(arguments.length>2&&(o.children=arguments.length>3?cr.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(s in e.defaultProps)o[s]===void 0&&(o[s]=e.defaultProps[s]);return sr(e,o,r,i,null)}function sr(e,t,n,r,i){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++Oo};return i==null&&v.vnode!=null&&v.vnode(s),s}function _e(e){return e.children}function Re(e,t){this.props=e,this.context=t}function En(e,t){if(t==null)return e.__?En(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__d||n.__e;return typeof e.type=="function"?En(e):null}function Lo(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Lo(e)}}function xo(e){(!e.__d&&(e.__d=!0)&&mt.push(e)&&!or.__r++||Ro!==v.debounceRendering)&&((Ro=v.debounceRendering)||Mo)(or)}function or(){var e,t,n,r,i,s,o,a,c;for(mt.sort(Ri);e=mt.shift();)e.__d&&(t=mt.length,r=void 0,i=void 0,s=void 0,a=(o=(n=e).__v).__e,(c=n.__P)&&(r=[],i=[],(s=et({},o)).__v=o.__v+1,Ai(c,o,s,n.__n,c.ownerSVGElement!==void 0,o.__h!=null?[a]:null,r,a??En(o),o.__h,i),Ho(r,o,i),o.__e!=a&&Lo(o)),mt.length>t&&mt.sort(Ri));or.__r=0}function Po(e,t,n,r,i,s,o,a,c,l,d){var u,f,p,_,h,y,g,b,w,I=0,x=r&&r.__k||Bo,C=x.length,E=C,R=t.length;for(n.__k=[],u=0;u<R;u++)(_=n.__k[u]=(_=t[u])==null||typeof _=="boolean"||typeof _=="function"?null:typeof _=="string"||typeof _=="number"||typeof _=="bigint"?sr(null,_,null,null,_):ur(_)?sr(_e,{children:_},null,null,null):_.__b>0?sr(_.type,_.props,_.key,_.ref?_.ref:null,_.__v):_)!=null?(_.__=n,_.__b=n.__b+1,(b=ml(_,x,g=u+I,E))===-1?p=Ot:(p=x[b]||Ot,x[b]=void 0,E--),Ai(e,_,p,i,s,o,a,c,l,d),h=_.__e,(f=_.ref)&&p.ref!=f&&(p.ref&&Ni(p.ref,null,_),d.push(f,_.__c||h,_)),h!=null&&(y==null&&(y=h),(w=p===Ot||p.__v===null)?b==-1&&I--:b!==g&&(b===g+1?I++:b>g?E>R-g?I+=b-g:I--:I=b<g&&b==g-1?b-g:0),g=u+I,typeof _.type!="function"||b===g&&p.__k!==_.__k?typeof _.type=="function"||b===g&&!w?_.__d!==void 0?(c=_.__d,_.__d=void 0):c=h.nextSibling:c=Go(e,h,c):c=Fo(_,c,e),typeof n.type=="function"&&(n.__d=c))):(p=x[u])&&p.key==null&&p.__e&&(p.__e==c&&(p.__=r,c=En(p)),xi(p,p,!1),x[u]=null);for(n.__e=y,u=C;u--;)x[u]!=null&&(typeof n.type=="function"&&x[u].__e!=null&&x[u].__e==n.__d&&(n.__d=x[u].__e.nextSibling),xi(x[u],x[u]))}function Fo(e,t,n){for(var r,i=e.__k,s=0;i&&s<i.length;s++)(r=i[s])&&(r.__=e,t=typeof r.type=="function"?Fo(r,t,n):Go(n,r.__e,t));return t}function vn(e,t){return t=t||[],e==null||typeof e=="boolean"||(ur(e)?e.some(function(n){vn(n,t)}):t.push(e)),t}function Go(e,t,n){return n==null||n.parentNode!==e?e.insertBefore(t,null):t==n&&t.parentNode!=null||e.insertBefore(t,n),t.nextSibling}function ml(e,t,n,r){var i=e.key,s=e.type,o=n-1,a=n+1,c=t[n];if(c===null||c&&i==c.key&&s===c.type)return n;if(r>(c!=null?1:0))for(;o>=0||a<t.length;){if(o>=0){if((c=t[o])&&i==c.key&&s===c.type)return o;o--}if(a<t.length){if((c=t[a])&&i==c.key&&s===c.type)return a;a++}}return-1}function gl(e,t,n,r,i){var s;for(s in n)s==="children"||s==="key"||s in t||ar(e,s,null,n[s],r);for(s in t)i&&typeof t[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===t[s]||ar(e,s,t[s],n[s],r)}function Ao(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||_l.test(t)?n:n+"px"}function ar(e,t,n,r,i){var s;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Ao(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||Ao(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")s=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,s?Do:No,s)):e.removeEventListener(t,s?Do:No,s);else if(t!=="dangerouslySetInnerHTML"){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function No(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(v.event?v.event(e):e)}function Do(e){return this.l[e.type+!0](v.event?v.event(e):e)}function Ai(e,t,n,r,i,s,o,a,c,l){var d,u,f,p,_,h,y,g,b,w,I,x,C,E,R,L=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(c=n.__h,a=t.__e=n.__e,t.__h=null,s=[a]),(d=v.__b)&&d(t);e:if(typeof L=="function")try{if(g=t.props,b=(d=L.contextType)&&r[d.__c],w=d?b?b.props.value:d.__:r,n.__c?y=(u=t.__c=n.__c).__=u.__E:("prototype"in L&&L.prototype.render?t.__c=u=new L(g,w):(t.__c=u=new Re(g,w),u.constructor=L,u.render=bl),b&&b.sub(u),u.props=g,u.state||(u.state={}),u.context=w,u.__n=r,f=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),L.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=et({},u.__s)),et(u.__s,L.getDerivedStateFromProps(g,u.__s))),p=u.props,_=u.state,u.__v=t,f)L.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(L.getDerivedStateFromProps==null&&g!==p&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(g,w),!u.__e&&(u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(g,u.__s,w)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(u.props=g,u.state=u.__s,u.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(S){S&&(S.__=t)}),I=0;I<u._sb.length;I++)u.__h.push(u._sb[I]);u._sb=[],u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(g,u.__s,w),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(p,_,h)})}if(u.context=w,u.props=g,u.__P=e,u.__e=!1,x=v.__r,C=0,"prototype"in L&&L.prototype.render){for(u.state=u.__s,u.__d=!1,x&&x(t),d=u.render(u.props,u.state,u.context),E=0;E<u._sb.length;E++)u.__h.push(u._sb[E]);u._sb=[]}else do u.__d=!1,x&&x(t),d=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++C<25);u.state=u.__s,u.getChildContext!=null&&(r=et(et({},r),u.getChildContext())),f||u.getSnapshotBeforeUpdate==null||(h=u.getSnapshotBeforeUpdate(p,_)),Po(e,ur(R=d!=null&&d.type===_e&&d.key==null?d.props.children:d)?R:[R],t,n,r,i,s,o,a,c,l),u.base=t.__e,t.__h=null,u.__h.length&&o.push(u),y&&(u.__E=u.__=null)}catch(S){t.__v=null,(c||s!=null)&&(t.__e=a,t.__h=!!c,s[s.indexOf(a)]=null),v.__e(S,t,n)}else s==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=yl(n.__e,t,n,r,i,s,o,c,l);(d=v.diffed)&&d(t)}function Ho(e,t,n){for(var r=0;r<n.length;r++)Ni(n[r],n[++r],n[++r]);v.__c&&v.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(s){s.call(i)})}catch(s){v.__e(s,i.__v)}})}function yl(e,t,n,r,i,s,o,a,c){var l,d,u,f=n.props,p=t.props,_=t.type,h=0;if(_==="svg"&&(i=!0),s!=null){for(;h<s.length;h++)if((l=s[h])&&"setAttribute"in l==!!_&&(_?l.localName===_:l.nodeType===3)){e=l,s[h]=null;break}}if(e==null){if(_===null)return document.createTextNode(p);e=i?document.createElementNS("http://www.w3.org/2000/svg",_):document.createElement(_,p.is&&p),s=null,a=!1}if(_===null)f===p||a&&e.data===p||(e.data=p);else{if(s=s&&cr.call(e.childNodes),d=(f=n.props||Ot).dangerouslySetInnerHTML,u=p.dangerouslySetInnerHTML,!a){if(s!=null)for(f={},h=0;h<e.attributes.length;h++)f[e.attributes[h].name]=e.attributes[h].value;(u||d)&&(u&&(d&&u.__html==d.__html||u.__html===e.innerHTML)||(e.innerHTML=u&&u.__html||""))}if(gl(e,p,f,i,a),u)t.__k=[];else if(Po(e,ur(h=t.props.children)?h:[h],t,n,r,i&&_!=="foreignObject",s,o,s?s[0]:n.__k&&En(n,0),a,c),s!=null)for(h=s.length;h--;)s[h]!=null&&Uo(s[h]);a||("value"in p&&(h=p.value)!==void 0&&(h!==e.value||_==="progress"&&!h||_==="option"&&h!==f.value)&&ar(e,"value",h,f.value,!1),"checked"in p&&(h=p.checked)!==void 0&&h!==e.checked&&ar(e,"checked",h,f.checked,!1))}return e}function Ni(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){v.__e(r,n)}}function xi(e,t,n){var r,i;if(v.unmount&&v.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Ni(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){v.__e(s,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&xi(r[i],t,n||typeof e.type!="function");n||e.__e==null||Uo(e.__e),e.__=e.__e=e.__d=void 0}function bl(e,t,n){return this.constructor(e,n)}function Di(e,t,n){var r,i,s,o;v.__&&v.__(e,t),i=(r=typeof n=="function")?null:n&&n.__k||t.__k,s=[],o=[],Ai(t,e=(!r&&n||t).__k=Sn(_e,null,[e]),i||Ot,Ot,t.ownerSVGElement!==void 0,!r&&n?[n]:i?null:t.firstChild?cr.call(t.childNodes):null,s,!r&&n?n:i?i.__e:t.firstChild,r,o),Ho(s,e,o)}cr=Bo.slice,v={__e:function(e,t,n,r){for(var i,s,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(e)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),o=i.__d),o)return i.__E=i}catch(a){e=a}throw e}},Oo=0,pl=function(e){return e!=null&&e.constructor===void 0},Re.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=et({},this.state),typeof e=="function"&&(e=e(et({},n),this.props)),e&&et(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),xo(this))},Re.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),xo(this))},Re.prototype.render=_e,mt=[],Mo=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ri=function(e,t){return e.__v.__b-t.__v.__b},or.__r=0,hl=0;var fr,J,Oi,Yo,Mi=0,qo=[],lr=[],zo=v.__b,Wo=v.__r,$o=v.diffed,Vo=v.__c,Zo=v.unmount;function Ko(e,t){v.__h&&v.__h(J,e,Mi||t),Mi=0;var n=J.__H||(J.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:lr}),n.__[e]}function Ue(e){return Mi=1,Jo(Xo,e)}function Jo(e,t,n){var r=Ko(fr++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Xo(void 0,t),function(a){var c=r.__N?r.__N[0]:r.__[0],l=r.t(c,a);c!==l&&(r.__N=[l,r.__[1]],r.__c.setState({}))}],r.__c=J,!J.u)){var i=function(a,c,l){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(f){return f.__c});if(d.every(function(f){return!f.__N}))return!s||s.call(this,a,c,l);var u=!1;return d.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(u=!0)}}),!(!u&&r.__c.props===a)&&(!s||s.call(this,a,c,l))};J.u=!0;var s=J.shouldComponentUpdate,o=J.componentWillUpdate;J.componentWillUpdate=function(a,c,l){if(this.__e){var d=s;s=void 0,i(a,c,l),s=d}o&&o.call(this,a,c,l)},J.shouldComponentUpdate=i}return r.__N||r.__}function gt(e,t){var n=Ko(fr++,3);!v.__s&&vl(n.__H,t)&&(n.__=e,n.i=t,J.__H.__h.push(n))}function El(){for(var e;e=qo.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(dr),e.__H.__h.forEach(Bi),e.__H.__h=[]}catch(t){e.__H.__h=[],v.__e(t,e.__v)}}v.__b=function(e){J=null,zo&&zo(e)},v.__r=function(e){Wo&&Wo(e),fr=0;var t=(J=e.__c).__H;t&&(Oi===J?(t.__h=[],J.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=lr,n.__N=n.i=void 0})):(t.__h.forEach(dr),t.__h.forEach(Bi),t.__h=[],fr=0)),Oi=J},v.diffed=function(e){$o&&$o(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(qo.push(t)!==1&&Yo===v.requestAnimationFrame||((Yo=v.requestAnimationFrame)||Sl)(El)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==lr&&(n.__=n.__V),n.i=void 0,n.__V=lr})),Oi=J=null},v.__c=function(e,t){t.some(function(n){try{n.__h.forEach(dr),n.__h=n.__h.filter(function(r){return!r.__||Bi(r)})}catch(r){t.some(function(i){i.__h&&(i.__h=[])}),t=[],v.__e(r,n.__v)}}),Vo&&Vo(e,t)},v.unmount=function(e){Zo&&Zo(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{dr(r)}catch(i){t=i}}),n.__H=void 0,t&&v.__e(t,n.__v))};var jo=typeof requestAnimationFrame=="function";function Sl(e){var t,n=function(){clearTimeout(r),jo&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);jo&&(t=requestAnimationFrame(n))}function dr(e){var t=J,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),J=t}function Bi(e){var t=J;e.__c=e.__(),J=t}function vl(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Xo(e,t){return typeof t=="function"?t(e):t}var wl=0;function k(e,t,n,r,i,s){var o,a,c={};for(a in t)a=="ref"?o=t[a]:c[a]=t[a];var l={type:e,props:c,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--wl,__source:i,__self:s};if(typeof e=="function"&&(o=e.defaultProps))for(a in o)c[a]===void 0&&(c[a]=o[a]);return v.vnode&&v.vnode(l),l}function Ui(){return k("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:k("path",{d:"M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z"})})}function pr(e){let[t,n]=Ue(e.show??!1),r=e.allowClose??!0;return gt(()=>{e.show!==void 0&&n(e.show)},[e.show]),k("div",{className:`dark:bg-black dark:bg-opacity-80 bg-white bg-opacity-90 fixed inset-0 transition-opacity duration-500 ease-in-out ${t?"!opacity-100":"invisible opacity-0 -translate-y-full"}`,children:k("div",{className:"flex items-center justify-center h-screen",onClick:i=>{i.target===i.currentTarget&&r&&(n(!1),e.onClose&&e.onClose())},children:k("div",{className:`bg-gray-50 dark:bg-[#181822] dark:text-gray-50 rounded-lg shadow-sm w-4/5 min-w-[300px] p-6 border border-gray-200 dark:border-gray-950 ${e.className}`,children:[k("div",{className:"flex justify-between items-center",children:[e.title&&k("div",{className:"m-0 text-base font-bold pb-4",children:e.title}),r&&k("button",{onClick:()=>{n(!1),e.onClose&&e.onClose()},className:"hover:cursor-pointer hover:text-gray-400 text-gray-300 pb-4",children:k(Ui,{})})]}),k("div",{children:e.content})]})})})}function ze(e,t){let r={...{branch:"master"},...t};"plausible"in window&&typeof window.plausible=="function"&&window.plausible(e,{props:r}),window.location.hostname==="localhost"&&console.log("trackEvent",e,r)}function Cl(e,t){for(var n in t)e[n]=t[n];return e}function ea(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var r in t)if(r!=="__source"&&e[r]!==t[r])return!0;return!1}function ta(e){this.props=e}(ta.prototype=new Re).isPureReactComponent=!0,ta.prototype.shouldComponentUpdate=function(e,t){return ea(this.props,e)||ea(this.state,t)};var na=v.__b;v.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),na&&na(e)};var yg=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;var kl=v.__e;v.__e=function(e,t,n,r){if(e.then){for(var i,s=t;s=s.__;)if((i=s.__c)&&i.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t)}kl(e,t,n,r)};var ra=v.unmount;function ua(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),e.__c.__H=null),(e=Cl({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(r){return ua(r,t,n)})),e}function la(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(r){return la(r,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function Pi(){this.__u=0,this.t=null,this.__b=null}function da(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function hr(){this.u=null,this.o=null}v.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&e.__h===!0&&(e.type=null),ra&&ra(e)},(Pi.prototype=new Re).__c=function(e,t){var n=t.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=da(r.__v),s=!1,o=function(){s||(s=!0,n.__R=null,i?i(a):a())};n.__R=o;var a=function(){if(!--r.__u){if(r.state.__a){var l=r.state.__a;r.__v.__k[0]=la(l,l.__c.__P,l.__c.__O)}var d;for(r.setState({__a:r.__b=null});d=r.t.pop();)d.forceUpdate()}},c=t.__h===!0;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(o,o)},Pi.prototype.componentWillUnmount=function(){this.t=[]},Pi.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=ua(this.__b,n,r.__O=r.__P)}this.__b=null}var i=t.__a&&Sn(_e,null,e.fallback);return i&&(i.__h=null),[Sn(_e,null,t.__a?null:e.children),i]};var ia=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};(hr.prototype=new Re).__a=function(e){var t=this,n=da(t.__v),r=t.o.get(e);return r[0]++,function(i){var s=function(){t.props.revealOrder?(r.push(i),ia(t,e,r)):i()};n?n(s):s()}},hr.prototype.render=function(e){this.u=null,this.o=new Map;var t=vn(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},hr.prototype.componentDidUpdate=hr.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){ia(e,n,t)})};var Rl=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,xl=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Al=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Nl=/[A-Z0-9]/g,Dl=typeof document<"u",Ol=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};Re.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(Re.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var sa=v.event;function Ml(){}function Bl(){return this.cancelBubble}function Ul(){return this.defaultPrevented}v.event=function(e){return sa&&(e=sa(e)),e.persist=Ml,e.isPropagationStopped=Bl,e.isDefaultPrevented=Ul,e.nativeEvent=e};var fa,Ll={enumerable:!1,configurable:!0,get:function(){return this.class}},oa=v.vnode;v.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,r=t.type,i={};for(var s in n){var o=n[s];if(!(s==="value"&&"defaultValue"in n&&o==null||Dl&&s==="children"&&r==="noscript"||s==="class"||s==="className")){var a=s.toLowerCase();s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&o===!0?o="":a==="ondoubleclick"?s="ondblclick":a!=="onchange"||r!=="input"&&r!=="textarea"||Ol(n.type)?a==="onfocus"?s="onfocusin":a==="onblur"?s="onfocusout":Al.test(s)?s=a:r.indexOf("-")===-1&&xl.test(s)?s=s.replace(Nl,"-$&").toLowerCase():o===null&&(o=void 0):a=s="oninput",a==="oninput"&&i[s=a]&&(s="oninputCapture"),i[s]=o}}r=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=vn(n.children).forEach(function(c){c.props.selected=i.value.indexOf(c.props.value)!=-1})),r=="select"&&i.defaultValue!=null&&(i.value=vn(n.children).forEach(function(c){c.props.selected=i.multiple?i.defaultValue.indexOf(c.props.value)!=-1:i.defaultValue==c.props.value})),n.class&&!n.className?(i.class=n.class,Object.defineProperty(i,"className",Ll)):(n.className&&!n.class||n.class&&n.className)&&(i.class=i.className=n.className),t.props=i}(e),e.$$typeof=Rl,oa&&oa(e)};var aa=v.__r;v.__r=function(e){aa&&aa(e),fa=e.__c};var ca=v.diffed;v.diffed=function(e){ca&&ca(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value),fa=null};var Pl=dl(pa());var ha=Object.prototype.toString;function wn(e){switch(ha.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return me(e,Error)}}function Mt(e,t){return ha.call(e)===`[object ${t}]`}function Bt(e){return Mt(e,"ErrorEvent")}function mr(e){return Mt(e,"DOMError")}function Fi(e){return Mt(e,"DOMException")}function de(e){return Mt(e,"String")}function Ut(e){return e===null||typeof e!="object"&&typeof e!="function"}function xe(e){return Mt(e,"Object")}function yt(e){return typeof Event<"u"&&me(e,Event)}function Gi(e){return typeof Element<"u"&&me(e,Element)}function Hi(e){return Mt(e,"RegExp")}function bt(e){return!!(e&&e.then&&typeof e.then=="function")}function Yi(e){return xe(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function In(e){return typeof e=="number"&&e!==e}function me(e,t){try{return e instanceof t}catch{return!1}}function Tn(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Le(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function gr(e,t){if(!Array.isArray(e))return"";let n=[];for(let r=0;r<e.length;r++){let i=e[r];try{Tn(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function _a(e,t,n=!1){return de(e)?Hi(t)?t.test(e):de(t)?n?e===t:e.includes(t):!1:!1}function Pe(e,t=[],n=!1){return t.some(r=>_a(e,r,n))}function Wi(e,t,n=250,r,i,s,o){if(!s.exception||!s.exception.values||!o||!me(o.originalException,Error))return;let a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;a&&(s.exception.values=Fl(zi(e,t,i,o.originalException,r,s.exception.values,a,0),n))}function zi(e,t,n,r,i,s,o,a){if(s.length>=n+1)return s;let c=[...s];if(me(r[i],Error)){ma(o,a);let l=e(t,r[i]),d=c.length;ga(l,i,d,a),c=zi(e,t,n,r[i],i,[l,...c],l,d)}return Array.isArray(r.errors)&&r.errors.forEach((l,d)=>{if(me(l,Error)){ma(o,a);let u=e(t,l),f=c.length;ga(u,`errors[${d}]`,f,a),c=zi(e,t,n,l,i,[u,...c],u,f)}}),c}function ma(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,is_exception_group:!0,exception_id:t}}function ga(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Fl(e,t){return e.map(n=>(n.value&&(n.value=Le(n.value,t)),n))}function yr(e){return e&&e.Math==Math?e:void 0}var G=typeof globalThis=="object"&&yr(globalThis)||typeof window=="object"&&yr(window)||typeof self=="object"&&yr(self)||typeof global=="object"&&yr(global)||function(){return this}()||{};function Ae(){return G}function Cn(e,t,n){let r=n||G,i=r.__SENTRY__=r.__SENTRY__||{};return i[e]||(i[e]=t())}var br=Ae(),Gl=80;function ge(e,t={}){try{let n=e,r=5,i=[],s=0,o=0,a=" > ",c=a.length,l,d=Array.isArray(t)?t:t.keyAttrs,u=!Array.isArray(t)&&t.maxStringLength||Gl;for(;n&&s++<r&&(l=Hl(n,d),!(l==="html"||s>1&&o+i.length*c+l.length>=u));)i.push(l),o+=l.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function Hl(e,t){let n=e,r=[],i,s,o,a,c;if(!n||!n.tagName)return"";r.push(n.tagName.toLowerCase());let l=t&&t.length?t.filter(u=>n.getAttribute(u)).map(u=>[u,n.getAttribute(u)]):null;if(l&&l.length)l.forEach(u=>{r.push(`[${u[0]}="${u[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),i=n.className,i&&de(i))for(s=i.split(/\s+/),c=0;c<s.length;c++)r.push(`.${s[c]}`);let d=["aria-label","type","name","title","alt"];for(c=0;c<d.length;c++)o=d[c],a=n.getAttribute(o),a&&r.push(`[${o}="${a}"]`);return r.join("")}function $i(){try{return br.document.location.href}catch{return""}}function Vi(e){return br.document&&br.document.querySelector?br.document.querySelector(e):null}var Yl="Sentry Logger ",kn=["debug","info","warn","error","log","assert","trace"],Lt={};function Er(e){if(!("console"in G))return e();let t=G.console,n={},r=Object.keys(Lt);r.forEach(i=>{let s=Lt[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function zl(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?kn.forEach(n=>{t[n]=(...r)=>{e&&Er(()=>{G.console[n](`${Yl}[${n}]:`,...r)})}}):kn.forEach(n=>{t[n]=()=>{}}),t}var m=zl();var Wl=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function $l(e){return e==="http"||e==="https"}function Fe(e,t=!1){let{host:n,path:r,pass:i,port:s,projectId:o,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${o}`}function ya(e){let t=Wl.exec(e);if(!t){console.error(`Invalid Sentry Dsn: ${e}`);return}let[n,r,i="",s,o="",a]=t.slice(1),c="",l=a,d=l.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),l=d.pop()),l){let u=l.match(/^\d+/);u&&(l=u[0])}return ba({host:s,pass:i,path:c,projectId:l,port:o,protocol:n,publicKey:r})}function ba(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Vl(e){if(!(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__))return!0;let{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(m.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?$l(r)?t&&isNaN(parseInt(t,10))?(m.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(m.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(m.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Sr(e){let t=typeof e=="string"?ya(e):ba(e);if(!(!t||!Vl(t)))return t}var se=class extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}};function Z(e,t,n){if(!(t in e))return;let r=e[t],i=n(r);typeof i=="function"&&vr(i,r),e[t]=i}function tt(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function vr(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,tt(e,"__sentry_original__",t)}catch{}}function Et(e){return e.__sentry_original__}function ji(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function wr(e){if(wn(e))return{message:e.message,name:e.name,stack:e.stack,...Sa(e)};if(yt(e)){let t={type:e.type,target:Ea(e.target),currentTarget:Ea(e.currentTarget),...Sa(e)};return typeof CustomEvent<"u"&&me(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Ea(e){try{return Gi(e)?ge(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Sa(e){if(typeof e=="object"&&e!==null){let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function qi(e,t=40){let n=Object.keys(wr(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Le(n[0],t);for(let r=n.length;r>0;r--){let i=n.slice(0,r).join(", ");if(!(i.length>t))return r===n.length?i:Le(i,t)}return""}function ie(e){return Zi(e,new Map)}function Zi(e,t){if(xe(e)){let n=t.get(e);if(n!==void 0)return n;let r={};t.set(e,r);for(let i of Object.keys(e))typeof e[i]<"u"&&(r[i]=Zi(e[i],t));return r}if(Array.isArray(e)){let n=t.get(e);if(n!==void 0)return n;let r=[];return t.set(e,r),e.forEach(i=>{r.push(Zi(i,t))}),r}return e}var Ia=50,va=/\(error: (.*)\)/,wa=/captureMessage|captureException/;function Ir(...e){let t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0)=>{let i=[],s=n.split(`
`);for(let o=r;o<s.length;o++){let a=s[o];if(a.length>1024)continue;let c=va.test(a)?a.replace(va,"$1"):a;if(!c.match(/\S*Error: /)){for(let l of t){let d=l(c);if(d){i.push(d);break}}if(i.length>=Ia)break}}return Ta(i)}}function Ji(e){return Array.isArray(e)?Ir(...e):e}function Ta(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),wa.test(t[t.length-1].function||"")&&(t.pop(),wa.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,Ia).map(n=>({...n,filename:n.filename||t[t.length-1].filename,function:n.function||"?"}))}var Ki="<anonymous>";function we(e){try{return!e||typeof e!="function"?Ki:e.name||Ki}catch{return Ki}}var Xi=Ae();function Tr(){if(!("fetch"in Xi))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Rn(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Qi(){if(!Tr())return!1;if(Rn(Xi.fetch))return!0;let e=!1,t=Xi.document;if(t&&typeof t.createElement=="function")try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Rn(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}var Cr=Ae();function Ca(){let e=Cr.chrome,t=e&&e.app&&e.app.runtime,n="history"in Cr&&!!Cr.history.pushState&&!!Cr.history.replaceState;return!t&&n}var ne=Ae(),Ie="__sentry_xhr_v2__",xn={},ka={};function Zl(e){if(!ka[e])switch(ka[e]=!0,e){case"console":jl();break;case"dom":Oa();break;case"xhr":Da();break;case"fetch":ql();break;case"history":Kl();break;case"error":ed();break;case"unhandledrejection":td();break;default:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn("unknown instrumentation type:",e);return}}function W(e,t){xn[e]=xn[e]||[],xn[e].push(t),Zl(e)}function Ne(e,t){if(!(!e||!xn[e]))for(let n of xn[e]||[])try{n(t)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${we(n)}
Error:`,r)}}function jl(){"console"in G&&kn.forEach(function(e){e in G.console&&Z(G.console,e,function(t){return Lt[e]=t,function(...n){Ne("console",{args:n,level:e});let r=Lt[e];r&&r.apply(G.console,n)}})})}function ql(){Qi()&&Z(G,"fetch",function(e){return function(...t){let{method:n,url:r}=Na(t),i={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return Ne("fetch",{...i}),e.apply(G,t).then(s=>(Ne("fetch",{...i,endTimestamp:Date.now(),response:s}),s),s=>{throw Ne("fetch",{...i,endTimestamp:Date.now(),error:s}),s})}})}function es(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Ra(e){return typeof e=="string"?e:e?es(e,"url")?e.url:e.toString?e.toString():"":""}function Na(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){let[n,r]=e;return{url:Ra(n),method:es(r,"method")?String(r.method).toUpperCase():"GET"}}let t=e[0];return{url:Ra(t),method:es(t,"method")?String(t.method).toUpperCase():"GET"}}function Da(){if(!ne.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;Z(e,"open",function(t){return function(...n){let r=n[1],i=this[Ie]={method:de(n[0])?n[0].toUpperCase():n[0],url:n[1],request_headers:{}};de(r)&&i.method==="POST"&&r.match(/sentry_key/)&&(this.__sentry_own_request__=!0);let s=()=>{let o=this[Ie];if(o&&this.readyState===4){try{o.status_code=this.status}catch{}Ne("xhr",{args:n,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:this})}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?Z(this,"onreadystatechange",function(o){return function(...a){return s(),o.apply(this,a)}}):this.addEventListener("readystatechange",s),Z(this,"setRequestHeader",function(o){return function(...a){let[c,l]=a,d=this[Ie];return d&&(d.request_headers[c.toLowerCase()]=l),o.apply(this,a)}}),t.apply(this,n)}}),Z(e,"send",function(t){return function(...n){let r=this[Ie];return r&&n[0]!==void 0&&(r.body=n[0]),Ne("xhr",{args:n,startTimestamp:Date.now(),xhr:this}),t.apply(this,n)}})}var kr;function Kl(){if(!Ca())return;let e=ne.onpopstate;ne.onpopstate=function(...n){let r=ne.location.href,i=kr;if(kr=r,Ne("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){let i=r.length>2?r[2]:void 0;if(i){let s=kr,o=String(i);kr=o,Ne("history",{from:s,to:o})}return n.apply(this,r)}}Z(ne.history,"pushState",t),Z(ne.history,"replaceState",t)}var Jl=1e3,xa,Rr;function Xl(e,t){if(e.type!==t.type)return!1;try{if(e.target!==t.target)return!1}catch{}return!0}function Ql(e){if(e.type!=="keypress")return!1;try{let t=e.target;if(!t||!t.tagName)return!0;if(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)return!1}catch{}return!0}function Aa(e,t=!1){return n=>{if(!n||n._sentryCaptured||Ql(n))return;tt(n,"_sentryCaptured",!0);let r=n.type==="keypress"?"input":n.type;(Rr===void 0||!Xl(Rr,n))&&(e({event:n,name:r,global:t}),Rr=n),clearTimeout(xa),xa=ne.setTimeout(()=>{Rr=void 0},Jl)}}function Oa(){if(!ne.document)return;let e=Ne.bind(null,"dom"),t=Aa(e,!0);ne.document.addEventListener("click",t,!1),ne.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{let r=ne[n]&&ne[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Z(r,"addEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{let c=this,l=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},d=l[s]=l[s]||{refCount:0};if(!d.handler){let u=Aa(e);d.handler=u,i.call(this,s,u,a)}d.refCount++}catch{}return i.call(this,s,o,a)}}),Z(r,"removeEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{let c=this,l=c.__sentry_instrumentation_handlers__||{},d=l[s];d&&(d.refCount--,d.refCount<=0&&(i.call(this,s,d.handler,a),d.handler=void 0,delete l[s]),Object.keys(l).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,o,a)}}))})}var xr=null;function ed(){xr=ne.onerror,ne.onerror=function(e,t,n,r,i){return Ne("error",{column:r,error:i,line:n,msg:e,url:t}),xr&&!xr.__SENTRY_LOADER__?xr.apply(this,arguments):!1},ne.onerror.__SENTRY_INSTRUMENTED__=!0}var Ar=null;function td(){Ar=ne.onunhandledrejection,ne.onunhandledrejection=function(e){return Ne("unhandledrejection",e),Ar&&!Ar.__SENTRY_LOADER__?Ar.apply(this,arguments):!0},ne.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Ma(){let e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let s=0;s<t.length;s++)if(t[s]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let s=0;s<t.length;s++)if(t[s]===i){t.splice(s,1);break}}return[n,r]}function V(){let e=G,t=e.crypto||e.msCrypto,n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>t.getRandomValues(new Uint8Array(1))[0])}catch{}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function Ba(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function De(e){let{message:t,event_id:n}=e;if(t)return t;let r=Ba(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Pt(e,t,n){let r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type=n||"Error")}function We(e,t){let n=Ba(e);if(!n)return;let r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){let s={...i&&i.data,...t.data};n.mechanism.data=s}}function Nr(e){if(e&&e.__sentry_captured__)return!0;try{tt(e,"__sentry_captured__",!0)}catch{}return!1}function An(e){return Array.isArray(e)?e:[e]}function ts(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function ns(){return"npm"}function Nn(){return!ts()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function rs(e,t){return e.require(t)}function fe(e,t=100,n=1/0){try{return Dr("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Or(e,t=3,n=100*1024){let r=fe(e,t);return sd(r)>n?Or(e,t-1,n):r}function Dr(e,t,n=1/0,r=1/0,i=Ma()){let[s,o]=i;if(t==null||["number","boolean","string"].includes(typeof t)&&!In(t))return t;let a=nd(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;let c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(s(t))return"[Circular ~]";let l=t;if(l&&typeof l.toJSON=="function")try{let p=l.toJSON();return Dr("",p,c-1,r,i)}catch{}let d=Array.isArray(t)?[]:{},u=0,f=wr(t);for(let p in f){if(!Object.prototype.hasOwnProperty.call(f,p))continue;if(u>=r){d[p]="[MaxProperties ~]";break}let _=f[p];d[p]=Dr(p,_,c-1,r,i),u++}return o(t),d}function nd(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Tn(t))return"[VueViewModel]";if(Yi(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${we(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let n=rd(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function rd(e){let t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function id(e){return~-encodeURI(e).split(/%..|./).length}function sd(e){return id(JSON.stringify(e))}var $e;(function(e){e[e.PENDING=0]="PENDING";let n=1;e[e.RESOLVED=n]="RESOLVED";let r=2;e[e.REJECTED=r]="REJECTED"})($e||($e={}));function be(e){return new ye(t=>{t(e)})}function St(e){return new ye((t,n)=>{n(e)})}var ye=class e{constructor(t){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),this._state=$e.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new e((r,i)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(o){i(o)}},s=>{if(!n)i(s);else try{r(n(s))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new e((n,r)=>{let i,s;return this.then(o=>{s=!1,i=o,t&&t()},o=>{s=!0,i=o,t&&t()}).then(()=>{if(s){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult($e.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult($e.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===$e.PENDING){if(bt(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===$e.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===$e.RESOLVED&&n[1](this._value),this._state===$e.REJECTED&&n[2](this._value),n[0]=!0)})}}};function is(e){let t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]}function i(o){if(!n())return St(new se("Not adding Promise because buffer limit was reached."));let a=o();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function s(o){return new ye((a,c)=>{let l=t.length;if(!l)return a(!0);let d=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(u=>{be(u).then(()=>{--l||(clearTimeout(d),a(!0))},c)})})}return{$:t,add:i,drain:s}}function Dn(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}var Ua=["fatal","error","warning","log","info","debug"];function ss(e){return e==="warn"?"warning":Ua.includes(e)?e:"log"}var Pa=Ae(),as={nowSeconds:()=>Date.now()/1e3};function od(){let{performance:e}=Pa;if(!e||!e.now)return;let t=Date.now()-e.now();return{now:()=>e.now(),timeOrigin:t}}function ad(){try{return rs(module,"perf_hooks").performance}catch{return}}var os=Nn()?ad():od(),La=os===void 0?as:{nowSeconds:()=>(os.timeOrigin+os.now())/1e3},Ve=as.nowSeconds.bind(as),Oe=La.nowSeconds.bind(La);var On,oe=(()=>{let{performance:e}=Pa;if(!e||!e.now){On="none";return}let t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,o=e.timing&&e.timing.navigationStart,c=typeof o=="number"?Math.abs(o+n-r):t,l=c<t;return s||l?i<=c?(On="timeOrigin",e.timeOrigin):(On="navigationStart",o):(On="dateNow",r)})();var Mn="baggage",cs="sentry-",Ga=/^sentry-/,Ha=8192;function us(e){if(!de(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce((r,i)=>{let s=Fa(i);return{...r,...s}},{});else{if(!e)return;t=Fa(e)}let n=Object.entries(t).reduce((r,[i,s])=>{if(i.match(Ga)){let o=i.slice(cs.length);r[o]=s}return r},{});if(Object.keys(n).length>0)return n}function Bn(e){if(!e)return;let t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${cs}${r}`]=i),n),{});return cd(t)}function Fa(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(t[n]=r,t),{})}function cd(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{let s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=i===0?s:`${t},${s}`;return o.length>Ha?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}var Ya=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function ls(e){if(!e)return;let t=e.match(Ya);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function ds(e,t){let n=ls(e),r=us(t),{traceId:i,parentSpanId:s,parentSampled:o}=n||{},a={traceId:i||V(),spanId:V().substring(16),sampled:o};return s&&(a.parentSpanId=s),r&&(a.dsc=r),{traceparentData:n,dynamicSamplingContext:r,propagationContext:a}}function Ft(e=V(),t=V().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Te(e,t=[]){return[e,t]}function ps(e,t){let[n,r]=e;return[n,[...r,t]]}function Mr(e,t){let n=e[1];for(let r of n){let i=r[0].type;if(t(r,i))return!0}return!1}function fs(e,t){return(t||new TextEncoder).encode(e)}function hs(e,t){let[n,r]=e,i=JSON.stringify(n);function s(o){typeof i=="string"?i=typeof o=="string"?i+o:[fs(i,t),o]:i.push(typeof o=="string"?fs(o,t):o)}for(let o of r){let[a,c]=o;if(s(`
${JSON.stringify(a)}
`),typeof c=="string"||c instanceof Uint8Array)s(c);else{let l;try{l=JSON.stringify(c)}catch{l=JSON.stringify(fe(c))}s(l)}}return typeof i=="string"?i:ud(i)}function ud(e){let t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t),r=0;for(let i of e)n.set(i,r),r+=i.length;return n}function _s(e,t){let n=typeof e.data=="string"?fs(e.data,t):e.data;return[ie({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}var ld={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor"};function Br(e){return ld[e]}function Gt(e){if(!e||!e.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function Un(e,t,n,r){let i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Fe(r)},...i&&{trace:ie({...i})}}}function ms(e,t,n){let r=[{type:"client_report"},{timestamp:n||Ve(),discarded_events:e}];return Te(t?{dsn:t}:{},[r])}function za(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function Wa(e,t){return e[t]||e.all||0}function gs(e,t,n=Date.now()){return Wa(e,t)>n}function ys(e,{statusCode:t,headers:n},r=Date.now()){let i={...e},s=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(s)for(let a of s.trim().split(",")){let[c,l]=a.split(":",2),d=parseInt(c,10),u=(isNaN(d)?60:d)*1e3;if(!l)i.all=r+u;else for(let f of l.split(";"))i[f]=r+u}else o?i.all=r+za(o,r):t===429&&(i.all=r+60*1e3);return i}var Ht="production";function Ln(){return Cn("globalEventProcessors",()=>[])}function zt(e){Ln().push(e)}function Yt(e,t,n,r=0){return new ye((i,s)=>{let o=e[r];if(t===null||typeof o!="function")i(t);else{let a=o({...t},n);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&o.id&&a===null&&m.log(`Event processor "${o.id}" dropped event`),bt(a)?a.then(c=>Yt(e,c,n,r+1).then(i)).then(null,s):Yt(e,a,n,r+1).then(i).then(null,s)}})}function $a(e){let t=Oe(),n={sid:V(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>dd(n)};return e&&Ze(n,e),n}function Ze(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Oe(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:V()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Va(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),Ze(e,n)}function dd(e){return ie({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}var fd=100,nt=class e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Za()}static clone(t){let n=new e;return t&&(n._breadcrumbs=[...t._breadcrumbs],n._tags={...t._tags},n._extra={...t._extra},n._contexts={...t._contexts},n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=[...t._eventProcessors],n._requestSession=t._requestSession,n._attachments=[...t._attachments],n._sdkProcessingMetadata={...t._sdkProcessingMetadata},n._propagationContext={...t._propagationContext}),n}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&Ze(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if(typeof t=="function"){let n=t(this);return n instanceof e?n:this}return t instanceof e?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession),t._propagationContext&&(this._propagationContext=t._propagationContext)):xe(t)&&(t=t,this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=Za(),this}addBreadcrumb(t,n){let r=typeof n=="number"?n:fd;if(r<=0)return this;let i={timestamp:Ve(),...t},s=this._breadcrumbs;return s.push(i),this._breadcrumbs=s.length>r?s.slice(-r):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(t,n={},r){if(this._extra&&Object.keys(this._extra).length&&(t.extra={...this._extra,...t.extra}),this._tags&&Object.keys(this._tags).length&&(t.tags={...this._tags,...t.tags}),this._user&&Object.keys(this._user).length&&(t.user={...this._user,...t.user}),this._contexts&&Object.keys(this._contexts).length&&(t.contexts={...this._contexts,...t.contexts}),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts={trace:this._span.getTraceContext(),...t.contexts};let o=this._span.transaction;if(o){t.sdkProcessingMetadata={dynamicSamplingContext:o.getDynamicSamplingContext(),...t.sdkProcessingMetadata};let a=o.name;a&&(t.tags={transaction:a,...t.tags})}}this._applyFingerprint(t);let i=this._getBreadcrumbs(),s=[...t.breadcrumbs||[],...i];return t.breadcrumbs=s.length>0?s:void 0,t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...this._sdkProcessingMetadata,propagationContext:this._propagationContext},Yt([...r||[],...Ln(),...this._eventProcessors],t,n)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}_getBreadcrumbs(){return this._breadcrumbs}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}_applyFingerprint(t){t.fingerprint=t.fingerprint?An(t.fingerprint):[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}};function Za(){return{traceId:V(),spanId:V().substring(16)}}var ja=4,pd=100,Wt=class{constructor(t,n=new nt,r=ja){this._version=r,this._stack=[{scope:n}],t&&this.bindClient(t)}isOlderThan(t){return this._version<t}bindClient(t){let n=this.getStackTop();n.client=t,t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){let t=nt.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){let n=this.pushScope();try{t(n)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,n){let r=this._lastEventId=n&&n.event_id?n.event_id:V(),i=new Error("Sentry syntheticException");return this._withClient((s,o)=>{s.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},o)}),r}captureMessage(t,n,r){let i=this._lastEventId=r&&r.event_id?r.event_id:V(),s=new Error(t);return this._withClient((o,a)=>{o.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},a)}),i}captureEvent(t,n){let r=n&&n.event_id?n.event_id:V();return t.type||(this._lastEventId=r),this._withClient((i,s)=>{i.captureEvent(t,{...n,event_id:r},s)}),r}lastEventId(){return this._lastEventId}addBreadcrumb(t,n){let{scope:r,client:i}=this.getStackTop();if(!i)return;let{beforeBreadcrumb:s=null,maxBreadcrumbs:o=pd}=i.getOptions&&i.getOptions()||{};if(o<=0)return;let c={timestamp:Ve(),...t},l=s?Er(()=>s(c,n)):c;l!==null&&(i.emit&&i.emit("beforeAddBreadcrumb",l,n),r.addBreadcrumb(l,o))}setUser(t){this.getScope().setUser(t)}setTags(t){this.getScope().setTags(t)}setExtras(t){this.getScope().setExtras(t)}setTag(t,n){this.getScope().setTag(t,n)}setExtra(t,n){this.getScope().setExtra(t,n)}setContext(t,n){this.getScope().setContext(t,n)}configureScope(t){let{scope:n,client:r}=this.getStackTop();r&&t(n)}run(t){let n=Ur(this);try{t(this)}finally{Ur(n)}}getIntegration(t){let n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,n){let r=this._callExtensionMethod("startTransaction",t,n);if((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&!r){let i=this.getClient();console.warn(i?`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`:"Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){let n=this.getStackTop().scope,r=n.getSession();r&&Va(r),this._sendSessionUpdate(),n.setSession()}startSession(t){let{scope:n,client:r}=this.getStackTop(),{release:i,environment:s=Ht}=r&&r.getOptions()||{},{userAgent:o}=G.navigator||{},a=$a({release:i,environment:s,user:n.getUser(),...o&&{userAgent:o},...t}),c=n.getSession&&n.getSession();return c&&c.status==="ok"&&Ze(c,{status:"exited"}),this.endSession(),n.setSession(a),a}shouldSendDefaultPii(){let t=this.getClient(),n=t&&t.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){let{scope:t,client:n}=this.getStackTop(),r=t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_withClient(t){let{scope:n,client:r}=this.getStackTop();r&&t(r,n)}_callExtensionMethod(t,...n){let i=vt().__SENTRY__;if(i&&i.extensions&&typeof i.extensions[t]=="function")return i.extensions[t].apply(this,n);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn(`Extension method ${t} couldn't be found, doing nothing.`)}};function vt(){return G.__SENTRY__=G.__SENTRY__||{extensions:{},hub:void 0},G}function Ur(e){let t=vt(),n=Pn(t);return bs(t,e),n}function T(){let e=vt();if(e.__SENTRY__&&e.__SENTRY__.acs){let t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return hd(e)}function hd(e=vt()){return(!_d(e)||Pn(e).isOlderThan(ja))&&bs(e,new Wt),Pn(e)}function _d(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function Pn(e){return Cn("hub",()=>new Wt,e)}function bs(e,t){if(!e)return!1;let n=e.__SENTRY__=e.__SENTRY__||{};return n.hub=t,!0}function Me(e){return(e||T()).getScope().getTransaction()}var qa=!1;function Ka(){qa||(qa=!0,W("error",Es),W("unhandledrejection",Es))}function Es(){let e=Me();if(e){let t="internal_error";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}Es.tag="sentry_tracingErrorCallback";var $t=class{constructor(t=1e3){this._maxlen=t,this.spans=[]}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}},Lr=class e{constructor(t={}){this.traceId=t.traceId||V(),this.spanId=t.spanId||V().substring(16),this.startTimestamp=t.startTimestamp||Oe(),this.tags=t.tags||{},this.data=t.data||{},this.instrumenter=t.instrumenter||"sentry",this.origin=t.origin||"manual",t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.name&&(this.description=t.name),t.status&&(this.status=t.status),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}get name(){return this.description||""}set name(t){this.setName(t)}startChild(t){let n=new e({...t,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&n.transaction){let r=t&&t.op||"< unknown op >",i=n.transaction.name||"< unknown name >",s=n.transaction.spanId,o=`[Tracing] Starting '${r}' span on transaction '${i}' (${s}).`;n.transaction.metadata.spanMetadata[n.spanId]={logMessage:o},m.log(o)}return n}setTag(t,n){return this.tags={...this.tags,[t]:n},this}setData(t,n){return this.data={...this.data,[t]:n},this}setStatus(t){return this.status=t,this}setHttpStatus(t){this.setTag("http.status_code",String(t)),this.setData("http.response.status_code",t);let n=Ja(t);return n!=="unknown_error"&&this.setStatus(n),this}setName(t){this.description=t}isSuccess(){return this.status==="ok"}finish(t){if((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){let{logMessage:n}=this.transaction.metadata.spanMetadata[this.spanId];n&&m.log(n.replace("Starting","Finishing"))}this.endTimestamp=typeof t=="number"?t:Oe()}toTraceparent(){return Ft(this.traceId,this.spanId,this.sampled)}toContext(){return ie({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(t){return this.data=t.data||{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=t.spanId||this.spanId,this.startTimestamp=t.startTimestamp||this.startTimestamp,this.status=t.status,this.tags=t.tags||{},this.traceId=t.traceId||this.traceId,this}getTraceContext(){return ie({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return ie({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId,origin:this.origin})}};function Ja(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function rt(e,t,n){let r=t.getOptions(),{publicKey:i}=t.getDsn()||{},{segment:s}=n&&n.getUser()||{},o=ie({environment:r.environment||Ht,release:r.release,user_segment:s,public_key:i,trace_id:e});return t.emit&&t.emit("createDsc",o),o}var Vt=class extends Lr{constructor(t,n){super(t),delete this.description,this._measurements={},this._contexts={},this._hub=n||T(),this._name=t.name||"",this.metadata={source:"custom",...t.metadata,spanMetadata:{}},this._trimEnd=t.trimEnd,this.transaction=this;let r=this.metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext={...r})}get name(){return this._name}set name(t){this.setName(t)}setName(t,n="custom"){this._name=t,this.metadata.source=n}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new $t(t)),this.spanRecorder.add(this)}setContext(t,n){n===null?delete this._contexts[t]:this._contexts[t]=n}setMeasurement(t,n,r=""){this._measurements[t]={value:n,unit:r}}setMetadata(t){this.metadata={...this.metadata,...t}}finish(t){let n=this._finishTransaction(t);if(n)return this._hub.captureEvent(n)}toContext(){let t=super.toContext();return ie({...t,name:this.name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this.name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;let t=this._hub||T(),n=t.getClient();if(!n)return{};let r=t.getScope(),i=rt(this.traceId,n,r),s=this.metadata.sampleRate;s!==void 0&&(i.sample_rate=`${s}`);let o=this.metadata.source;return o&&o!=="url"&&(i.transaction=this.name),this.sampled!==void 0&&(i.sampled=String(this.sampled)),i}setHub(t){this._hub=t}_finishTransaction(t){if(this.endTimestamp!==void 0)return;this.name||((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(t);let n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this.sampled!==!0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}let r=this.spanRecorder?this.spanRecorder.spans.filter(a=>a!==this&&a.endTimestamp):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce((a,c)=>a.endTimestamp&&c.endTimestamp?a.endTimestamp>c.endTimestamp?a:c:a).endTimestamp);let i=this.metadata,s={contexts:{...this._contexts,trace:this.getTraceContext()},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...i,dynamicSamplingContext:this.getDynamicSamplingContext()},...i.source&&{transaction_info:{source:i.source}}};return Object.keys(this._measurements).length>0&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),s.measurements=this._measurements),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),s}};var jt={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},md="finishReason",Zt=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"],Ss=class extends $t{constructor(t,n,r,i){super(i),this._pushActivity=t,this._popActivity=n,this.transactionSpanId=r}add(t){t.spanId!==this.transactionSpanId&&(t.finish=n=>{t.endTimestamp=typeof n=="number"?n:Oe(),this._popActivity(t.spanId)},t.endTimestamp===void 0&&this._pushActivity(t.spanId)),super.add(t)}},Fn=class extends Vt{constructor(t,n,r=jt.idleTimeout,i=jt.finalTimeout,s=jt.heartbeatInterval,o=!1){super(t,n),this._idleHub=n,this._idleTimeout=r,this._finalTimeout=i,this._heartbeatInterval=s,this._onScope=o,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=Zt[4],o&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),n.configureScope(a=>a.setSpan(this))),this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=Zt[3],this.finish())},this._finalTimeout)}finish(t=Oe()){if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setTag(md,this._finishReason),this.spanRecorder){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("[Tracing] finishing IdleTransaction",new Date(t*1e3).toISOString(),this.op);for(let n of this._beforeFinishCallbacks)n(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter(n=>{if(n.spanId===this.spanId)return!0;n.endTimestamp||(n.endTimestamp=t,n.setStatus("cancelled"),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(n,void 0,2)));let r=n.startTimestamp<t,i=(this._finalTimeout+this._idleTimeout)/1e3,s=n.endTimestamp-this.startTimestamp<i;if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){let o=JSON.stringify(n,void 0,2);r?s||m.log("[Tracing] discarding Span since it finished after Transaction final timeout",o):m.log("[Tracing] discarding Span since it happened after Transaction was finished",o)}return r&&s}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("[Tracing] flushing IdleTransaction")}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("[Tracing] No active IdleTransaction");if(this._onScope){let n=this._idleHub.getScope();n.getTransaction()===this&&n.setSpan(void 0)}return super.finish(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){let n=i=>{this._finished||this._pushActivity(i)},r=i=>{this._finished||this._popActivity(i)};this.spanRecorder=new Ss(n,r,this.spanId,t),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:n}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=n===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=Zt[5],this.finish(t)))}setFinishReason(t){this._finishReason=t}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=Zt[1],this.finish(t))},this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log(`[Tracing] popActivity ${t}`),delete this.activities[t],(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){let n=Oe();this._idleTimeoutCanceledPermanently?(this._finishReason=Zt[5],this.finish(n)):this._restartIdleTimeout(n+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;let t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=Zt[0],this.finish()):this._pingHeartbeat()}_pingHeartbeat(){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}};function qt(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let t=T().getClient(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function vs(e,t,n){if(!qt(t))return e.sampled=!1,e;if(e.sampled!==void 0)return e.setMetadata({sampleRate:Number(e.sampled)}),e;let r;return typeof t.tracesSampler=="function"?(r=t.tracesSampler(n),e.setMetadata({sampleRate:Number(r)})):n.parentSampled!==void 0?r=n.parentSampled:typeof t.tracesSampleRate<"u"?(r=t.tracesSampleRate,e.setMetadata({sampleRate:Number(r)})):(r=1,e.setMetadata({sampleRate:r})),gd(r)?r?(e.sampled=Math.random()<r,e.sampled?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log(`[Tracing] starting ${e.op} transaction - ${e.name}`),e):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),e)):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),e.sampled=!1,e):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function gd(e){return In(e)||!(typeof e=="number"||typeof e=="boolean")?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e<0||e>1?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function yd(){let t=this.getScope().getSpan();return t?{"sentry-trace":t.toTraceparent()}:{}}function bd(e,t){let n=this.getClient(),r=n&&n.getOptions()||{},i=r.instrumenter||"sentry",s=e.instrumenter||"sentry";i!==s&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${i}\` instrumenter.
The transaction will not be sampled. Please use the ${i} instrumentation to start transactions.`),e.sampled=!1);let o=new Vt(e,this);return o=vs(o,r,{parentSampled:e.parentSampled,transactionContext:e,...t}),o.sampled&&o.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",o),o}function Pr(e,t,n,r,i,s,o){let a=e.getClient(),c=a&&a.getOptions()||{},l=new Fn(t,e,n,r,o,i);return l=vs(l,c,{parentSampled:t.parentSampled,transactionContext:t,...s}),l.sampled&&l.initSpanRecorder(c._experiments&&c._experiments.maxSpans),a&&a.emit&&a.emit("startTransaction",l),l}function Fr(){let e=vt();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=bd),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=yd),Ka())}function wt(e,t){return T().captureException(e,{captureContext:t})}function Gr(e,t){T().setContext(e,t)}function Hr(e){T().withScope(e)}var Ed="7";function Sd(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function vd(e){return`${Sd(e)}${e.projectId}/envelope/`}function wd(e,t){return ji({sentry_key:e.publicKey,sentry_version:Ed,...t&&{sentry_client:`${t.name}/${t.version}`}})}function Xa(e,t={}){let n=typeof t=="string"?t:t.tunnel,r=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return n||`${vd(e)}?${wd(e,r)}`}function Id(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function Qa(e,t,n,r){let i=Gt(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:Fe(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Te(s,[o])}function ec(e,t,n,r){let i=Gt(n),s=e.type&&e.type!=="replay_event"?e.type:"event";Id(e,n&&n.sdk);let o=Un(e,i,r,t);return delete e.sdkProcessingMetadata,Te(o,[[{type:s},e]])}var tc=[];function Td(e){let t={};return e.forEach(n=>{let{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.keys(t).map(n=>t[n])}function ws(e){let t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=An(n(t)):r=t;let i=Td(r),s=Cd(i,o=>o.name==="Debug");if(s!==-1){let[o]=i.splice(s,1);i.push(o)}return i}function nc(e,t){let n={};return t.forEach(r=>{r&&Is(e,r,n)}),n}function Is(e,t,n){if(n[t.name]=t,tc.indexOf(t.name)===-1&&(t.setupOnce(zt,T),tc.push(t.name)),e.on&&typeof t.preprocessEvent=="function"){let r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,s)=>r(i,s,e))}if(e.addEventProcessor&&typeof t.processEvent=="function"){let r=t.processEvent.bind(t),i=Object.assign((s,o)=>r(s,o,e),{id:t.name});e.addEventProcessor(i)}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log(`Integration installed: ${t.name}`)}function Cd(e,t){for(let n=0;n<e.length;n++)if(t(e[n])===!0)return n;return-1}function Gn(e,t,n,r,i){let{normalizeDepth:s=3,normalizeMaxBreadth:o=1e3}=e,a={...t,event_id:t.event_id||n.event_id||V(),timestamp:t.timestamp||Ve()},c=n.integrations||e.integrations.map(f=>f.name);kd(a,e),Ad(a,c),t.type===void 0&&Rd(a,e.stackParser);let l=r;n.captureContext&&(l=nt.clone(l).update(n.captureContext));let d=be(a),u=i&&i.getEventProcessors?i.getEventProcessors():[];if(l){if(l.getAttachments){let f=[...n.attachments||[],...l.getAttachments()];f.length&&(n.attachments=f)}d=l.applyToEvent(a,n,u)}else d=Yt([...u,...Ln()],a,n);return d.then(f=>(f&&xd(f),typeof s=="number"&&s>0?Nd(f,s,o):f))}function kd(e,t){let{environment:n,release:r,dist:i,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?n:Ht),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&i!==void 0&&(e.dist=i),e.message&&(e.message=Le(e.message,s));let o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=Le(o.value,s));let a=e.request;a&&a.url&&(a.url=Le(a.url,s))}var rc=new WeakMap;function Rd(e,t){let n=G._sentryDebugIds;if(!n)return;let r,i=rc.get(t);i?r=i:(r=new Map,rc.set(t,r));let s=Object.keys(n).reduce((o,a)=>{let c,l=r.get(a);l?c=l:(c=t(a),r.set(a,c));for(let d=c.length-1;d>=0;d--){let u=c[d];if(u.filename){o[u.filename]=n[a];break}}return o},{});try{e.exception.values.forEach(o=>{o.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=s[a.filename])})})}catch{}}function xd(e){let t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.keys(t).forEach(r=>{n.push({type:"sourcemap",code_file:r,debug_id:t[r]})})}function Ad(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function Nd(e,t,n){if(!e)return null;let r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:fe(i.data,t,n)}}))},...e.user&&{user:fe(e.user,t,n)},...e.contexts&&{contexts:fe(e.contexts,t,n)},...e.extra&&{extra:fe(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=fe(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>(i.data&&(i.data=fe(i.data,t,n)),i))),r}var ic="Not capturing exception because it's already been captured.",Hn=class{constructor(t){if(this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Sr(t.dsn):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn("No DSN provided, client will not send events."),this._dsn){let n=Xa(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){if(Nr(t)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log(ic);return}let i=n&&n.event_id;return this._process(this.eventFromException(t,n).then(s=>this._captureEvent(s,n,r)).then(s=>{i=s})),i}captureMessage(t,n,r,i){let s=r&&r.event_id,o=Ut(t)?this.eventFromMessage(String(t),n,r):this.eventFromException(t,r);return this._process(o.then(a=>this._captureEvent(a,r,i)).then(a=>{s=a})),s}captureEvent(t,n,r){if(n&&n.originalException&&Nr(n.originalException)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log(ic);return}let i=n&&n.event_id;return this._process(this._captureEvent(t,n,r).then(s=>{i=s})),i}captureSession(t){typeof t.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Ze(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){let n=this._transport;return n?this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i)):be(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}setupIntegrations(t){(t&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&(this._integrations=nc(this,this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){Is(this,t,this._integrations)}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=ec(t,this._dsn,this._options._metadata,this._options.tunnel);for(let s of n.attachments||[])r=ps(r,_s(s,this._options.transportOptions&&this._options.transportOptions.textEncoder));let i=this._sendEnvelope(r);i&&i.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){let n=Qa(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){let i=`${t}:${n}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log(`Adding outcome: "${i}"`),this._outcomes[i]=this._outcomes[i]+1||1}}on(t,n){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(n)}emit(t,...n){this._hooks[t]&&this._hooks[t].forEach(r=>r(...n))}_updateSessionFromEvent(t,n){let r=!1,i=!1,s=n.exception&&n.exception.values;if(s){i=!0;for(let c of s){let l=c.mechanism;if(l&&l.handled===!1){r=!0;break}}}let o=t.status==="ok";(o&&t.errors===0||o&&r)&&(Ze(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new ye(n=>{let r=0,i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=i,t&&r>=t&&(clearInterval(s),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r){let i=this.getOptions(),s=Object.keys(this._integrations);return!n.integrations&&s.length>0&&(n.integrations=s),this.emit("preprocessEvent",t,n),Gn(i,t,n,r,this).then(o=>{if(o===null)return o;let{propagationContext:a}=o.sdkProcessingMetadata||{};if(!(o.contexts&&o.contexts.trace)&&a){let{traceId:l,spanId:d,parentSpanId:u,dsc:f}=a;o.contexts={trace:{trace_id:l,span_id:d,parent_span_id:u},...o.contexts};let p=f||rt(l,this,r);o.sdkProcessingMetadata={dynamicSamplingContext:p,...o.sdkProcessingMetadata}}return o})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){let s=i;s.logLevel==="log"?m.log(s.message):m.warn(s)}})}_processEvent(t,n,r){let i=this.getOptions(),{sampleRate:s}=i,o=oc(t),a=sc(t),c=t.type||"error",l=`before send for type \`${c}\``;if(a&&typeof s=="number"&&Math.random()>s)return this.recordDroppedEvent("sample_rate","error",t),St(new se(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));let d=c==="replay_event"?"replay":c;return this._prepareEvent(t,n,r).then(u=>{if(u===null)throw this.recordDroppedEvent("event_processor",d,t),new se("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return u;let p=Od(i,u,n);return Dd(p,l)}).then(u=>{if(u===null)throw this.recordDroppedEvent("before_send",d,t),new se(`${l} returned \`null\`, will not send event.`,"log");let f=r&&r.getSession();!o&&f&&this._updateSessionFromEvent(f,u);let p=u.transaction_info;if(o&&p&&u.transaction!==t.transaction){let _="custom";u.transaction_info={...p,source:_}}return this.sendEvent(u,n),u}).then(null,u=>{throw u instanceof se?u:(this.captureException(u,{data:{__sentry__:!0},originalException:u}),new se(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${u}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)return this._transport.send(t).then(null,n=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error("Error while sending event:",n)});(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error("Transport disabled")}_clearOutcomes(){let t=this._outcomes;return this._outcomes={},Object.keys(t).map(n=>{let[r,i]=n.split(":");return{reason:r,category:i,quantity:t[n]}})}};function Dd(e,t){let n=`${t} must return \`null\` or a valid event.`;if(bt(e))return e.then(r=>{if(!xe(r)&&r!==null)throw new se(n);return r},r=>{throw new se(`${t} rejected with ${r}`)});if(!xe(e)&&e!==null)throw new se(n);return e}function Od(e,t,n){let{beforeSend:r,beforeSendTransaction:i}=e;return sc(t)&&r?r(t,n):oc(t)&&i?i(t,n):t}function sc(e){return e.type===void 0}function oc(e){return e.type==="transaction"}function Ts(e,t){t.debug===!0&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?m.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));let n=T();n.getScope().update(t.initialScope);let i=new e(t);n.bindClient(i)}var Md=30;function Kt(e,t,n=is(e.bufferSize||Md)){let r={},i=o=>n.drain(o);function s(o){let a=[];if(Mr(o,(u,f)=>{let p=Br(f);if(gs(r,p)){let _=ac(u,f);e.recordDroppedEvent("ratelimit_backoff",p,_)}else a.push(u)}),a.length===0)return be();let c=Te(o[0],a),l=u=>{Mr(c,(f,p)=>{let _=ac(f,p);e.recordDroppedEvent(u,Br(p),_)})},d=()=>t({body:hs(c,e.textEncoder)}).then(u=>(u.statusCode!==void 0&&(u.statusCode<200||u.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn(`Sentry responded with status code ${u.statusCode} to sent event.`),r=ys(r,u),u),u=>{throw l("network_error"),u});return n.add(d).then(u=>u,u=>{if(u instanceof se)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error("Skipped sending event because buffer is full."),l("queue_overflow"),be();throw u})}return s.__sentry__baseTransport__=!0,{send:s,flush:i}}function ac(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}var it="7.74.1";var It={};ki(It,{FunctionToString:()=>Jt,InboundFilters:()=>Xt});var cc,Jt=class e{static __initStatic(){this.id="FunctionToString"}constructor(){this.name=e.id}setupOnce(){cc=Function.prototype.toString;try{Function.prototype.toString=function(...t){let n=Et(this)||this;return cc.apply(n,t)}}catch{}}};Jt.__initStatic();var Bd=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Ud=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],Xt=class e{static __initStatic(){this.id="InboundFilters"}constructor(t={}){this.name=e.id,this._options=t}setupOnce(t,n){}processEvent(t,n,r){let i=r.getOptions(),s=Ld(this._options,i);return Pd(t,s)?null:t}};Xt.__initStatic();function Ld(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Bd],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:Ud],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function Pd(e,t){return t.ignoreInternal&&Wd(e)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn(`Event dropped due to being internal Sentry Error.
Event: ${De(e)}`),!0):Fd(e,t.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${De(e)}`),!0):Gd(e,t.ignoreTransactions)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${De(e)}`),!0):Hd(e,t.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${De(e)}.
Url: ${Yr(e)}`),!0):Yd(e,t.allowUrls)?!1:((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${De(e)}.
Url: ${Yr(e)}`),!0)}function Fd(e,t){return e.type||!t||!t.length?!1:zd(e).some(n=>Pe(n,t))}function Gd(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;let n=e.transaction;return n?Pe(n,t):!1}function Hd(e,t){if(!t||!t.length)return!1;let n=Yr(e);return n?Pe(n,t):!1}function Yd(e,t){if(!t||!t.length)return!0;let n=Yr(e);return n?Pe(n,t):!0}function zd(e){let t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&t.length===0&&m.error(`Could not extract message for event ${De(e)}`),t}function Wd(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function $d(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Yr(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?$d(t):null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error(`Cannot extract url for event ${De(e)}`),null}}function Cs(e,t){let n=t.getClient(),r=n&&n.getDsn(),i=n&&n.getOptions().tunnel;return Zd(e,r)||Vd(e,i)}function Vd(e,t){return t?uc(e)===uc(t):!1}function Zd(e,t){return t?e.includes(t.host):!1}function uc(e){return e[e.length-1]==="/"?e.slice(0,-1):e}var O=G,ks=0;function Rs(){return ks>0}function uf(){ks++,setTimeout(()=>{ks--})}function st(e,t={},n){if(typeof e!="function")return e;try{let i=e.__sentry_wrapped__;if(i)return i;if(Et(e))return e}catch{return e}let r=function(){let i=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);let s=i.map(o=>st(o,t));return e.apply(this,s)}catch(s){throw uf(),Hr(o=>{o.addEventProcessor(a=>(t.mechanism&&(Pt(a,void 0,void 0),We(a,t.mechanism)),a.extra={...a.extra,arguments:i},a)),wt(s)}),s}};try{for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}vr(r,e),tt(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function Ns(e,t){let n=Ds(e,t),r={type:t&&t.name,value:pf(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function lf(e,t,n,r){let s=T().getClient(),o=s&&s.getOptions().normalizeDepth,a={exception:{values:[{type:yt(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:hf(t,{isUnhandledRejection:r})}]},extra:{__serialized__:Or(t,o)}};if(n){let c=Ds(e,n);c.length&&(a.exception.values[0].stacktrace={frames:c})}return a}function xs(e,t){return{exception:{values:[Ns(e,t)]}}}function Ds(e,t){let n=t.stacktrace||t.stack||"",r=ff(t);try{return e(n,r)}catch{}return[]}var df=/Minified React error #\d+;/i;function ff(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(df.test(e.message))return 1}return 0}function pf(e){let t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function lc(e,t,n,r){let i=n&&n.syntheticException||void 0,s=zr(e,t,i,r);return We(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),be(s)}function dc(e,t,n="info",r,i){let s=r&&r.syntheticException||void 0,o=As(e,t,s,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),be(o)}function zr(e,t,n,r,i){let s;if(Bt(t)&&t.error)return xs(e,t.error);if(mr(t)||Fi(t)){let o=t;if("stack"in t)s=xs(e,t);else{let a=o.name||(mr(o)?"DOMError":"DOMException"),c=o.message?`${a}: ${o.message}`:a;s=As(e,c,n,r),Pt(s,c)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}return wn(t)?xs(e,t):xe(t)||yt(t)?(s=lf(e,t,n,i),We(s,{synthetic:!0}),s):(s=As(e,t,n,r),Pt(s,`${t}`,void 0),We(s,{synthetic:!0}),s)}function As(e,t,n,r){let i={message:t};if(r&&n){let s=Ds(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]})}return i}function hf(e,{isUnhandledRejection:t}){let n=qi(e),r=t?"promise rejection":"exception";return Bt(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:yt(e)?`Event \`${_f(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function _f(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function fc(e,{metadata:t,tunnel:n,dsn:r}){let i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:Fe(r)}},s=mf(e);return Te(i,[s])}function mf(e){return[{type:"user_report"},e]}var Wr=class extends Hn{constructor(t){let n=O.SENTRY_SDK_SOURCE||ns();t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${n}:@sentry/browser`,version:it}],version:it},super(t),t.sendClientReports&&O.document&&O.document.addEventListener("visibilitychange",()=>{O.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return lc(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return dc(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn("SDK not enabled, will not capture user feedback.");return}let n=fc(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}_flushOutcomes(){let t=this._clearOutcomes();if(t.length===0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("Sending outcomes:",t);let n=ms(t,this._options.tunnel&&Fe(this._dsn));this._sendEnvelope(n)}};var Yn;function pc(){if(Yn)return Yn;if(Rn(O.fetch))return Yn=O.fetch.bind(O);let e=O.document,t=O.fetch;if(e&&typeof e.createElement=="function")try{let n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);let r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return Yn=t.bind(O)}function hc(){Yn=void 0}function _c(e,t=pc()){let n=0,r=0;function i(s){let o=s.body.length;n+=o,r++;let a={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,a).then(c=>(n-=o,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return hc(),n-=o,r--,St(c)}}return Kt(e,i)}var gf=4;function mc(e){function t(n){return new ye((r,i)=>{let s=new XMLHttpRequest;s.onerror=i,s.onreadystatechange=()=>{s.readyState===gf&&r({statusCode:s.status,headers:{"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")}})},s.open("POST",e.url);for(let o in e.headers)Object.prototype.hasOwnProperty.call(e.headers,o)&&s.setRequestHeader(o,e.headers[o]);s.send(n.body)})}return Kt(e,t)}var $r="?";var yf=30,bf=40,Ef=50;function Os(e,t,n,r){let i={filename:e,function:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}var Sf=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,vf=/\((\S*)(?::(\d+))(?::(\d+))\)/,wf=e=>{let t=Sf.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){let s=vf.exec(t[2]);s&&(t[2]=s[1],t[3]=s[2],t[4]=s[3])}let[r,i]=yc(t[1]||$r,t[2]);return Os(i,r,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},If=[yf,wf],Tf=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Cf=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,kf=e=>{let t=Tf.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let s=Cf.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],i=t[1]||$r;return[i,r]=yc(i,r),Os(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Rf=[Ef,kf],xf=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Af=e=>{let t=xf.exec(e);return t?Os(t[2],t[1]||$r,+t[3],t[4]?+t[4]:void 0):void 0},Nf=[bf,Af];var Df=[If,Rf,Nf],gc=Ir(...Df),yc=(e,t)=>{let n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:$r,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};var je=class e{static __initStatic(){this.id="GlobalHandlers"}constructor(t){this.name=e.id,this._options={onerror:!0,onunhandledrejection:!0,...t},this._installFunc={onerror:Of,onunhandledrejection:Mf}}setupOnce(){Error.stackTraceLimit=50;let t=this._options;for(let n in t){let r=this._installFunc[n];r&&t[n]&&(Lf(n),r(),this._installFunc[n]=void 0)}}};je.__initStatic();function Of(){W("error",e=>{let[t,n,r]=Sc();if(!t.getIntegration(je))return;let{msg:i,url:s,line:o,column:a,error:c}=e;if(Rs()||c&&c.__sentry_own_request__)return;let l=c===void 0&&de(i)?Uf(i,s,o,a):bc(zr(n,c||i,void 0,r,!1),s,o,a);l.level="error",Ec(t,c,l,"onerror")})}function Mf(){W("unhandledrejection",e=>{let[t,n,r]=Sc();if(!t.getIntegration(je))return;let i=e;try{"reason"in e?i=e.reason:"detail"in e&&"reason"in e.detail&&(i=e.detail.reason)}catch{}if(Rs()||i&&i.__sentry_own_request__)return!0;let s=Ut(i)?Bf(i):zr(n,i,void 0,r,!0);s.level="error",Ec(t,i,s,"onunhandledrejection")})}function Bf(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function Uf(e,t,n,r){let i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,s=Bt(e)?e.message:e,o="Error",a=s.match(i);return a&&(o=a[1],s=a[2]),bc({exception:{values:[{type:o,value:s}]}},t,n,r)}function bc(e,t,n,r){let i=e.exception=e.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},c=a.frames=a.frames||[],l=isNaN(parseInt(r,10))?void 0:r,d=isNaN(parseInt(n,10))?void 0:n,u=de(t)&&t.length>0?t:$i();return c.length===0&&c.push({colno:l,filename:u,function:"?",in_app:!0,lineno:d}),e}function Lf(e){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log(`Global Handler attached: ${e}`)}function Ec(e,t,n,r){We(n,{handled:!1,type:r}),e.captureEvent(n,{originalException:t})}function Sc(){let e=T(),t=e.getClient(),n=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[e,n.stackParser,n.attachStacktrace]}var Pf=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Tt=class e{static __initStatic(){this.id="TryCatch"}constructor(t){this.name=e.id,this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t}}setupOnce(){this._options.setTimeout&&Z(O,"setTimeout",vc),this._options.setInterval&&Z(O,"setInterval",vc),this._options.requestAnimationFrame&&Z(O,"requestAnimationFrame",Ff),this._options.XMLHttpRequest&&"XMLHttpRequest"in O&&Z(XMLHttpRequest.prototype,"send",Gf);let t=this._options.eventTarget;t&&(Array.isArray(t)?t:Pf).forEach(Hf)}};Tt.__initStatic();function vc(e){return function(...t){let n=t[0];return t[0]=st(n,{mechanism:{data:{function:we(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Ff(e){return function(t){return e.apply(this,[st(t,{mechanism:{data:{function:"requestAnimationFrame",handler:we(e)},handled:!1,type:"instrument"}})])}}function Gf(e){return function(...t){let n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&Z(n,i,function(s){let o={mechanism:{data:{function:i,handler:we(s)},handled:!1,type:"instrument"}},a=Et(s);return a&&(o.mechanism.data.handler=we(a)),st(s,o)})}),e.apply(this,t)}}function Hf(e){let t=O,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Z(n,"addEventListener",function(r){return function(i,s,o){try{typeof s.handleEvent=="function"&&(s.handleEvent=st(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:we(s),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[i,st(s,{mechanism:{data:{function:"addEventListener",handler:we(s),target:e},handled:!1,type:"instrument"}}),o])}}),Z(n,"removeEventListener",function(r){return function(i,s,o){let a=s;try{let c=a&&a.__sentry_wrapped__;c&&r.call(this,i,c,o)}catch{}return r.call(this,i,a,o)}}))}var Vr=1024,Ct=class e{static __initStatic(){this.id="Breadcrumbs"}constructor(t){this.name=e.id,this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t}}setupOnce(){if(this.options.console&&W("console",Wf),this.options.dom&&W("dom",zf(this.options.dom)),this.options.xhr&&W("xhr",$f),this.options.fetch&&W("fetch",Vf),this.options.history&&W("history",Zf),this.options.sentry){let t=T().getClient();t&&t.on&&t.on("beforeSendEvent",Yf)}}};Ct.__initStatic();function Yf(e){T().addBreadcrumb({category:`sentry.${e.type==="transaction"?"transaction":"event"}`,event_id:e.event_id,level:e.level,message:De(e)},{event:e})}function zf(e){function t(n){let r,i=typeof e=="object"?e.serializeAttribute:void 0,s=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;s&&s>Vr&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn(`\`dom.maxStringLength\` cannot exceed ${Vr}, but a value of ${s} was configured. Sentry will use ${Vr} instead.`),s=Vr),typeof i=="string"&&(i=[i]);try{let o=n.event;r=jf(o)?ge(o.target,{keyAttrs:i,maxStringLength:s}):ge(o,{keyAttrs:i,maxStringLength:s})}catch{r="<unknown>"}r.length!==0&&T().addBreadcrumb({category:`ui.${n.name}`,message:r},{event:n.event,name:n.name,global:n.global})}return t}function Wf(e){let t={category:"console",data:{arguments:e.args,logger:"console"},level:ss(e.level),message:gr(e.args," ")};if(e.level==="assert")if(e.args[0]===!1)t.message=`Assertion failed: ${gr(e.args.slice(1)," ")||"console.assert"}`,t.data.arguments=e.args.slice(1);else return;T().addBreadcrumb(t,{input:e.args,level:e.level})}function $f(e){let{startTimestamp:t,endTimestamp:n}=e,r=e.xhr[Ie];if(!t||!n||!r)return;let{method:i,url:s,status_code:o,body:a}=r,c={method:i,url:s,status_code:o},l={xhr:e.xhr,input:a,startTimestamp:t,endTimestamp:n};T().addBreadcrumb({category:"xhr",data:c,type:"http"},l)}function Vf(e){let{startTimestamp:t,endTimestamp:n}=e;if(n&&!(e.fetchData.url.match(/sentry_key/)&&e.fetchData.method==="POST"))if(e.error){let r=e.fetchData,i={data:e.error,input:e.args,startTimestamp:t,endTimestamp:n};T().addBreadcrumb({category:"fetch",data:r,level:"error",type:"http"},i)}else{let r={...e.fetchData,status_code:e.response&&e.response.status},i={input:e.args,response:e.response,startTimestamp:t,endTimestamp:n};T().addBreadcrumb({category:"fetch",data:r,type:"http"},i)}}function Zf(e){let t=e.from,n=e.to,r=Dn(O.location.href),i=Dn(t),s=Dn(n);i.path||(i=r),r.protocol===s.protocol&&r.host===s.host&&(n=s.relative),r.protocol===i.protocol&&r.host===i.host&&(t=i.relative),T().addBreadcrumb({category:"navigation",data:{from:t,to:n}})}function jf(e){return!!e&&!!e.target}var qf="cause",Kf=5,kt=class e{static __initStatic(){this.id="LinkedErrors"}constructor(t={}){this.name=e.id,this._key=t.key||qf,this._limit=t.limit||Kf}setupOnce(){}preprocessEvent(t,n,r){let i=r.getOptions();Wi(Ns,i.stackParser,i.maxValueLength,this._key,this._limit,t,n)}};kt.__initStatic();var Rt=class e{static __initStatic(){this.id="HttpContext"}constructor(){this.name=e.id}setupOnce(){}preprocessEvent(t){if(!O.navigator&&!O.location&&!O.document)return;let n=t.request&&t.request.url||O.location&&O.location.href,{referrer:r}=O.document||{},{userAgent:i}=O.navigator||{},s={...t.request&&t.request.headers,...r&&{Referer:r},...i&&{"User-Agent":i}},o={...t.request,...n&&{url:n},headers:s};t.request=o}};Rt.__initStatic();var xt=class e{static __initStatic(){this.id="Dedupe"}constructor(){this.name=e.id}setupOnce(t,n){}processEvent(t){if(t.type)return t;try{if(Jf(t,this._previousEvent))return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return this._previousEvent=t}};xt.__initStatic();function Jf(e,t){return t?!!(Xf(e,t)||Qf(e,t)):!1}function Xf(e,t){let n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Cc(e,t)||!Tc(e,t))}function Qf(e,t){let n=wc(t),r=wc(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Cc(e,t)||!Tc(e,t))}function Tc(e,t){let n=Ic(e),r=Ic(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){let s=r[i],o=n[i];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function Cc(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function wc(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Ic(e){let t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}var Rc=[new It.InboundFilters,new It.FunctionToString,new Tt,new Ct,new je,new kt,new xt,new Rt];function Ms(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=Rc),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),O.SENTRY_RELEASE&&O.SENTRY_RELEASE.id&&(e.release=O.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);let t={...e,stackParser:Ji(e.stackParser||gc),integrations:ws(e),transport:e.transport||(Tr()?_c:mc)};Ts(Wr,t),e.autoSessionTracking&&ep()}function kc(e){e.startSession({ignoreDuration:!0}),e.captureSession()}function ep(){if(typeof O.document>"u"){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}let e=T();e.captureSession&&(kc(e),W("history",({from:t,to:n})=>{t===void 0||t===n||kc(T())}))}var Bs={};ki(Bs,{Breadcrumbs:()=>Ct,Dedupe:()=>xt,GlobalHandlers:()=>je,HttpContext:()=>Rt,LinkedErrors:()=>kt,TryCatch:()=>Tt});var P=G,co="sentryReplaySession",tp="replay_event",uo="Unable to send Replay",np=3e5,rp=9e5,ip=5e3,sp=5500,op=6e4,ap=5e3,cp=3,Zr=15e4,jr=5e3,up=3e3,lp=300,lo=2e7,dp=4999,fp=15e3,xc=36e5,Q;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Q||(Q={}));function pp(e){return e.nodeType===e.ELEMENT_NODE}function $n(e){let t=e?.host;return t?.shadowRoot===e}function Vn(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function hp(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e}function _p(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function ei(e){try{let t=e.rules||e.cssRules;return t?hp(Array.from(t,Xc).join("")):null}catch{return null}}function Xc(e){let t;if(gp(e))try{t=ei(e.styleSheet)||_p(e)}catch{}else if(yp(e)&&e.selectorText.includes(":"))return mp(e.cssText);return t||e.cssText}function mp(e){let t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function gp(e){return"styleSheet"in e}function yp(e){return"selectorText"in e}var ti=class{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){var n;if(!t)return-1;let r=(n=this.getMeta(t))===null||n===void 0?void 0:n.id;return r??-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){let r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){let r=this.getNode(t);if(r){let i=this.nodeMetaMap.get(r);i&&this.nodeMetaMap.set(n,i)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function bp(){return new ti}function pi({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function jn({isMasked:e,element:t,value:n,maskInputFn:r}){let i=n||"";return e?(r&&(i=r(i,t)),"*".repeat(i.length)):i}function an(e){return e.toLowerCase()}function Fs(e){return e.toUpperCase()}var Ac="__rrweb_original__";function Ep(e){let t=e.getContext("2d");if(!t)return!0;let n=50;for(let r=0;r<e.width;r+=n)for(let i=0;i<e.height;i+=n){let s=t.getImageData,o=Ac in s?s[Ac]:s;if(new Uint32Array(o.call(t,r,i,Math.min(n,e.width-r),Math.min(n,e.height-i)).data.buffer).some(c=>c!==0))return!1}return!0}function fo(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?an(t):null}function ni(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}var Sp=1,vp=new RegExp("[^a-z0-9-_:]"),qn=-2;function Qc(){return Sp++}function wp(e){if(e instanceof HTMLFormElement)return"form";let t=an(e.tagName);return vp.test(t)?"div":t}function Ip(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}var Qt,Nc,Tp=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Cp=/^(?:[a-z+]+:)?\/\//i,kp=/^www\..*/i,Rp=/^(data:)([^,]*),(.*)/i;function ri(e,t){return(e||"").replace(Tp,(n,r,i,s,o,a)=>{let c=i||o||a,l=r||s||"";if(!c)return n;if(Cp.test(c)||kp.test(c))return`url(${l}${c}${l})`;if(Rp.test(c))return`url(${l}${c}${l})`;if(c[0]==="/")return`url(${l}${Ip(t)+c}${l})`;let d=t.split("/"),u=c.split("/");d.pop();for(let f of u)f!=="."&&(f===".."?d.pop():d.push(f));return`url(${l}${d.join("/")}${l})`})}var xp=/^[^ \t\n\r\u000c]+/,Ap=/^[, \t\n\r\u000c]+/;function Np(e,t){if(t.trim()==="")return t;let n=0;function r(s){let o,a=s.exec(t.substring(n));return a?(o=a[0],n+=o.length,o):""}let i=[];for(;r(Ap),!(n>=t.length);){let s=r(xp);if(s.slice(-1)===",")s=tn(e,s.substring(0,s.length-1)),i.push(s);else{let o="";s=tn(e,s);let a=!1;for(;;){let c=t.charAt(n);if(c===""){i.push((s+o).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,i.push((s+o).trim());break}else c==="("&&(a=!0);o+=c,n+=1}}}return i.join(", ")}function tn(e,t){if(!t||t.trim()==="")return t;let n=e.createElement("a");return n.href=t,n.href}function Dp(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function po(){let e=document.createElement("a");return e.href="",e.href}function eu(e,t,n,r,i,s){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?tn(e,r):n==="srcset"?Np(e,r):n==="style"?ri(r,po()):t==="object"&&n==="data"?tn(e,r):typeof s=="function"?s(n,r,i):r)}function tu(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function Op(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let i=e.classList.length;i--;){let s=e.classList[i];if(t.test(s))return!0}if(n)return e.matches(n)}catch{}return!1}function Mp(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function At(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:At(e.parentNode,t,n,r+1)}function nn(e,t){return n=>{let r=n;if(r===null)return!1;if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(Mp(r,e))return!0}return!!(t&&r.matches(t))}}function cn(e,t,n,r,i,s){try{let o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(o===null)return!1;let a=-1,c=-1;if(s){if(c=At(o,nn(r,i)),c<0)return!0;a=At(o,nn(t,n),c>=0?c:1/0)}else{if(a=At(o,nn(t,n)),a<0)return!1;c=At(o,nn(r,i),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!s}catch{}return!!s}function Bp(e,t,n){let r=e.contentWindow;if(!r)return;let i=!1,s;try{s=r.document.readyState}catch{return}if(s!=="complete"){let a=setTimeout(()=>{i||(t(),i=!0)},n);e.addEventListener("load",()=>{clearTimeout(a),i=!0,t()});return}let o="about:blank";if(r.location.href!==o||e.src===o||e.src==="")return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function Up(e,t,n){let r=!1,i;try{i=e.sheet}catch{return}if(i)return;let s=setTimeout(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{clearTimeout(s),r=!0,t()})}function Lp(e,t){let{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskAttributeFn:c,maskTextClass:l,unmaskTextClass:d,maskTextSelector:u,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:_={},maskTextFn:h,maskInputFn:y,dataURLOptions:g={},inlineImages:b,recordCanvas:w,keepIframeSrcFn:I,newlyAddedElement:x=!1}=t,C=Pp(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Q.Document,childNodes:[],compatMode:e.compatMode}:{type:Q.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Q.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:C};case e.ELEMENT_NODE:return Gp(e,{doc:n,blockClass:i,blockSelector:s,unblockSelector:o,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:_,maskInputFn:y,dataURLOptions:g,inlineImages:b,recordCanvas:w,keepIframeSrcFn:I,newlyAddedElement:x,rootId:C,maskAllText:a,maskTextClass:l,unmaskTextClass:d,maskTextSelector:u,unmaskTextSelector:f});case e.TEXT_NODE:return Fp(e,{maskAllText:a,maskTextClass:l,unmaskTextClass:d,maskTextSelector:u,unmaskTextSelector:f,maskTextFn:h,maskInputOptions:_,maskInputFn:y,rootId:C});case e.CDATA_SECTION_NODE:return{type:Q.CDATA,textContent:"",rootId:C};case e.COMMENT_NODE:return{type:Q.Comment,textContent:e.textContent||"",rootId:C};default:return!1}}function Pp(e,t){if(!t.hasNode(e))return;let n=t.getId(e);return n===1?void 0:n}function Fp(e,t){var n;let{maskAllText:r,maskTextClass:i,unmaskTextClass:s,maskTextSelector:o,unmaskTextSelector:a,maskTextFn:c,maskInputOptions:l,maskInputFn:d,rootId:u}=t,f=e.parentNode&&e.parentNode.tagName,p=e.textContent,_=f==="STYLE"?!0:void 0,h=f==="SCRIPT"?!0:void 0,y=f==="TEXTAREA"?!0:void 0;if(_&&p){try{e.nextSibling||e.previousSibling||!((n=e.parentNode.sheet)===null||n===void 0)&&n.cssRules&&(p=ei(e.parentNode.sheet))}catch(b){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${b}`,e)}p=ri(p,po())}h&&(p="SCRIPT_PLACEHOLDER");let g=cn(e,i,o,s,a,r);if(!_&&!h&&!y&&p&&g&&(p=c?c(p):p.replace(/[\S]/g,"*")),y&&p&&(l.textarea||g)&&(p=d?d(p,e.parentNode):p.replace(/[\S]/g,"*")),f==="OPTION"&&p){let b=pi({type:null,tagName:f,maskInputOptions:l});p=jn({isMasked:cn(e,i,o,s,a,b),element:e,value:p,maskInputFn:d})}return{type:Q.Text,textContent:p||"",isStyle:_,rootId:u}}function Gp(e,t){let{doc:n,blockClass:r,blockSelector:i,unblockSelector:s,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:l,dataURLOptions:d={},inlineImages:u,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:_=!1,rootId:h,maskAllText:y,maskTextClass:g,unmaskTextClass:b,maskTextSelector:w,unmaskTextSelector:I}=t,x=Op(e,r,i,s),C=wp(e),E={},R=e.attributes.length;for(let S=0;S<R;S++){let N=e.attributes[S];tu(C,N.name,N.value)||(E[N.name]=eu(n,C,an(N.name),N.value,e,c))}if(C==="link"&&o){let S=Array.from(n.styleSheets).find(H=>H.href===e.href),N=null;S&&(N=ei(S)),N&&(delete E.rel,delete E.href,E._cssText=ri(N,S.href))}if(C==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let S=ei(e.sheet);S&&(E._cssText=ri(S,po()))}if(C==="input"||C==="textarea"||C==="select"||C==="option"){let S=e,N=fo(S),H=ni(S,Fs(C),N),te=S.checked;if(N!=="submit"&&N!=="button"&&H){let re=cn(S,g,w,b,I,pi({type:N,tagName:Fs(C),maskInputOptions:a}));E.value=jn({isMasked:re,element:S,value:H,maskInputFn:l})}te&&(E.checked=te)}if(C==="option"&&(e.selected&&!a.select?E.selected=!0:delete E.selected),C==="canvas"&&f){if(e.__context==="2d")Ep(e)||(E.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){let S=e.toDataURL(d.type,d.quality),N=document.createElement("canvas");N.width=e.width,N.height=e.height;let H=N.toDataURL(d.type,d.quality);S!==H&&(E.rr_dataURL=S)}}if(C==="img"&&u){Qt||(Qt=n.createElement("canvas"),Nc=Qt.getContext("2d"));let S=e,N=S.crossOrigin;S.crossOrigin="anonymous";let H=()=>{S.removeEventListener("load",H);try{Qt.width=S.naturalWidth,Qt.height=S.naturalHeight,Nc.drawImage(S,0,0),E.rr_dataURL=Qt.toDataURL(d.type,d.quality)}catch(te){console.warn(`Cannot inline img src=${S.currentSrc}! Error: ${te}`)}N?E.crossOrigin=N:S.removeAttribute("crossorigin")};S.complete&&S.naturalWidth!==0?H():S.addEventListener("load",H)}if((C==="audio"||C==="video")&&(E.rr_mediaState=e.paused?"paused":"played",E.rr_mediaCurrentTime=e.currentTime),_||(e.scrollLeft&&(E.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(E.rr_scrollTop=e.scrollTop)),x){let{width:S,height:N}=e.getBoundingClientRect();E={class:E.class,rr_width:`${S}px`,rr_height:`${N}px`}}C==="iframe"&&!p(E.src)&&(e.contentDocument||(E.rr_src=E.src),delete E.src);let L;try{customElements.get(C)&&(L=!0)}catch{}return{type:Q.Element,tagName:C,attributes:E,childNodes:[],isSVG:Dp(e)||void 0,needBlock:x,rootId:h,isCustom:L}}function Y(e){return e==null?"":e.toLowerCase()}function Hp(e,t){if(t.comment&&e.type===Q.Comment)return!0;if(e.type===Q.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(Y(e.attributes.name).match(/^msapplication-tile(image|color)$/)||Y(e.attributes.name)==="application-name"||Y(e.attributes.rel)==="icon"||Y(e.attributes.rel)==="apple-touch-icon"||Y(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&Y(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(Y(e.attributes.property).match(/^(og|twitter|fb):/)||Y(e.attributes.name).match(/^(og|twitter):/)||Y(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(Y(e.attributes.name)==="robots"||Y(e.attributes.name)==="googlebot"||Y(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(Y(e.attributes.name)==="author"||Y(e.attributes.name)==="generator"||Y(e.attributes.name)==="framework"||Y(e.attributes.name)==="publisher"||Y(e.attributes.name)==="progid"||Y(e.attributes.property).match(/^article:/)||Y(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(Y(e.attributes.name)==="google-site-verification"||Y(e.attributes.name)==="yandex-verification"||Y(e.attributes.name)==="csrf-token"||Y(e.attributes.name)==="p:domain_verify"||Y(e.attributes.name)==="verify-v1"||Y(e.attributes.name)==="verification"||Y(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function rn(e,t){let{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:u,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:_={},maskAttributeFn:h,maskTextFn:y,maskInputFn:g,slimDOMOptions:b,dataURLOptions:w={},inlineImages:I=!1,recordCanvas:x=!1,onSerialize:C,onIframeLoad:E,iframeLoadTimeout:R=5e3,onStylesheetLoad:L,stylesheetLoadTimeout:S=5e3,keepIframeSrcFn:N=()=>!1,newlyAddedElement:H=!1}=t,{preserveWhiteSpace:te=!0}=t,re=Lp(e,{doc:n,mirror:r,blockClass:i,blockSelector:s,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:u,inlineStylesheet:p,maskInputOptions:_,maskAttributeFn:h,maskTextFn:y,maskInputFn:g,dataURLOptions:w,inlineImages:I,recordCanvas:x,keepIframeSrcFn:N,newlyAddedElement:H});if(!re)return console.warn(e,"not serialized"),null;let he;r.hasNode(e)?he=r.getId(e):Hp(re,b)||!te&&re.type===Q.Text&&!re.isStyle&&!re.textContent.replace(/^\s+|\s+$/gm,"").length?he=qn:he=Qc();let F=Object.assign(re,{id:he});if(r.add(e,F),he===qn)return null;C&&C(e);let Ee=!f;if(F.type===Q.Element){Ee=Ee&&!F.needBlock,delete F.needBlock;let K=e.shadowRoot;K&&Vn(K)&&(F.isShadowHost=!0)}if((F.type===Q.Document||F.type===Q.Element)&&Ee){b.headWhitespace&&F.type===Q.Element&&F.tagName==="head"&&(te=!1);let K={doc:n,mirror:r,blockClass:i,blockSelector:s,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:u,skipChild:f,inlineStylesheet:p,maskInputOptions:_,maskAttributeFn:h,maskTextFn:y,maskInputFn:g,slimDOMOptions:b,dataURLOptions:w,inlineImages:I,recordCanvas:x,preserveWhiteSpace:te,onSerialize:C,onIframeLoad:E,iframeLoadTimeout:R,onStylesheetLoad:L,stylesheetLoadTimeout:S,keepIframeSrcFn:N};for(let Se of Array.from(e.childNodes)){let ve=rn(Se,K);ve&&F.childNodes.push(ve)}if(pp(e)&&e.shadowRoot)for(let Se of Array.from(e.shadowRoot.childNodes)){let ve=rn(Se,K);ve&&(Vn(e.shadowRoot)&&(ve.isShadow=!0),F.childNodes.push(ve))}}return e.parentNode&&$n(e.parentNode)&&Vn(e.parentNode)&&(F.isShadow=!0),F.type===Q.Element&&F.tagName==="iframe"&&Bp(e,()=>{let K=e.contentDocument;if(K&&E){let Se=rn(K,{doc:K,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:p,maskInputOptions:_,maskAttributeFn:h,maskTextFn:y,maskInputFn:g,slimDOMOptions:b,dataURLOptions:w,inlineImages:I,recordCanvas:x,preserveWhiteSpace:te,onSerialize:C,onIframeLoad:E,iframeLoadTimeout:R,onStylesheetLoad:L,stylesheetLoadTimeout:S,keepIframeSrcFn:N});Se&&E(e,Se)}},R),F.type===Q.Element&&F.tagName==="link"&&F.attributes.rel==="stylesheet"&&Up(e,()=>{if(L){let K=rn(e,{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:p,maskInputOptions:_,maskAttributeFn:h,maskTextFn:y,maskInputFn:g,slimDOMOptions:b,dataURLOptions:w,inlineImages:I,recordCanvas:x,preserveWhiteSpace:te,onSerialize:C,onIframeLoad:E,iframeLoadTimeout:R,onStylesheetLoad:L,stylesheetLoadTimeout:S,keepIframeSrcFn:N});K&&L(e,K)}},S),F}function Yp(e,t){let{mirror:n=new ti,blockClass:r="rr-block",blockSelector:i=null,unblockSelector:s=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:l=null,unmaskTextSelector:d=null,inlineStylesheet:u=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:_=!1,maskAttributeFn:h,maskTextFn:y,maskInputFn:g,slimDOM:b=!1,dataURLOptions:w,preserveWhiteSpace:I,onSerialize:x,onIframeLoad:C,iframeLoadTimeout:E,onStylesheetLoad:R,stylesheetLoadTimeout:L,keepIframeSrcFn:S=()=>!1}=t||{};return rn(e,{doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,maskAllText:o,maskTextClass:a,unmaskTextClass:c,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:u,maskInputOptions:_===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:_===!1?{}:_,maskAttributeFn:h,maskTextFn:y,maskInputFn:g,slimDOMOptions:b===!0||b==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:b==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:b===!1?{}:b,dataURLOptions:w,inlineImages:f,recordCanvas:p,preserveWhiteSpace:I,onSerialize:x,onIframeLoad:C,iframeLoadTimeout:E,onStylesheetLoad:R,stylesheetLoadTimeout:L,keepIframeSrcFn:S,newlyAddedElement:!1})}function ue(e,t,n=document){let r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}var en=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,Dc={map:{},getId(){return console.error(en),-1},getNode(){return console.error(en),null},removeNodeFromMap(){console.error(en)},has(){return console.error(en),!1},reset(){console.error(en)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Dc=new Proxy(Dc,{get(e,t,n){return t==="map"&&console.error(en),Reflect.get(e,t,n)}}));function Kn(e,t,n={}){let r=null,i=0;return function(...s){let o=Date.now();!i&&n.leading===!1&&(i=o);let a=t-(o-i),c=this;a<=0||a>t?(r&&(clearTimeout(r),r=null),i=o,e.apply(c,s)):!r&&n.trailing!==!1&&(r=setTimeout(()=>{i=n.leading===!1?0:Date.now(),r=null,e.apply(c,s)},a))}}function hi(e,t,n,r,i=window){let s=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(o){setTimeout(()=>{n.set.call(this,o)},0),s&&s.set&&s.set.call(this,o)}}),()=>hi(e,t,s||{},!0)}function hn(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],i=n(r);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch{return()=>{}}}var ii=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(ii=()=>new Date().getTime());function nu(e){var t,n,r,i,s,o;let a=e.document;return{left:a.scrollingElement?a.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:a?.documentElement.scrollLeft||((n=(t=a?.body)===null||t===void 0?void 0:t.parentElement)===null||n===void 0?void 0:n.scrollLeft)||((r=a?.body)===null||r===void 0?void 0:r.scrollLeft)||0,top:a.scrollingElement?a.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:a?.documentElement.scrollTop||((s=(i=a?.body)===null||i===void 0?void 0:i.parentElement)===null||s===void 0?void 0:s.scrollTop)||((o=a?.body)===null||o===void 0?void 0:o.scrollTop)||0}}function ru(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function iu(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function le(e,t,n,r,i){if(!e)return!1;let s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(!s)return!1;let o=nn(t,n);if(!i){let l=r&&s.matches(r);return o(s)&&!l}let a=At(s,o),c=-1;return a<0?!1:(r&&(c=At(s,nn(null,r))),a>-1&&c<0?!0:a<c)}function zp(e,t){return t.getId(e)!==-1}function Us(e,t){return t.getId(e)===qn}function su(e,t){if($n(e))return!1;let n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?su(e.parentNode,t):!0:!0}function Gs(e){return!!e.changedTouches}function Wp(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function ou(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function au(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Hs(e){return!!e?.shadowRoot}var Ys=class{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){var n;return(n=this.styleIDMap.get(t))!==null&&n!==void 0?n:-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function cu(e){var t,n;let r=null;return((n=(t=e.getRootNode)===null||t===void 0?void 0:t.call(e))===null||n===void 0?void 0:n.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(r=e.getRootNode().host),r}function $p(e){let t=e,n;for(;n=cu(t);)t=n;return t}function Vp(e){let t=e.ownerDocument;if(!t)return!1;let n=$p(e);return t.contains(n)}function uu(e){let t=e.ownerDocument;return t?t.contains(e)||Vp(e):!1}var D=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(D||{}),B=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(B||{}),pe=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(pe||{}),qe=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(qe||{}),un=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(un||{});function Oc(e){return"__ln"in e}var zs=class{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=n?.next||null;return n}addNode(t){let n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&Oc(t.previousSibling)){let r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&Oc(t.nextSibling)&&t.nextSibling.__ln.previous){let r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){let n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}},Mc=(e,t)=>`${e}@${t}`,Ws=class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let t=[],n=new Set,r=new zs,i=c=>{let l=c,d=qn;for(;d===qn;)l=l&&l.nextSibling,d=l&&this.mirror.getId(l);return d},s=c=>{if(!c.parentNode||!uu(c))return;let l=$n(c.parentNode)?this.mirror.getId(cu(c)):this.mirror.getId(c.parentNode),d=i(c);if(l===-1||d===-1)return r.addNode(c);let u=rn(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{ou(f,this.mirror)&&this.iframeManager.addIframe(f),au(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),Hs(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,p)=>{this.iframeManager.attachIframe(f,p),this.shadowDomManager.observeAttachShadow(f)},onStylesheetLoad:(f,p)=>{this.stylesheetManager.attachLinkElement(f,p)}});u&&(t.push({parentId:l,nextId:d,node:u}),n.add(u.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let c of this.movedSet)Bc(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||s(c);for(let c of this.addedSet)!Uc(this.droppedSet,c)&&!Bc(this.removes,c,this.mirror)||Uc(this.movedSet,c)?s(c):this.droppedSet.add(c);let o=null;for(;r.length;){let c=null;if(o){let l=this.mirror.getId(o.value.parentNode),d=i(o.value);l!==-1&&d!==-1&&(c=o)}if(!c){let l=r.tail;for(;l;){let d=l;if(l=l.previous,d){let u=this.mirror.getId(d.value.parentNode);if(i(d.value)===-1)continue;if(u!==-1){c=d;break}else{let p=d.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let _=p.parentNode.host;if(this.mirror.getId(_)!==-1){c=d;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}o=c.previous,r.removeNode(c.value),s(c.value)}let a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{let{attributes:l}=c;if(typeof l.style=="string"){let d=JSON.stringify(c.styleDiff),u=JSON.stringify(c._unchangedStyles);d.length<l.style.length&&(d+u).split("var(").length===l.style.split("var(").length&&(l.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:l}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(Us(t.target,this.mirror))return;let n;try{n=document.implementation.createHTMLDocument()}catch{n=this.doc}switch(t.type){case"characterData":{let r=t.target.textContent;!le(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&r!==t.oldValue&&this.texts.push({value:cn(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&r?this.maskTextFn?this.maskTextFn(r):r.replace(/[\S]/g,"*"):r,node:t.target});break}case"attributes":{let r=t.target,i=t.attributeName,s=t.target.getAttribute(i);if(i==="value"){let a=fo(r),c=r.tagName;s=ni(r,c,a);let l=pi({maskInputOptions:this.maskInputOptions,tagName:c,type:a}),d=cn(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,l);s=jn({isMasked:d,element:r,value:s,maskInputFn:this.maskInputFn})}if(le(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let o=this.attributes.find(a=>a.node===t.target);if(r.tagName==="IFRAME"&&i==="src"&&!this.keepIframeSrcFn(s))if(!r.contentDocument)i="rr_src";else return;if(o||(o={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o)),i==="type"&&r.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&r.setAttribute("data-rr-is-password","true"),!tu(r.tagName,i)&&(o.attributes[i]=eu(this.doc,an(r.tagName),an(i),s,r,this.maskAttributeFn),i==="style")){let a=n.createElement("span");t.oldValue&&a.setAttribute("style",t.oldValue);for(let c of Array.from(r.style)){let l=r.style.getPropertyValue(c),d=r.style.getPropertyPriority(c);l!==a.style.getPropertyValue(c)||d!==a.style.getPropertyPriority(c)?d===""?o.styleDiff[c]=l:o.styleDiff[c]=[l,d]:o._unchangedStyles[c]=[l,d]}for(let c of Array.from(a.style))r.style.getPropertyValue(c)===""&&(o.styleDiff[c]=!1)}break}case"childList":{if(le(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(r=>this.genAdds(r,t.target)),t.removedNodes.forEach(r=>{let i=this.mirror.getId(r),s=$n(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);le(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Us(r,this.mirror)||!zp(r,this.mirror)||(this.addedSet.has(r)?($s(this.addedSet,r),this.droppedSet.add(r)):this.addedSet.has(t.target)&&i===-1||su(t.target,this.mirror)||(this.movedSet.has(r)&&this.movedMap[Mc(i,s)]?$s(this.movedSet,r):this.removes.push({parentId:s,id:i,isShadow:$n(t.target)&&Vn(t.target)?!0:void 0})),this.mapRemoves.push(r))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Us(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[Mc(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);le(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),Hs(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function $s(e,t){e.delete(t),t.childNodes.forEach(n=>$s(e,n))}function Bc(e,t,n){return e.length===0?!1:lu(e,t,n)}function lu(e,t,n){let{parentNode:r}=t;if(!r)return!1;let i=n.getId(r);return e.some(s=>s.id===i)?!0:lu(e,r,n)}function Uc(e,t){return e.size===0?!1:du(e,t)}function du(e,t){let{parentNode:n}=t;return n?e.has(n)?!0:du(e,n):!1}var Zn;function Zp(e){Zn=e}function jp(){Zn=void 0}var M=e=>Zn?(...n)=>{try{return e(...n)}catch(r){if(Zn&&Zn(r)===!0)return()=>{};throw r}}:e,Nt=[];function Qn(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function fu(e,t){var n,r;let i=new Ws;Nt.push(i),i.init(e);let s=window.MutationObserver||window.__rrMutationObserver,o=(r=(n=window?.Zone)===null||n===void 0?void 0:n.__symbol__)===null||r===void 0?void 0:r.call(n,"MutationObserver");o&&window[o]&&(s=window[o]);let a=new s(M(c=>{e.onMutation&&e.onMutation(c)===!1||i.processMutations.bind(i)(c)}));return a.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function qp({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};let i=typeof t.mousemove=="number"?t.mousemove:50,s=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500,o=[],a,c=Kn(M(u=>{let f=Date.now()-a;e(o.map(p=>(p.timeOffset-=f,p)),u),o=[],a=null}),s),l=M(Kn(M(u=>{let f=Qn(u),{clientX:p,clientY:_}=Gs(u)?u.changedTouches[0]:u;a||(a=ii()),o.push({x:p,y:_,id:r.getId(f),timeOffset:ii()-a}),c(typeof DragEvent<"u"&&u instanceof DragEvent?B.Drag:u instanceof MouseEvent?B.MouseMove:B.TouchMove)}),i,{trailing:!1})),d=[ue("mousemove",l,n),ue("touchmove",l,n),ue("drag",l,n)];return M(()=>{d.forEach(u=>u())})}function Kp({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,sampling:o}){if(o.mouseInteraction===!1)return()=>{};let a=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,c=[],l=null,d=u=>f=>{let p=Qn(f);if(le(p,r,i,s,!0))return;let _=null,h=u;if("pointerType"in f){switch(f.pointerType){case"mouse":_=qe.Mouse;break;case"touch":_=qe.Touch;break;case"pen":_=qe.Pen;break}_===qe.Touch?pe[u]===pe.MouseDown?h="TouchStart":pe[u]===pe.MouseUp&&(h="TouchEnd"):qe.Pen}else Gs(f)&&(_=qe.Touch);_!==null?(l=_,(h.startsWith("Touch")&&_===qe.Touch||h.startsWith("Mouse")&&_===qe.Mouse)&&(_=null)):pe[u]===pe.Click&&(_=l,l=null);let y=Gs(f)?f.changedTouches[0]:f;if(!y)return;let g=n.getId(p),{clientX:b,clientY:w}=y;M(e)(Object.assign({type:pe[h],id:g,x:b,y:w},_!==null&&{pointerType:_}))};return Object.keys(pe).filter(u=>Number.isNaN(Number(u))&&!u.endsWith("_Departed")&&a[u]!==!1).forEach(u=>{let f=an(u),p=d(u);if(window.PointerEvent)switch(pe[u]){case pe.MouseDown:case pe.MouseUp:f=f.replace("mouse","pointer");break;case pe.TouchStart:case pe.TouchEnd:return}c.push(ue(f,p,t))}),M(()=>{c.forEach(u=>u())})}function pu({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,sampling:o}){let a=M(Kn(M(c=>{let l=Qn(c);if(!l||le(l,r,i,s,!0))return;let d=n.getId(l);if(l===t&&t.defaultView){let u=nu(t.defaultView);e({id:d,x:u.left,y:u.top})}else e({id:d,x:l.scrollLeft,y:l.scrollTop})}),o.scroll||100));return ue("scroll",a,t)}function Jp({viewportResizeCb:e},{win:t}){let n=-1,r=-1,i=M(Kn(M(()=>{let s=ru(),o=iu();(n!==s||r!==o)&&(e({width:Number(o),height:Number(s)}),n=s,r=o)}),200));return ue("resize",i,t)}function Lc(e,t){let n=Object.assign({},e);return t||delete n.userTriggered,n}var Xp=["INPUT","TEXTAREA","SELECT"],Pc=new WeakMap;function Qp({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,ignoreClass:o,ignoreSelector:a,maskInputOptions:c,maskInputFn:l,sampling:d,userTriggeredOnInput:u,maskTextClass:f,unmaskTextClass:p,maskTextSelector:_,unmaskTextSelector:h}){function y(E){let R=Qn(E),L=E.isTrusted,S=R&&Fs(R.tagName);if(S==="OPTION"&&(R=R.parentElement),!R||!S||Xp.indexOf(S)<0||le(R,r,i,s,!0))return;let N=R;if(N.classList.contains(o)||a&&N.matches(a))return;let H=fo(R),te=ni(N,S,H),re=!1,he=pi({maskInputOptions:c,tagName:S,type:H}),F=cn(R,f,_,p,h,he);(H==="radio"||H==="checkbox")&&(re=R.checked),te=jn({isMasked:F,element:R,value:te,maskInputFn:l}),g(R,M(Lc)({text:te,isChecked:re,userTriggered:L},u));let Ee=R.name;H==="radio"&&Ee&&re&&t.querySelectorAll(`input[type="radio"][name="${Ee}"]`).forEach(K=>{if(K!==R){let Se=jn({isMasked:F,element:K,value:ni(K,S,H),maskInputFn:l});g(K,M(Lc)({text:Se,isChecked:!re,userTriggered:!1},u))}})}function g(E,R){let L=Pc.get(E);if(!L||L.text!==R.text||L.isChecked!==R.isChecked){Pc.set(E,R);let S=n.getId(E);M(e)(Object.assign(Object.assign({},R),{id:S}))}}let w=(d.input==="last"?["change"]:["input","change"]).map(E=>ue(E,M(y),t)),I=t.defaultView;if(!I)return()=>{w.forEach(E=>E())};let x=I.Object.getOwnPropertyDescriptor(I.HTMLInputElement.prototype,"value"),C=[[I.HTMLInputElement.prototype,"value"],[I.HTMLInputElement.prototype,"checked"],[I.HTMLSelectElement.prototype,"value"],[I.HTMLTextAreaElement.prototype,"value"],[I.HTMLSelectElement.prototype,"selectedIndex"],[I.HTMLOptionElement.prototype,"selected"]];return x&&x.set&&w.push(...C.map(E=>hi(E[0],E[1],{set(){M(y)({target:this,isTrusted:!1})}},!1,I))),M(()=>{w.forEach(E=>E())})}function si(e){let t=[];function n(r,i){if(qr("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||qr("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||qr("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||qr("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){let o=Array.from(r.parentRule.cssRules).indexOf(r);i.unshift(o)}else if(r.parentStyleSheet){let o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);i.unshift(o)}return i}return n(e,t)}function ot(e,t,n){let r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function eh({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};let i=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:M((d,u,f)=>{let[p,_]=f,{id:h,styleId:y}=ot(u,t,n.styleMirror);return(h&&h!==-1||y&&y!==-1)&&e({id:h,styleId:y,adds:[{rule:p,index:_}]}),d.apply(u,f)})});let s=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(s,{apply:M((d,u,f)=>{let[p]=f,{id:_,styleId:h}=ot(u,t,n.styleMirror);return(_&&_!==-1||h&&h!==-1)&&e({id:_,styleId:h,removes:[{index:p}]}),d.apply(u,f)})});let o;r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:M((d,u,f)=>{let[p]=f,{id:_,styleId:h}=ot(u,t,n.styleMirror);return(_&&_!==-1||h&&h!==-1)&&e({id:_,styleId:h,replace:p}),d.apply(u,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:M((d,u,f)=>{let[p]=f,{id:_,styleId:h}=ot(u,t,n.styleMirror);return(_&&_!==-1||h&&h!==-1)&&e({id:_,styleId:h,replaceSync:p}),d.apply(u,f)})}));let c={};Kr("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(Kr("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),Kr("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),Kr("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));let l={};return Object.entries(c).forEach(([d,u])=>{l[d]={insertRule:u.prototype.insertRule,deleteRule:u.prototype.deleteRule},u.prototype.insertRule=new Proxy(l[d].insertRule,{apply:M((f,p,_)=>{let[h,y]=_,{id:g,styleId:b}=ot(p.parentStyleSheet,t,n.styleMirror);return(g&&g!==-1||b&&b!==-1)&&e({id:g,styleId:b,adds:[{rule:h,index:[...si(p),y||0]}]}),f.apply(p,_)})}),u.prototype.deleteRule=new Proxy(l[d].deleteRule,{apply:M((f,p,_)=>{let[h]=_,{id:y,styleId:g}=ot(p.parentStyleSheet,t,n.styleMirror);return(y&&y!==-1||g&&g!==-1)&&e({id:y,styleId:g,removes:[{index:[...si(p),h]}]}),f.apply(p,_)})})}),M(()=>{r.CSSStyleSheet.prototype.insertRule=i,r.CSSStyleSheet.prototype.deleteRule=s,o&&(r.CSSStyleSheet.prototype.replace=o),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([d,u])=>{u.prototype.insertRule=l[d].insertRule,u.prototype.deleteRule=l[d].deleteRule})})}function hu({mirror:e,stylesheetManager:t},n){var r,i,s;let o=null;n.nodeName==="#document"?o=e.getId(n):o=e.getId(n.host);let a=n.nodeName==="#document"?(r=n.defaultView)===null||r===void 0?void 0:r.Document:(s=(i=n.ownerDocument)===null||i===void 0?void 0:i.defaultView)===null||s===void 0?void 0:s.ShadowRoot,c=a?.prototype?Object.getOwnPropertyDescriptor(a?.prototype,"adoptedStyleSheets"):void 0;return o===null||o===-1||!a||!c?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get(){var l;return(l=c.get)===null||l===void 0?void 0:l.call(this)},set(l){var d;let u=(d=c.set)===null||d===void 0?void 0:d.call(this,l);if(o!==null&&o!==-1)try{t.adoptStyleSheets(l,o)}catch{}return u}}),M(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get:c.get,set:c.set})}))}function th({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){let s=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:M((a,c,l)=>{var d;let[u,f,p]=l;if(n.has(u))return s.apply(c,[u,f,p]);let{id:_,styleId:h}=ot((d=c.parentRule)===null||d===void 0?void 0:d.parentStyleSheet,t,r.styleMirror);return(_&&_!==-1||h&&h!==-1)&&e({id:_,styleId:h,set:{property:u,value:f,priority:p},index:si(c.parentRule)}),a.apply(c,l)})});let o=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:M((a,c,l)=>{var d;let[u]=l;if(n.has(u))return o.apply(c,[u]);let{id:f,styleId:p}=ot((d=c.parentRule)===null||d===void 0?void 0:d.parentStyleSheet,t,r.styleMirror);return(f&&f!==-1||p&&p!==-1)&&e({id:f,styleId:p,remove:{property:u},index:si(c.parentRule)}),a.apply(c,l)})}),M(()=>{i.CSSStyleDeclaration.prototype.setProperty=s,i.CSSStyleDeclaration.prototype.removeProperty=o})}function nh({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:i,sampling:s,doc:o}){let a=M(l=>Kn(M(d=>{let u=Qn(d);if(!u||le(u,t,n,r,!0))return;let{currentTime:f,volume:p,muted:_,playbackRate:h}=u;e({type:l,id:i.getId(u),currentTime:f,volume:p,muted:_,playbackRate:h})}),s.media||500)),c=[ue("play",a(0),o),ue("pause",a(1),o),ue("seeked",a(2),o),ue("volumechange",a(3),o),ue("ratechange",a(4),o)];return M(()=>{c.forEach(l=>l())})}function rh({fontCb:e,doc:t}){let n=t.defaultView;if(!n)return()=>{};let r=[],i=new WeakMap,s=n.FontFace;n.FontFace=function(c,l,d){let u=new s(c,l,d);return i.set(u,{family:c,buffer:typeof l!="string",descriptors:d,fontSource:typeof l=="string"?l:JSON.stringify(Array.from(new Uint8Array(l)))}),u};let o=hn(t.fonts,"add",function(a){return function(c){return setTimeout(M(()=>{let l=i.get(c);l&&(e(l),i.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=s}),r.push(o),M(()=>{r.forEach(a=>a())})}function ih(e){let{doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,selectionCb:o}=e,a=!0,c=M(()=>{let l=t.getSelection();if(!l||a&&l?.isCollapsed)return;a=l.isCollapsed||!1;let d=[],u=l.rangeCount||0;for(let f=0;f<u;f++){let p=l.getRangeAt(f),{startContainer:_,startOffset:h,endContainer:y,endOffset:g}=p;le(_,r,i,s,!0)||le(y,r,i,s,!0)||d.push({start:n.getId(_),startOffset:h,end:n.getId(y),endOffset:g})}o({ranges:d})});return c(),ue("selectionchange",c)}function sh({doc:e,customElementCb:t}){let n=e.defaultView;return!n||!n.customElements?()=>{}:hn(n.customElements,"define",function(i){return function(s,o,a){try{t({define:{name:s}})}catch{}return i.apply(this,[s,o,a])}})}function oh(e,t){let{mutationCb:n,mousemoveCb:r,mouseInteractionCb:i,scrollCb:s,viewportResizeCb:o,inputCb:a,mediaInteractionCb:c,styleSheetRuleCb:l,styleDeclarationCb:d,canvasMutationCb:u,fontCb:f,selectionCb:p,customElementCb:_}=e;e.mutationCb=(...h)=>{t.mutation&&t.mutation(...h),n(...h)},e.mousemoveCb=(...h)=>{t.mousemove&&t.mousemove(...h),r(...h)},e.mouseInteractionCb=(...h)=>{t.mouseInteraction&&t.mouseInteraction(...h),i(...h)},e.scrollCb=(...h)=>{t.scroll&&t.scroll(...h),s(...h)},e.viewportResizeCb=(...h)=>{t.viewportResize&&t.viewportResize(...h),o(...h)},e.inputCb=(...h)=>{t.input&&t.input(...h),a(...h)},e.mediaInteractionCb=(...h)=>{t.mediaInteaction&&t.mediaInteaction(...h),c(...h)},e.styleSheetRuleCb=(...h)=>{t.styleSheetRule&&t.styleSheetRule(...h),l(...h)},e.styleDeclarationCb=(...h)=>{t.styleDeclaration&&t.styleDeclaration(...h),d(...h)},e.canvasMutationCb=(...h)=>{t.canvasMutation&&t.canvasMutation(...h),u(...h)},e.fontCb=(...h)=>{t.font&&t.font(...h),f(...h)},e.selectionCb=(...h)=>{t.selection&&t.selection(...h),p(...h)},e.customElementCb=(...h)=>{t.customElement&&t.customElement(...h),_(...h)}}function ah(e,t={}){let n=e.doc.defaultView;if(!n)return()=>{};oh(e,t);let r=fu(e,e.doc),i=qp(e),s=Kp(e),o=pu(e),a=Jp(e,{win:n}),c=Qp(e),l=nh(e),d=eh(e,{win:n}),u=hu(e,e.doc),f=th(e,{win:n}),p=e.collectFonts?rh(e):()=>{},_=ih(e),h=sh(e),y=[];for(let g of e.plugins)y.push(g.observer(g.callback,n,g.options));return M(()=>{Nt.forEach(g=>g.reset()),r.disconnect(),i(),s(),o(),a(),c(),l(),d(),u(),f(),p(),_(),h(),y.forEach(g=>g())})}function qr(e){return typeof window[e]<"u"}function Kr(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var oi=class{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,i){let s=r||this.getIdToRemoteIdMap(t),o=i||this.getRemoteIdToIdMap(t),a=s.get(n);return a||(a=this.generateIdFn(),s.set(n,a),o.set(a,n)),a}getIds(t,n){let r=this.getIdToRemoteIdMap(t),i=this.getRemoteIdToIdMap(t);return n.map(s=>this.getId(t,s,r,i))}getRemoteId(t,n,r){let i=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;let s=i.get(n);return s||-1}getRemoteIds(t,n){let r=this.getRemoteIdToIdMap(t);return n.map(i=>this.getRemoteId(t,i,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}},Vs=class{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new oi(Qc),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new oi(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){var r;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),(r=this.loadListener)===null||r===void 0||r.call(this,t),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){let n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;let i=this.crossOriginIframeMap.get(t.source);if(!i)return;let s=this.transformCrossOriginEvent(i,n.data.event);s&&this.wrappedEmit(s,n.data.isCheckout)}transformCrossOriginEvent(t,n){var r;switch(n.type){case D.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);let i=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,i),this.patchRootIdOnNode(n.data.node,i),{timestamp:n.timestamp,type:D.IncrementalSnapshot,data:{source:B.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case D.Meta:case D.Load:case D.DomContentLoaded:return!1;case D.Plugin:return n;case D.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case D.IncrementalSnapshot:switch(n.data.source){case B.Mutation:return n.data.adds.forEach(i=>{this.replaceIds(i,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(i.node,t);let s=this.crossOriginIframeRootIdMap.get(t);s&&this.patchRootIdOnNode(i.node,s)}),n.data.removes.forEach(i=>{this.replaceIds(i,t,["parentId","id"])}),n.data.attributes.forEach(i=>{this.replaceIds(i,t,["id"])}),n.data.texts.forEach(i=>{this.replaceIds(i,t,["id"])}),n;case B.Drag:case B.TouchMove:case B.MouseMove:return n.data.positions.forEach(i=>{this.replaceIds(i,t,["id"])}),n;case B.ViewportResize:return!1;case B.MediaInteraction:case B.MouseInteraction:case B.Scroll:case B.CanvasMutation:case B.Input:return this.replaceIds(n.data,t,["id"]),n;case B.StyleSheetRule:case B.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case B.Font:return n;case B.Selection:return n.data.ranges.forEach(i=>{this.replaceIds(i,t,["start","end"])}),n;case B.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),(r=n.data.styles)===null||r===void 0||r.forEach(i=>{this.replaceStyleIds(i,t,["styleId"])}),n}}return!1}replace(t,n,r,i){for(let s of i)!Array.isArray(n[s])&&typeof n[s]!="number"||(Array.isArray(n[s])?n[s]=t.getIds(r,n[s]):n[s]=t.getId(r,n[s]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==Q.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}},Zs=class{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!Vn(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t);let r=fu(Object.assign(Object.assign({},this.bypassOptions),{doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(pu(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:t,mirror:this.mirror}))),setTimeout(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(hu({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,n){let r=this;this.restoreHandlers.push(hn(t.prototype,"attachShadow",function(i){return function(s){let o=i.call(this,s);return this.shadowRoot&&uu(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}};function ch(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function uh(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{l(r.next(d))}catch(u){o(u)}}function c(d){try{l(r.throw(d))}catch(u){o(u)}}function l(d){d.done?s(d.value):i(d.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}var sn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(zn=0;zn<sn.length;zn++)lh[sn.charCodeAt(zn)]=zn;var zn,dh=function(e){var t=new Uint8Array(e),n,r=t.length,i="";for(n=0;n<r;n+=3)i+=sn[t[n]>>2],i+=sn[(t[n]&3)<<4|t[n+1]>>4],i+=sn[(t[n+1]&15)<<2|t[n+2]>>6],i+=sn[t[n+2]&63];return r%3===2?i=i.substring(0,i.length-1)+"=":r%3===1&&(i=i.substring(0,i.length-2)+"=="),i},Fc=new Map;function fh(e,t){let n=Fc.get(e);return n||(n=new Map,Fc.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}var _u=(e,t,n)=>{if(!e||!(gu(e,t)||typeof e=="object"))return;let r=e.constructor.name,i=fh(n,r),s=i.indexOf(e);return s===-1&&(s=i.length,i.push(e)),s};function Xr(e,t,n){if(e instanceof Array)return e.map(r=>Xr(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){let r=e.constructor.name,i=dh(e);return{rr_type:r,base64:i}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[Xr(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){let r=e.constructor.name,{src:i}=e;return{rr_type:r,src:i}}else if(e instanceof HTMLCanvasElement){let r="HTMLImageElement",i=e.toDataURL();return{rr_type:r,src:i}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[Xr(e.data,t,n),e.width,e.height]};if(gu(e,t)||typeof e=="object"){let r=e.constructor.name,i=_u(e,t,n);return{rr_type:r,index:i}}}}return e}var mu=(e,t,n)=>[...e].map(r=>Xr(r,t,n)),gu=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(i=>typeof t[i]=="function").find(i=>e instanceof t[i]);function ph(e,t,n,r,i){let s=[],o=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(let a of o)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;let c=hn(t.CanvasRenderingContext2D.prototype,a,function(l){return function(...d){return le(this.canvas,n,r,i,!0)||setTimeout(()=>{let u=mu([...d],t,this);e(this.canvas,{type:un["2D"],property:a,args:u})},0),l.apply(this,d)}});s.push(c)}catch{let l=hi(t.CanvasRenderingContext2D.prototype,a,{set(d){e(this.canvas,{type:un["2D"],property:a,args:[d],setter:!0})}});s.push(l)}return()=>{s.forEach(a=>a())}}function hh(e){return e==="experimental-webgl"?"webgl":e}function Gc(e,t,n,r,i){let s=[];try{let o=hn(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...l){if(!le(this,t,n,r,!0)){let d=hh(c);if("__context"in this||(this.__context=d),i&&["webgl","webgl2"].includes(d))if(l[0]&&typeof l[0]=="object"){let u=l[0];u.preserveDrawingBuffer||(u.preserveDrawingBuffer=!0)}else l.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...l])}});s.push(o)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{s.forEach(o=>o())}}function Hc(e,t,n,r,i,s,o,a){let c=[],l=Object.getOwnPropertyNames(e);for(let d of l)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(d))try{if(typeof e[d]!="function")continue;let u=hn(e,d,function(f){return function(...p){let _=f.apply(this,p);if(_u(_,a,this),"tagName"in this.canvas&&!le(this.canvas,r,i,s,!0)){let h=mu([...p],a,this),y={type:t,property:d,args:h};n(this.canvas,y)}return _}});c.push(u)}catch{let f=hi(e,d,{set(p){n(this.canvas,{type:t,property:d,args:[p],setter:!0})}});c.push(f)}return c}function _h(e,t,n,r,i,s){let o=[];return o.push(...Hc(t.WebGLRenderingContext.prototype,un.WebGL,e,n,r,i,s,t)),typeof t.WebGL2RenderingContext<"u"&&o.push(...Hc(t.WebGL2RenderingContext.prototype,un.WebGL2,e,n,r,i,s,t)),()=>{o.forEach(a=>a())}}function mh(e,t){var n=atob(e);if(t){for(var r=new Uint8Array(n.length),i=0,s=n.length;i<s;++i)r[i]=n.charCodeAt(i);return String.fromCharCode.apply(null,new Uint16Array(r.buffer))}return n}function gh(e,t,n){var r=t===void 0?null:t,i=n===void 0?!1:n,s=mh(e,i),o=s.indexOf(`
`,10)+1,a=s.substring(o)+(r?"//# sourceMappingURL="+r:""),c=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(c)}function yh(e,t,n){var r;return function(s){return r=r||gh(e,t,n),new Worker(r,s)}}var bh=yh("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwoKICAgIC8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KICAgIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLg0KDQogICAgUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55DQogICAgcHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLg0KDQogICAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEgNCiAgICBSRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkNCiAgICBBTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsDQogICAgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NDQogICAgTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1INCiAgICBPVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SDQogICAgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS4NCiAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqLw0KDQogICAgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikgew0KICAgICAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH0NCiAgICAgICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7DQogICAgICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9DQogICAgICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvclsidGhyb3ciXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9DQogICAgICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfQ0KICAgICAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpOw0KICAgICAgICB9KTsNCiAgICB9CgogICAgLyoKICAgICAqIGJhc2U2NC1hcnJheWJ1ZmZlciAxLjAuMSA8aHR0cHM6Ly9naXRodWIuY29tL25pa2xhc3ZoL2Jhc2U2NC1hcnJheWJ1ZmZlcj4KICAgICAqIENvcHlyaWdodCAoYykgMjAyMSBOaWtsYXMgdm9uIEhlcnR6ZW4gPGh0dHBzOi8vaGVydHplbi5jb20+CiAgICAgKiBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZQogICAgICovCiAgICB2YXIgY2hhcnMgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7CiAgICAvLyBVc2UgYSBsb29rdXAgdGFibGUgdG8gZmluZCB0aGUgaW5kZXguCiAgICB2YXIgbG9va3VwID0gdHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnID8gW10gOiBuZXcgVWludDhBcnJheSgyNTYpOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykgewogICAgICAgIGxvb2t1cFtjaGFycy5jaGFyQ29kZUF0KGkpXSA9IGk7CiAgICB9CiAgICB2YXIgZW5jb2RlID0gZnVuY3Rpb24gKGFycmF5YnVmZmVyKSB7CiAgICAgICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlidWZmZXIpLCBpLCBsZW4gPSBieXRlcy5sZW5ndGgsIGJhc2U2NCA9ICcnOwogICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gMykgewogICAgICAgICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaV0gPj4gMl07CiAgICAgICAgICAgIGJhc2U2NCArPSBjaGFyc1soKGJ5dGVzW2ldICYgMykgPDwgNCkgfCAoYnl0ZXNbaSArIDFdID4+IDQpXTsKICAgICAgICAgICAgYmFzZTY0ICs9IGNoYXJzWygoYnl0ZXNbaSArIDFdICYgMTUpIDw8IDIpIHwgKGJ5dGVzW2kgKyAyXSA+PiA2KV07CiAgICAgICAgICAgIGJhc2U2NCArPSBjaGFyc1tieXRlc1tpICsgMl0gJiA2M107CiAgICAgICAgfQogICAgICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgICAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgJz0nOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgICAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgJz09JzsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGJhc2U2NDsKICAgIH07CgogICAgY29uc3QgbGFzdEJsb2JNYXAgPSBuZXcgTWFwKCk7DQogICAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gbmV3IE1hcCgpOw0KICAgIGZ1bmN0aW9uIGdldFRyYW5zcGFyZW50QmxvYkZvcih3aWR0aCwgaGVpZ2h0LCBkYXRhVVJMT3B0aW9ucykgew0KICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgew0KICAgICAgICAgICAgY29uc3QgaWQgPSBgJHt3aWR0aH0tJHtoZWlnaHR9YDsNCiAgICAgICAgICAgIGlmICgnT2Zmc2NyZWVuQ2FudmFzJyBpbiBnbG9iYWxUaGlzKSB7DQogICAgICAgICAgICAgICAgaWYgKHRyYW5zcGFyZW50QmxvYk1hcC5oYXMoaWQpKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNwYXJlbnRCbG9iTWFwLmdldChpZCk7DQogICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsNCiAgICAgICAgICAgICAgICBvZmZzY3JlZW4uZ2V0Q29udGV4dCgnMmQnKTsNCiAgICAgICAgICAgICAgICBjb25zdCBibG9iID0geWllbGQgb2Zmc2NyZWVuLmNvbnZlcnRUb0Jsb2IoZGF0YVVSTE9wdGlvbnMpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0geWllbGQgYmxvYi5hcnJheUJ1ZmZlcigpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7DQogICAgICAgICAgICAgICAgdHJhbnNwYXJlbnRCbG9iTWFwLnNldChpZCwgYmFzZTY0KTsNCiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZTY0Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgcmV0dXJuICcnOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9DQogICAgY29uc3Qgd29ya2VyID0gc2VsZjsNCiAgICB3b3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHsNCiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsNCiAgICAgICAgICAgIGlmICgnT2Zmc2NyZWVuQ2FudmFzJyBpbiBnbG9iYWxUaGlzKSB7DQogICAgICAgICAgICAgICAgY29uc3QgeyBpZCwgYml0bWFwLCB3aWR0aCwgaGVpZ2h0LCBkYXRhVVJMT3B0aW9ucyB9ID0gZS5kYXRhOw0KICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zKTsNCiAgICAgICAgICAgICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGN0eCA9IG9mZnNjcmVlbi5nZXRDb250ZXh0KCcyZCcpOw0KICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoYml0bWFwLCAwLCAwKTsNCiAgICAgICAgICAgICAgICBiaXRtYXAuY2xvc2UoKTsNCiAgICAgICAgICAgICAgICBjb25zdCBibG9iID0geWllbGQgb2Zmc2NyZWVuLmNvbnZlcnRUb0Jsb2IoZGF0YVVSTE9wdGlvbnMpOw0KICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBibG9iLnR5cGU7DQogICAgICAgICAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSB5aWVsZCBibG9iLmFycmF5QnVmZmVyKCk7DQogICAgICAgICAgICAgICAgY29uc3QgYmFzZTY0ID0gZW5jb2RlKGFycmF5QnVmZmVyKTsNCiAgICAgICAgICAgICAgICBpZiAoIWxhc3RCbG9iTWFwLmhhcyhpZCkgJiYgKHlpZWxkIHRyYW5zcGFyZW50QmFzZTY0KSA9PT0gYmFzZTY0KSB7DQogICAgICAgICAgICAgICAgICAgIGxhc3RCbG9iTWFwLnNldChpZCwgYmFzZTY0KTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7DQogICAgICAgICAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKHsNCiAgICAgICAgICAgICAgICAgICAgaWQsDQogICAgICAgICAgICAgICAgICAgIHR5cGUsDQogICAgICAgICAgICAgICAgICAgIGJhc2U2NCwNCiAgICAgICAgICAgICAgICAgICAgd2lkdGgsDQogICAgICAgICAgICAgICAgICAgIGhlaWdodCwNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfTsKCn0pKCk7Cgo=",null,!1),js=class{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(l,d)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(l)||this.pendingCanvasMutations.set(l,[]),this.pendingCanvasMutations.get(l).push(d)};let{sampling:n="all",win:r,blockClass:i,blockSelector:s,unblockSelector:o,recordCanvas:a,dataURLOptions:c}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,a&&n==="all"&&this.initCanvasMutationObserver(r,i,s,o),a&&typeof n=="number"&&this.initCanvasFPSObserver(n,r,i,s,o,{dataURLOptions:c})}initCanvasFPSObserver(t,n,r,i,s,o){let a=Gc(n,r,i,s,!0),c=new Map,l=new bh;l.onmessage=h=>{let{id:y}=h.data;if(c.set(y,!1),!("base64"in h.data))return;let{base64:g,type:b,width:w,height:I}=h.data;this.mutationCb({id:y,type:un["2D"],commands:[{property:"clearRect",args:[0,0,w,I]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:g}],type:b}]},0,0]}]})};let d=1e3/t,u=0,f,p=()=>{let h=[];return n.document.querySelectorAll("canvas").forEach(y=>{le(y,r,i,s,!0)||h.push(y)}),h},_=h=>{if(u&&h-u<d){f=requestAnimationFrame(_);return}u=h,p().forEach(y=>uh(this,void 0,void 0,function*(){var g;let b=this.mirror.getId(y);if(c.get(b))return;if(c.set(b,!0),["webgl","webgl2"].includes(y.__context)){let I=y.getContext(y.__context);((g=I?.getContextAttributes())===null||g===void 0?void 0:g.preserveDrawingBuffer)===!1&&I.clear(I.COLOR_BUFFER_BIT)}let w=yield createImageBitmap(y);l.postMessage({id:b,bitmap:w,width:y.width,height:y.height,dataURLOptions:o.dataURLOptions},[w])})),f=requestAnimationFrame(_)};f=requestAnimationFrame(_),this.resetObservers=()=>{a(),cancelAnimationFrame(f)}}initCanvasMutationObserver(t,n,r,i){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();let s=Gc(t,n,r,i,!1),o=ph(this.processMutation.bind(this),t,n,r,i),a=_h(this.processMutation.bind(this),t,n,r,i,this.mirror);this.resetObservers=()=>{s(),o(),a()}}startPendingCanvasMutationFlusher(){requestAnimationFrame(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let t=n=>{this.rafStamps.latestId=n,requestAnimationFrame(t)};requestAnimationFrame(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{let r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),requestAnimationFrame(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;let r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;let i=r.map(o=>ch(o,["type"])),{type:s}=r[0];this.mutationCb({id:n,type:s,commands:i}),this.pendingCanvasMutations.delete(t)}},qs=class{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new Ys,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;let r={id:n,styleIds:[]},i=[];for(let s of t){let o;this.styleMirror.has(s)?o=this.styleMirror.getId(s):(o=this.styleMirror.add(s),i.push({styleId:o,rules:Array.from(s.rules||CSSRule,(a,c)=>({rule:Xc(a),index:c}))})),r.styleIds.push(o)}i.length>0&&(r.styles=i),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}},Ks=class{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){requestAnimationFrame(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(t,n){let r=this.nodeMap.get(t);return r&&Array.from(r).some(i=>i!==n)}add(t,n){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}};function X(e){return Object.assign(Object.assign({},e),{timestamp:ii()})}var j,Qr,Ls,ai=!1,Be=bp();function Ge(e={}){let{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:i="rr-block",blockSelector:s=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:l=!1,maskTextClass:d="rr-mask",unmaskTextClass:u=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:_=!0,maskAllInputs:h,maskInputOptions:y,slimDOMOptions:g,maskAttributeFn:b,maskInputFn:w,maskTextFn:I,hooks:x,packFn:C,sampling:E={},dataURLOptions:R={},mousemoveWait:L,recordCanvas:S=!1,recordCrossOriginIframes:N=!1,recordAfter:H=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:te=!1,collectFonts:re=!1,inlineImages:he=!1,plugins:F,keepIframeSrcFn:Ee=()=>!1,ignoreCSSAttributes:K=new Set([]),errorHandler:Se,onMutation:ve}=e;Zp(Se);let dt=N?window.parent===window:!0,ft=!1;if(!dt)try{window.parent.document&&(ft=!1)}catch{ft=!0}if(dt&&!t)throw new Error("emit function is required");L!==void 0&&E.mousemove===void 0&&(E.mousemove=L),Be.reset();let bn=h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:y!==void 0?y:{},wi=g===!0||g==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:g==="all",headMetaDescKeywords:g==="all"}:g||{};Wp();let wo,Ii=0,Io=A=>{for(let ke of F||[])ke.eventProcessor&&(A=ke.eventProcessor(A));return C&&!ft&&(A=C(A)),A};j=(A,ke)=>{var $;if(!(($=Nt[0])===null||$===void 0)&&$.isFrozen()&&A.type!==D.FullSnapshot&&!(A.type===D.IncrementalSnapshot&&A.data.source===B.Mutation)&&Nt.forEach(ce=>ce.unfreeze()),dt)t?.(Io(A),ke);else if(ft){let ce={type:"rrweb",event:Io(A),origin:window.location.origin,isCheckout:ke};window.parent.postMessage(ce,"*")}if(A.type===D.FullSnapshot)wo=A,Ii=0;else if(A.type===D.IncrementalSnapshot){if(A.data.source===B.Mutation&&A.data.isAttachIframe)return;Ii++;let ce=r&&Ii>=r,_t=n&&A.timestamp-wo.timestamp>n;(ce||_t)&&Qr(!0)}};let nr=A=>{j(X({type:D.IncrementalSnapshot,data:Object.assign({source:B.Mutation},A)}))},To=A=>j(X({type:D.IncrementalSnapshot,data:Object.assign({source:B.Scroll},A)})),Co=A=>j(X({type:D.IncrementalSnapshot,data:Object.assign({source:B.CanvasMutation},A)})),il=A=>j(X({type:D.IncrementalSnapshot,data:Object.assign({source:B.AdoptedStyleSheet},A)})),pt=new qs({mutationCb:nr,adoptedStyleSheetCb:il}),ht=new Vs({mirror:Be,mutationCb:nr,stylesheetManager:pt,recordCrossOriginIframes:N,wrappedEmit:j});for(let A of F||[])A.getMirror&&A.getMirror({nodeMirror:Be,crossOriginIframeMirror:ht.crossOriginIframeMirror,crossOriginIframeStyleMirror:ht.crossOriginIframeStyleMirror});let Ti=new Ks;Ls=new js({recordCanvas:S,mutationCb:Co,win:window,blockClass:i,blockSelector:s,unblockSelector:o,mirror:Be,sampling:E.canvas,dataURLOptions:R});let rr=new Zs({mutationCb:nr,scrollCb:To,bypassOptions:{onMutation:ve,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:l,maskTextClass:d,unmaskTextClass:u,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:_,maskInputOptions:bn,dataURLOptions:R,maskAttributeFn:b,maskTextFn:I,maskInputFn:w,recordCanvas:S,inlineImages:he,sampling:E,slimDOMOptions:wi,iframeManager:ht,stylesheetManager:pt,canvasManager:Ls,keepIframeSrcFn:Ee,processedNodeManager:Ti},mirror:Be});Qr=(A=!1)=>{j(X({type:D.Meta,data:{href:window.location.href,width:iu(),height:ru()}}),A),pt.reset(),rr.init(),Nt.forEach($=>$.lock());let ke=Yp(document,{mirror:Be,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:l,maskTextClass:d,unmaskTextClass:u,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:_,maskAllInputs:bn,maskAttributeFn:b,maskInputFn:w,maskTextFn:I,slimDOM:wi,dataURLOptions:R,recordCanvas:S,inlineImages:he,onSerialize:$=>{ou($,Be)&&ht.addIframe($),au($,Be)&&pt.trackLinkElement($),Hs($)&&rr.addShadowRoot($.shadowRoot,document)},onIframeLoad:($,ce)=>{ht.attachIframe($,ce),rr.observeAttachShadow($)},onStylesheetLoad:($,ce)=>{pt.attachLinkElement($,ce)},keepIframeSrcFn:Ee});if(!ke)return console.warn("Failed to snapshot the document");j(X({type:D.FullSnapshot,data:{node:ke,initialOffset:nu(window)}}),A),Nt.forEach($=>$.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&pt.adoptStyleSheets(document.adoptedStyleSheets,Be.getId(document))};try{let A=[],ke=ce=>{var _t;return M(ah)({onMutation:ve,mutationCb:nr,mousemoveCb:(z,Ci)=>j(X({type:D.IncrementalSnapshot,data:{source:Ci,positions:z}})),mouseInteractionCb:z=>j(X({type:D.IncrementalSnapshot,data:Object.assign({source:B.MouseInteraction},z)})),scrollCb:To,viewportResizeCb:z=>j(X({type:D.IncrementalSnapshot,data:Object.assign({source:B.ViewportResize},z)})),inputCb:z=>j(X({type:D.IncrementalSnapshot,data:Object.assign({source:B.Input},z)})),mediaInteractionCb:z=>j(X({type:D.IncrementalSnapshot,data:Object.assign({source:B.MediaInteraction},z)})),styleSheetRuleCb:z=>j(X({type:D.IncrementalSnapshot,data:Object.assign({source:B.StyleSheetRule},z)})),styleDeclarationCb:z=>j(X({type:D.IncrementalSnapshot,data:Object.assign({source:B.StyleDeclaration},z)})),canvasMutationCb:Co,fontCb:z=>j(X({type:D.IncrementalSnapshot,data:Object.assign({source:B.Font},z)})),selectionCb:z=>{j(X({type:D.IncrementalSnapshot,data:Object.assign({source:B.Selection},z)}))},customElementCb:z=>{j(X({type:D.IncrementalSnapshot,data:Object.assign({source:B.CustomElement},z)}))},blockClass:i,ignoreClass:a,ignoreSelector:c,maskAllText:l,maskTextClass:d,unmaskTextClass:u,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:bn,inlineStylesheet:_,sampling:E,recordCanvas:S,inlineImages:he,userTriggeredOnInput:te,collectFonts:re,doc:ce,maskAttributeFn:b,maskInputFn:w,maskTextFn:I,keepIframeSrcFn:Ee,blockSelector:s,unblockSelector:o,slimDOMOptions:wi,dataURLOptions:R,mirror:Be,iframeManager:ht,stylesheetManager:pt,shadowDomManager:rr,processedNodeManager:Ti,canvasManager:Ls,ignoreCSSAttributes:K,plugins:((_t=F?.filter(z=>z.observer))===null||_t===void 0?void 0:_t.map(z=>({observer:z.observer,options:z.options,callback:Ci=>j(X({type:D.Plugin,data:{plugin:z.name,payload:Ci}}))})))||[]},x)};ht.addLoadListener(ce=>{try{A.push(ke(ce.contentDocument))}catch(_t){console.warn(_t)}});let $=()=>{Qr(),A.push(ke(document)),ai=!0};return document.readyState==="interactive"||document.readyState==="complete"?$():(A.push(ue("DOMContentLoaded",()=>{j(X({type:D.DomContentLoaded,data:{}})),H==="DOMContentLoaded"&&$()})),A.push(ue("load",()=>{j(X({type:D.Load,data:{}})),H==="load"&&$()},window))),()=>{A.forEach(ce=>ce()),Ti.destroy(),ai=!1,jp()}}catch(A){console.warn(A)}}Ge.addCustomEvent=(e,t)=>{if(!ai)throw new Error("please add custom event after start recording");j(X({type:D.Custom,data:{tag:e,payload:t}}))};Ge.freezePage=()=>{Nt.forEach(e=>e.freeze())};Ge.takeFullSnapshot=e=>{if(!ai)throw new Error("please take full snapshot after start recording");Qr(e)};Ge.mirror=Be;function ho(e){return e>9999999999?e:e*1e3}function Eh(e){return e>9999999999?e/1e3:e}function _i(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:D.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:fe(t,10,1e3)}}),t.category==="console")))}var Sh="button,a";function _o(e){let t=yu(e);return!t||!(t instanceof Element)?t:t.closest(Sh)||t}function yu(e){return vh(e)?e.target:e}function vh(e){return typeof e=="object"&&!!e&&"target"in e}var at;function wh(e){return at||(at=[],Ih()),at.push(e),()=>{let t=at?at.indexOf(e):-1;t>-1&&at.splice(t,1)}}function Ih(){Z(P,"open",function(e){return function(...t){if(at)try{at.forEach(n=>n())}catch{}return e.apply(P,t)}})}function Th(e,t,n){e.handleClick(t,n)}var Js=class{constructor(t,n,r=_i){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){let t=()=>{this._lastMutation=Jr()},n=()=>{this._lastScroll=Jr()},r=wh(()=>{this._lastMutation=Jr()}),i=o=>{if(!o.target)return;let a=_o(o);a&&this._handleMultiClick(a)},s=new MutationObserver(t);s.observe(P.document.documentElement,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),P.addEventListener("scroll",n,{passive:!0}),P.addEventListener("click",i,{passive:!0}),this._teardown=()=>{P.removeEventListener("scroll",n),P.removeEventListener("click",i),r(),s.disconnect(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(kh(n,this._ignoreSelector)||!Rh(t))return;let r={timestamp:Eh(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(i=>i.node===r.node&&Math.abs(i.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){let t=[],n=Jr();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(let r of t){let i=this._clicks.indexOf(r);i>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(i,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){let n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scollTimeout,i=t.mutationAfter&&t.mutationAfter<=this._threshold,s=!r&&!i,{clickCount:o,clickBreadcrumb:a}=t;if(s){let c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,l=c<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:P.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:l,clickCount:o||1}};this._addBreadcrumbEvent(n,d);return}if(o>1){let c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:P.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}},Ch=["A","BUTTON","INPUT"];function kh(e,t){return!!(!Ch.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function Rh(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function Jr(){return Date.now()/1e3}function Je(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var ci;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(ci||(ci={}));var xh=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled"]);function Ah(e){let t={};for(let n in e)if(xh.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}var Nh=e=>t=>{if(!e.isEnabled())return;let n=Dh(t);if(!n)return;let r=t.name==="click",i=r&&t.event;r&&e.clickDetector&&i&&!i.altKey&&!i.metaKey&&!i.ctrlKey&&!i.shiftKey&&Th(e.clickDetector,n,_o(t.event)),_i(e,n)};function bu(e,t){let n=Ge.mirror.getId(e),r=n&&Ge.mirror.getNode(n),i=r&&Ge.mirror.getMeta(r),s=i&&Mh(i)?i:null;return{message:t,data:s?{nodeId:n,node:{id:n,tagName:s.tagName,textContent:Array.from(s.childNodes).map(o=>o.type===ci.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:Ah(s.attributes)}}:{}}}function Dh(e){let{target:t,message:n}=Oh(e);return Je({category:`ui.${e.name}`,...bu(t,n)})}function Oh(e){let t=e.name==="click",n,r=null;try{r=t?_o(e.event):yu(e.event),n=ge(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function Mh(e){return e.type===ci.Element}function Bh(e,t){if(!e.isEnabled())return;e.updateUserActivity();let n=Uh(t);n&&_i(e,n)}function Uh(e){let{metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:s,target:o}=e;if(!o||Lh(o)||!s)return null;let a=t||r||i,c=s.length===1;if(!a&&c)return null;let l=ge(o,{maxStringLength:200})||"<unknown>",d=bu(o,l);return Je({category:"ui.keyDown",message:l,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:s}})}function Lh(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}var Ph=["name","type","startTime","transferSize","duration"];function Yc(e){return function(t){return Ph.every(n=>e[n]===t[n])}}function Fh(e,t){let[n,r,i]=e.reduce((c,l)=>(l.entryType==="navigation"?c[0].push(l):l.entryType==="largest-contentful-paint"?c[1].push(l):c[2].push(l),c),[[],[],[]]),s=[],o=[],a=r.length?r[r.length-1]:void 0;return t.forEach(c=>{if(c.entryType==="largest-contentful-paint"){(!a||a.startTime<c.startTime)&&(a=c);return}if(c.entryType==="navigation"){let l=c;c.duration>0&&!n.find(Yc(l))&&!o.find(Yc(l))&&o.push(l);return}s.push(c)}),[...a?[a]:[],...n,...i,...s,...o].sort((c,l)=>c.startTime-l.startTime)}function Gh(e){let t=r=>{let i=Fh(e.performanceEvents,r.getEntries());e.performanceEvents=i},n=new PerformanceObserver(t);return["element","event","first-input","largest-contentful-paint","layout-shift","longtask","navigation","paint","resource"].forEach(r=>{try{n.observe({type:r,buffered:!0})}catch{}}),n}var Hh=`/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */
function t(t){let e=t.length;for(;--e>=0;)t[e]=0}const e=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),a=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),i=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),n=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=new Array(576);t(s);const r=new Array(60);t(r);const o=new Array(512);t(o);const l=new Array(256);t(l);const h=new Array(29);t(h);const d=new Array(30);function _(t,e,a,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}let f,c,u;function w(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}t(d);const m=t=>t<256?o[t]:o[256+(t>>>7)],b=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},g=(t,e,a)=>{t.bi_valid>16-a?(t.bi_buf|=e<<t.bi_valid&65535,b(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=a-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)},p=(t,e,a)=>{g(t,a[2*e],a[2*e+1])},k=(t,e)=>{let a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1},v=(t,e,a)=>{const i=new Array(16);let n,s,r=0;for(n=1;n<=15;n++)r=r+a[n-1]<<1,i[n]=r;for(s=0;s<=e;s++){let e=t[2*s+1];0!==e&&(t[2*s]=k(i[e]++,e))}},y=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},x=t=>{t.bi_valid>8?b(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},z=(t,e,a,i)=>{const n=2*e,s=2*a;return t[n]<t[s]||t[n]===t[s]&&i[e]<=i[a]},A=(t,e,a)=>{const i=t.heap[a];let n=a<<1;for(;n<=t.heap_len&&(n<t.heap_len&&z(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!z(e,i,t.heap[n],t.depth));)t.heap[a]=t.heap[n],a=n,n<<=1;t.heap[a]=i},E=(t,i,n)=>{let s,r,o,_,f=0;if(0!==t.sym_next)do{s=255&t.pending_buf[t.sym_buf+f++],s+=(255&t.pending_buf[t.sym_buf+f++])<<8,r=t.pending_buf[t.sym_buf+f++],0===s?p(t,r,i):(o=l[r],p(t,o+256+1,i),_=e[o],0!==_&&(r-=h[o],g(t,r,_)),s--,o=m(s),p(t,o,n),_=a[o],0!==_&&(s-=d[o],g(t,s,_)))}while(f<t.sym_next);p(t,256,i)},R=(t,e)=>{const a=e.dyn_tree,i=e.stat_desc.static_tree,n=e.stat_desc.has_stree,s=e.stat_desc.elems;let r,o,l,h=-1;for(t.heap_len=0,t.heap_max=573,r=0;r<s;r++)0!==a[2*r]?(t.heap[++t.heap_len]=h=r,t.depth[r]=0):a[2*r+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=h<2?++h:0,a[2*l]=1,t.depth[l]=0,t.opt_len--,n&&(t.static_len-=i[2*l+1]);for(e.max_code=h,r=t.heap_len>>1;r>=1;r--)A(t,a,r);l=s;do{r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],A(t,a,1),o=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=o,a[2*l]=a[2*r]+a[2*o],t.depth[l]=(t.depth[r]>=t.depth[o]?t.depth[r]:t.depth[o])+1,a[2*r+1]=a[2*o+1]=l,t.heap[1]=l++,A(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const a=e.dyn_tree,i=e.max_code,n=e.stat_desc.static_tree,s=e.stat_desc.has_stree,r=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,l=e.stat_desc.max_length;let h,d,_,f,c,u,w=0;for(f=0;f<=15;f++)t.bl_count[f]=0;for(a[2*t.heap[t.heap_max]+1]=0,h=t.heap_max+1;h<573;h++)d=t.heap[h],f=a[2*a[2*d+1]+1]+1,f>l&&(f=l,w++),a[2*d+1]=f,d>i||(t.bl_count[f]++,c=0,d>=o&&(c=r[d-o]),u=a[2*d],t.opt_len+=u*(f+c),s&&(t.static_len+=u*(n[2*d+1]+c)));if(0!==w){do{for(f=l-1;0===t.bl_count[f];)f--;t.bl_count[f]--,t.bl_count[f+1]+=2,t.bl_count[l]--,w-=2}while(w>0);for(f=l;0!==f;f--)for(d=t.bl_count[f];0!==d;)_=t.heap[--h],_>i||(a[2*_+1]!==f&&(t.opt_len+=(f-a[2*_+1])*a[2*_],a[2*_+1]=f),d--)}})(t,e),v(a,h,t.bl_count)},Z=(t,e,a)=>{let i,n,s=-1,r=e[1],o=0,l=7,h=4;for(0===r&&(l=138,h=3),e[2*(a+1)+1]=65535,i=0;i<=a;i++)n=r,r=e[2*(i+1)+1],++o<l&&n===r||(o<h?t.bl_tree[2*n]+=o:0!==n?(n!==s&&t.bl_tree[2*n]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=0,s=n,0===r?(l=138,h=3):n===r?(l=6,h=3):(l=7,h=4))},U=(t,e,a)=>{let i,n,s=-1,r=e[1],o=0,l=7,h=4;for(0===r&&(l=138,h=3),i=0;i<=a;i++)if(n=r,r=e[2*(i+1)+1],!(++o<l&&n===r)){if(o<h)do{p(t,n,t.bl_tree)}while(0!=--o);else 0!==n?(n!==s&&(p(t,n,t.bl_tree),o--),p(t,16,t.bl_tree),g(t,o-3,2)):o<=10?(p(t,17,t.bl_tree),g(t,o-3,3)):(p(t,18,t.bl_tree),g(t,o-11,7));o=0,s=n,0===r?(l=138,h=3):n===r?(l=6,h=3):(l=7,h=4)}};let S=!1;const D=(t,e,a,i)=>{g(t,0+(i?1:0),3),x(t),b(t,a),b(t,~a),a&&t.pending_buf.set(t.window.subarray(e,e+a),t.pending),t.pending+=a};var T=(t,e,a,i)=>{let o,l,h=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),R(t,t.l_desc),R(t,t.d_desc),h=(t=>{let e;for(Z(t,t.dyn_ltree,t.l_desc.max_code),Z(t,t.dyn_dtree,t.d_desc.max_code),R(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*n[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),o=t.opt_len+3+7>>>3,l=t.static_len+3+7>>>3,l<=o&&(o=l)):o=l=a+5,a+4<=o&&-1!==e?D(t,e,a,i):4===t.strategy||l===o?(g(t,2+(i?1:0),3),E(t,s,r)):(g(t,4+(i?1:0),3),((t,e,a,i)=>{let s;for(g(t,e-257,5),g(t,a-1,5),g(t,i-4,4),s=0;s<i;s++)g(t,t.bl_tree[2*n[s]+1],3);U(t,t.dyn_ltree,e-1),U(t,t.dyn_dtree,a-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,h+1),E(t,t.dyn_ltree,t.dyn_dtree)),y(t),i&&x(t)},O={_tr_init:t=>{S||((()=>{let t,n,w,m,b;const g=new Array(16);for(w=0,m=0;m<28;m++)for(h[m]=w,t=0;t<1<<e[m];t++)l[w++]=m;for(l[w-1]=m,b=0,m=0;m<16;m++)for(d[m]=b,t=0;t<1<<a[m];t++)o[b++]=m;for(b>>=7;m<30;m++)for(d[m]=b<<7,t=0;t<1<<a[m]-7;t++)o[256+b++]=m;for(n=0;n<=15;n++)g[n]=0;for(t=0;t<=143;)s[2*t+1]=8,t++,g[8]++;for(;t<=255;)s[2*t+1]=9,t++,g[9]++;for(;t<=279;)s[2*t+1]=7,t++,g[7]++;for(;t<=287;)s[2*t+1]=8,t++,g[8]++;for(v(s,287,g),t=0;t<30;t++)r[2*t+1]=5,r[2*t]=k(t,5);f=new _(s,e,257,286,15),c=new _(r,a,0,30,15),u=new _(new Array(0),i,0,19,7)})(),S=!0),t.l_desc=new w(t.dyn_ltree,f),t.d_desc=new w(t.dyn_dtree,c),t.bl_desc=new w(t.bl_tree,u),t.bi_buf=0,t.bi_valid=0,y(t)},_tr_stored_block:D,_tr_flush_block:T,_tr_tally:(t,e,a)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=a,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(l[a]+256+1)]++,t.dyn_dtree[2*m(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{g(t,2,3),p(t,256,s),(t=>{16===t.bi_valid?(b(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}};var F=(t,e,a,i)=>{let n=65535&t|0,s=t>>>16&65535|0,r=0;for(;0!==a;){r=a>2e3?2e3:a,a-=r;do{n=n+e[i++]|0,s=s+n|0}while(--r);n%=65521,s%=65521}return n|s<<16|0};const L=new Uint32Array((()=>{let t,e=[];for(var a=0;a<256;a++){t=a;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e})());var N=(t,e,a,i)=>{const n=L,s=i+a;t^=-1;for(let a=i;a<s;a++)t=t>>>8^n[255&(t^e[a])];return-1^t},I={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},B={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:C,_tr_stored_block:H,_tr_flush_block:M,_tr_tally:j,_tr_align:K}=O,{Z_NO_FLUSH:P,Z_PARTIAL_FLUSH:Y,Z_FULL_FLUSH:G,Z_FINISH:X,Z_BLOCK:W,Z_OK:q,Z_STREAM_END:J,Z_STREAM_ERROR:Q,Z_DATA_ERROR:V,Z_BUF_ERROR:$,Z_DEFAULT_COMPRESSION:tt,Z_FILTERED:et,Z_HUFFMAN_ONLY:at,Z_RLE:it,Z_FIXED:nt,Z_DEFAULT_STRATEGY:st,Z_UNKNOWN:rt,Z_DEFLATED:ot}=B,lt=(t,e)=>(t.msg=I[e],e),ht=t=>2*t-(t>4?9:0),dt=t=>{let e=t.length;for(;--e>=0;)t[e]=0},_t=t=>{let e,a,i,n=t.w_size;e=t.hash_size,i=e;do{a=t.head[--i],t.head[i]=a>=n?a-n:0}while(--e);e=n,i=e;do{a=t.prev[--i],t.prev[i]=a>=n?a-n:0}while(--e)};let ft=(t,e,a)=>(e<<t.hash_shift^a)&t.hash_mask;const ct=t=>{const e=t.state;let a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+a),t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))},ut=(t,e)=>{M(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,ct(t.strm)},wt=(t,e)=>{t.pending_buf[t.pending++]=e},mt=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},bt=(t,e,a,i)=>{let n=t.avail_in;return n>i&&(n=i),0===n?0:(t.avail_in-=n,e.set(t.input.subarray(t.next_in,t.next_in+n),a),1===t.state.wrap?t.adler=F(t.adler,e,n,a):2===t.state.wrap&&(t.adler=N(t.adler,e,n,a)),t.next_in+=n,t.total_in+=n,n)},gt=(t,e)=>{let a,i,n=t.max_chain_length,s=t.strstart,r=t.prev_length,o=t.nice_match;const l=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,h=t.window,d=t.w_mask,_=t.prev,f=t.strstart+258;let c=h[s+r-1],u=h[s+r];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do{if(a=e,h[a+r]===u&&h[a+r-1]===c&&h[a]===h[s]&&h[++a]===h[s+1]){s+=2,a++;do{}while(h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&s<f);if(i=258-(f-s),s=f-258,i>r){if(t.match_start=e,r=i,i>=o)break;c=h[s+r-1],u=h[s+r]}}}while((e=_[e&d])>l&&0!=--n);return r<=t.lookahead?r:t.lookahead},pt=t=>{const e=t.w_size;let a,i,n;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-262)&&(t.window.set(t.window.subarray(e,e+e-i),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),_t(t),i+=e),0===t.strm.avail_in)break;if(a=bt(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=a,t.lookahead+t.insert>=3)for(n=t.strstart-t.insert,t.ins_h=t.window[n],t.ins_h=ft(t,t.ins_h,t.window[n+1]);t.insert&&(t.ins_h=ft(t,t.ins_h,t.window[n+3-1]),t.prev[n&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=n,n++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)},kt=(t,e)=>{let a,i,n,s=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r=0,o=t.strm.avail_in;do{if(a=65535,n=t.bi_valid+42>>3,t.strm.avail_out<n)break;if(n=t.strm.avail_out-n,i=t.strstart-t.block_start,a>i+t.strm.avail_in&&(a=i+t.strm.avail_in),a>n&&(a=n),a<s&&(0===a&&e!==X||e===P||a!==i+t.strm.avail_in))break;r=e===X&&a===i+t.strm.avail_in?1:0,H(t,0,0,r),t.pending_buf[t.pending-4]=a,t.pending_buf[t.pending-3]=a>>8,t.pending_buf[t.pending-2]=~a,t.pending_buf[t.pending-1]=~a>>8,ct(t.strm),i&&(i>a&&(i=a),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,a-=i),a&&(bt(t.strm,t.strm.output,t.strm.next_out,a),t.strm.next_out+=a,t.strm.avail_out-=a,t.strm.total_out+=a)}while(0===r);return o-=t.strm.avail_in,o&&(o>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=o&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-o,t.strm.next_in),t.strstart),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),r?4:e!==P&&e!==X&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(n=t.window_size-t.strstart,t.strm.avail_in>n&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,n+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),n>t.strm.avail_in&&(n=t.strm.avail_in),n&&(bt(t.strm,t.window,t.strstart,n),t.strstart+=n,t.insert+=n>t.w_size-t.insert?t.w_size-t.insert:n),t.high_water<t.strstart&&(t.high_water=t.strstart),n=t.bi_valid+42>>3,n=t.pending_buf_size-n>65535?65535:t.pending_buf_size-n,s=n>t.w_size?t.w_size:n,i=t.strstart-t.block_start,(i>=s||(i||e===X)&&e!==P&&0===t.strm.avail_in&&i<=n)&&(a=i>n?n:i,r=e===X&&0===t.strm.avail_in&&a===i?1:0,H(t,t.block_start,a,r),t.block_start+=a,ct(t.strm)),r?3:1)},vt=(t,e)=>{let a,i;for(;;){if(t.lookahead<262){if(pt(t),t.lookahead<262&&e===P)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=ft(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-262&&(t.match_length=gt(t,a)),t.match_length>=3)if(i=j(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=ft(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=ft(t,t.ins_h,t.window[t.strstart+1]);else i=j(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===X?(ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ut(t,!1),0===t.strm.avail_out)?1:2},yt=(t,e)=>{let a,i,n;for(;;){if(t.lookahead<262){if(pt(t),t.lookahead<262&&e===P)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=ft(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-262&&(t.match_length=gt(t,a),t.match_length<=5&&(t.strategy===et||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-3,i=j(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=n&&(t.ins_h=ft(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(ut(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(i=j(t,0,t.window[t.strstart-1]),i&&ut(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=j(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===X?(ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ut(t,!1),0===t.strm.avail_out)?1:2};function xt(t,e,a,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=i,this.func=n}const zt=[new xt(0,0,0,0,kt),new xt(4,4,8,4,vt),new xt(4,5,16,8,vt),new xt(4,6,32,32,vt),new xt(4,4,16,16,yt),new xt(8,16,32,32,yt),new xt(8,16,128,128,yt),new xt(8,32,128,256,yt),new xt(32,128,258,1024,yt),new xt(32,258,258,4096,yt)];function At(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ot,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),dt(this.dyn_ltree),dt(this.dyn_dtree),dt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),dt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),dt(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Et=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||42!==e.status&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&113!==e.status&&666!==e.status?1:0},Rt=t=>{if(Et(t))return lt(t,Q);t.total_in=t.total_out=0,t.data_type=rt;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=-2,C(e),q},Zt=t=>{const e=Rt(t);var a;return e===q&&((a=t.state).window_size=2*a.w_size,dt(a.head),a.max_lazy_match=zt[a.level].max_lazy,a.good_match=zt[a.level].good_length,a.nice_match=zt[a.level].nice_length,a.max_chain_length=zt[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=2,a.match_available=0,a.ins_h=0),e},Ut=(t,e,a,i,n,s)=>{if(!t)return Q;let r=1;if(e===tt&&(e=6),i<0?(r=0,i=-i):i>15&&(r=2,i-=16),n<1||n>9||a!==ot||i<8||i>15||e<0||e>9||s<0||s>nt||8===i&&1!==r)return lt(t,Q);8===i&&(i=9);const o=new At;return t.state=o,o.strm=t,o.status=42,o.wrap=r,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=n+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<n+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=3*(o.lit_bufsize-1),o.level=e,o.strategy=s,o.method=a,Zt(t)};var St={deflateInit:(t,e)=>Ut(t,e,ot,15,8,st),deflateInit2:Ut,deflateReset:Zt,deflateResetKeep:Rt,deflateSetHeader:(t,e)=>Et(t)||2!==t.state.wrap?Q:(t.state.gzhead=e,q),deflate:(t,e)=>{if(Et(t)||e>W||e<0)return t?lt(t,Q):Q;const a=t.state;if(!t.output||0!==t.avail_in&&!t.input||666===a.status&&e!==X)return lt(t,0===t.avail_out?$:Q);const i=a.last_flush;if(a.last_flush=e,0!==a.pending){if(ct(t),0===t.avail_out)return a.last_flush=-1,q}else if(0===t.avail_in&&ht(e)<=ht(i)&&e!==X)return lt(t,$);if(666===a.status&&0!==t.avail_in)return lt(t,$);if(42===a.status&&0===a.wrap&&(a.status=113),42===a.status){let e=ot+(a.w_bits-8<<4)<<8,i=-1;if(i=a.strategy>=at||a.level<2?0:a.level<6?1:6===a.level?2:3,e|=i<<6,0!==a.strstart&&(e|=32),e+=31-e%31,mt(a,e),0!==a.strstart&&(mt(a,t.adler>>>16),mt(a,65535&t.adler)),t.adler=1,a.status=113,ct(t),0!==a.pending)return a.last_flush=-1,q}if(57===a.status)if(t.adler=0,wt(a,31),wt(a,139),wt(a,8),a.gzhead)wt(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),wt(a,255&a.gzhead.time),wt(a,a.gzhead.time>>8&255),wt(a,a.gzhead.time>>16&255),wt(a,a.gzhead.time>>24&255),wt(a,9===a.level?2:a.strategy>=at||a.level<2?4:0),wt(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(wt(a,255&a.gzhead.extra.length),wt(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=N(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69;else if(wt(a,0),wt(a,0),wt(a,0),wt(a,0),wt(a,0),wt(a,9===a.level?2:a.strategy>=at||a.level<2?4:0),wt(a,3),a.status=113,ct(t),0!==a.pending)return a.last_flush=-1,q;if(69===a.status){if(a.gzhead.extra){let e=a.pending,i=(65535&a.gzhead.extra.length)-a.gzindex;for(;a.pending+i>a.pending_buf_size;){let n=a.pending_buf_size-a.pending;if(a.pending_buf.set(a.gzhead.extra.subarray(a.gzindex,a.gzindex+n),a.pending),a.pending=a.pending_buf_size,a.gzhead.hcrc&&a.pending>e&&(t.adler=N(t.adler,a.pending_buf,a.pending-e,e)),a.gzindex+=n,ct(t),0!==a.pending)return a.last_flush=-1,q;e=0,i-=n}let n=new Uint8Array(a.gzhead.extra);a.pending_buf.set(n.subarray(a.gzindex,a.gzindex+i),a.pending),a.pending+=i,a.gzhead.hcrc&&a.pending>e&&(t.adler=N(t.adler,a.pending_buf,a.pending-e,e)),a.gzindex=0}a.status=73}if(73===a.status){if(a.gzhead.name){let e,i=a.pending;do{if(a.pending===a.pending_buf_size){if(a.gzhead.hcrc&&a.pending>i&&(t.adler=N(t.adler,a.pending_buf,a.pending-i,i)),ct(t),0!==a.pending)return a.last_flush=-1,q;i=0}e=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,wt(a,e)}while(0!==e);a.gzhead.hcrc&&a.pending>i&&(t.adler=N(t.adler,a.pending_buf,a.pending-i,i)),a.gzindex=0}a.status=91}if(91===a.status){if(a.gzhead.comment){let e,i=a.pending;do{if(a.pending===a.pending_buf_size){if(a.gzhead.hcrc&&a.pending>i&&(t.adler=N(t.adler,a.pending_buf,a.pending-i,i)),ct(t),0!==a.pending)return a.last_flush=-1,q;i=0}e=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,wt(a,e)}while(0!==e);a.gzhead.hcrc&&a.pending>i&&(t.adler=N(t.adler,a.pending_buf,a.pending-i,i))}a.status=103}if(103===a.status){if(a.gzhead.hcrc){if(a.pending+2>a.pending_buf_size&&(ct(t),0!==a.pending))return a.last_flush=-1,q;wt(a,255&t.adler),wt(a,t.adler>>8&255),t.adler=0}if(a.status=113,ct(t),0!==a.pending)return a.last_flush=-1,q}if(0!==t.avail_in||0!==a.lookahead||e!==P&&666!==a.status){let i=0===a.level?kt(a,e):a.strategy===at?((t,e)=>{let a;for(;;){if(0===t.lookahead&&(pt(t),0===t.lookahead)){if(e===P)return 1;break}if(t.match_length=0,a=j(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===X?(ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ut(t,!1),0===t.strm.avail_out)?1:2})(a,e):a.strategy===it?((t,e)=>{let a,i,n,s;const r=t.window;for(;;){if(t.lookahead<=258){if(pt(t),t.lookahead<=258&&e===P)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=t.strstart-1,i=r[n],i===r[++n]&&i===r[++n]&&i===r[++n])){s=t.strstart+258;do{}while(i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&n<s);t.match_length=258-(s-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(a=j(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=j(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===X?(ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ut(t,!1),0===t.strm.avail_out)?1:2})(a,e):zt[a.level].func(a,e);if(3!==i&&4!==i||(a.status=666),1===i||3===i)return 0===t.avail_out&&(a.last_flush=-1),q;if(2===i&&(e===Y?K(a):e!==W&&(H(a,0,0,!1),e===G&&(dt(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),ct(t),0===t.avail_out))return a.last_flush=-1,q}return e!==X?q:a.wrap<=0?J:(2===a.wrap?(wt(a,255&t.adler),wt(a,t.adler>>8&255),wt(a,t.adler>>16&255),wt(a,t.adler>>24&255),wt(a,255&t.total_in),wt(a,t.total_in>>8&255),wt(a,t.total_in>>16&255),wt(a,t.total_in>>24&255)):(mt(a,t.adler>>>16),mt(a,65535&t.adler)),ct(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?q:J)},deflateEnd:t=>{if(Et(t))return Q;const e=t.state.status;return t.state=null,113===e?lt(t,V):q},deflateSetDictionary:(t,e)=>{let a=e.length;if(Et(t))return Q;const i=t.state,n=i.wrap;if(2===n||1===n&&42!==i.status||i.lookahead)return Q;if(1===n&&(t.adler=F(t.adler,e,a,0)),i.wrap=0,a>=i.w_size){0===n&&(dt(i.head),i.strstart=0,i.block_start=0,i.insert=0);let t=new Uint8Array(i.w_size);t.set(e.subarray(a-i.w_size,a),0),e=t,a=i.w_size}const s=t.avail_in,r=t.next_in,o=t.input;for(t.avail_in=a,t.next_in=0,t.input=e,pt(i);i.lookahead>=3;){let t=i.strstart,e=i.lookahead-2;do{i.ins_h=ft(i,i.ins_h,i.window[t+3-1]),i.prev[t&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=t,t++}while(--e);i.strstart=t,i.lookahead=2,pt(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=r,t.input=o,t.avail_in=s,i.wrap=n,q},deflateInfo:"pako deflate (from Nodeca project)"};const Dt=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Tt=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const a=e.shift();if(a){if("object"!=typeof a)throw new TypeError(a+"must be non-object");for(const e in a)Dt(a,e)&&(t[e]=a[e])}}return t},Ot=t=>{let e=0;for(let a=0,i=t.length;a<i;a++)e+=t[a].length;const a=new Uint8Array(e);for(let e=0,i=0,n=t.length;e<n;e++){let n=t[e];a.set(n,i),i+=n.length}return a};let Ft=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Ft=!1}const Lt=new Uint8Array(256);for(let t=0;t<256;t++)Lt[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Lt[254]=Lt[254]=1;var Nt=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,a,i,n,s,r=t.length,o=0;for(n=0;n<r;n++)a=t.charCodeAt(n),55296==(64512&a)&&n+1<r&&(i=t.charCodeAt(n+1),56320==(64512&i)&&(a=65536+(a-55296<<10)+(i-56320),n++)),o+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(o),s=0,n=0;s<o;n++)a=t.charCodeAt(n),55296==(64512&a)&&n+1<r&&(i=t.charCodeAt(n+1),56320==(64512&i)&&(a=65536+(a-55296<<10)+(i-56320),n++)),a<128?e[s++]=a:a<2048?(e[s++]=192|a>>>6,e[s++]=128|63&a):a<65536?(e[s++]=224|a>>>12,e[s++]=128|a>>>6&63,e[s++]=128|63&a):(e[s++]=240|a>>>18,e[s++]=128|a>>>12&63,e[s++]=128|a>>>6&63,e[s++]=128|63&a);return e},It=(t,e)=>{const a=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let i,n;const s=new Array(2*a);for(n=0,i=0;i<a;){let e=t[i++];if(e<128){s[n++]=e;continue}let r=Lt[e];if(r>4)s[n++]=65533,i+=r-1;else{for(e&=2===r?31:3===r?15:7;r>1&&i<a;)e=e<<6|63&t[i++],r--;r>1?s[n++]=65533:e<65536?s[n++]=e:(e-=65536,s[n++]=55296|e>>10&1023,s[n++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&Ft)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let a="";for(let i=0;i<e;i++)a+=String.fromCharCode(t[i]);return a})(s,n)},Bt=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let a=e-1;for(;a>=0&&128==(192&t[a]);)a--;return a<0||0===a?e:a+Lt[t[a]]>e?a:e};var Ct=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Ht=Object.prototype.toString,{Z_NO_FLUSH:Mt,Z_SYNC_FLUSH:jt,Z_FULL_FLUSH:Kt,Z_FINISH:Pt,Z_OK:Yt,Z_STREAM_END:Gt,Z_DEFAULT_COMPRESSION:Xt,Z_DEFAULT_STRATEGY:Wt,Z_DEFLATED:qt}=B;function Jt(t){this.options=Tt({level:Xt,method:qt,chunkSize:16384,windowBits:15,memLevel:8,strategy:Wt},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ct,this.strm.avail_out=0;let a=St.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(a!==Yt)throw new Error(I[a]);if(e.header&&St.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?Nt(e.dictionary):"[object ArrayBuffer]"===Ht.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,a=St.deflateSetDictionary(this.strm,t),a!==Yt)throw new Error(I[a]);this._dict_set=!0}}function Qt(t,e){const a=new Jt(e);if(a.push(t,!0),a.err)throw a.msg||I[a.err];return a.result}Jt.prototype.push=function(t,e){const a=this.strm,i=this.options.chunkSize;let n,s;if(this.ended)return!1;for(s=e===~~e?e:!0===e?Pt:Mt,"string"==typeof t?a.input=Nt(t):"[object ArrayBuffer]"===Ht.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;)if(0===a.avail_out&&(a.output=new Uint8Array(i),a.next_out=0,a.avail_out=i),(s===jt||s===Kt)&&a.avail_out<=6)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else{if(n=St.deflate(a,s),n===Gt)return a.next_out>0&&this.onData(a.output.subarray(0,a.next_out)),n=St.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===Yt;if(0!==a.avail_out){if(s>0&&a.next_out>0)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else if(0===a.avail_in)break}else this.onData(a.output)}return!0},Jt.prototype.onData=function(t){this.chunks.push(t)},Jt.prototype.onEnd=function(t){t===Yt&&(this.result=Ot(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Vt={Deflate:Jt,deflate:Qt,deflateRaw:function(t,e){return(e=e||{}).raw=!0,Qt(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,Qt(t,e)},constants:B};var $t=function(t,e){let a,i,n,s,r,o,l,h,d,_,f,c,u,w,m,b,g,p,k,v,y,x,z,A;const E=t.state;a=t.next_in,z=t.input,i=a+(t.avail_in-5),n=t.next_out,A=t.output,s=n-(e-t.avail_out),r=n+(t.avail_out-257),o=E.dmax,l=E.wsize,h=E.whave,d=E.wnext,_=E.window,f=E.hold,c=E.bits,u=E.lencode,w=E.distcode,m=(1<<E.lenbits)-1,b=(1<<E.distbits)-1;t:do{c<15&&(f+=z[a++]<<c,c+=8,f+=z[a++]<<c,c+=8),g=u[f&m];e:for(;;){if(p=g>>>24,f>>>=p,c-=p,p=g>>>16&255,0===p)A[n++]=65535&g;else{if(!(16&p)){if(0==(64&p)){g=u[(65535&g)+(f&(1<<p)-1)];continue e}if(32&p){E.mode=16191;break t}t.msg="invalid literal/length code",E.mode=16209;break t}k=65535&g,p&=15,p&&(c<p&&(f+=z[a++]<<c,c+=8),k+=f&(1<<p)-1,f>>>=p,c-=p),c<15&&(f+=z[a++]<<c,c+=8,f+=z[a++]<<c,c+=8),g=w[f&b];a:for(;;){if(p=g>>>24,f>>>=p,c-=p,p=g>>>16&255,!(16&p)){if(0==(64&p)){g=w[(65535&g)+(f&(1<<p)-1)];continue a}t.msg="invalid distance code",E.mode=16209;break t}if(v=65535&g,p&=15,c<p&&(f+=z[a++]<<c,c+=8,c<p&&(f+=z[a++]<<c,c+=8)),v+=f&(1<<p)-1,v>o){t.msg="invalid distance too far back",E.mode=16209;break t}if(f>>>=p,c-=p,p=n-s,v>p){if(p=v-p,p>h&&E.sane){t.msg="invalid distance too far back",E.mode=16209;break t}if(y=0,x=_,0===d){if(y+=l-p,p<k){k-=p;do{A[n++]=_[y++]}while(--p);y=n-v,x=A}}else if(d<p){if(y+=l+d-p,p-=d,p<k){k-=p;do{A[n++]=_[y++]}while(--p);if(y=0,d<k){p=d,k-=p;do{A[n++]=_[y++]}while(--p);y=n-v,x=A}}}else if(y+=d-p,p<k){k-=p;do{A[n++]=_[y++]}while(--p);y=n-v,x=A}for(;k>2;)A[n++]=x[y++],A[n++]=x[y++],A[n++]=x[y++],k-=3;k&&(A[n++]=x[y++],k>1&&(A[n++]=x[y++]))}else{y=n-v;do{A[n++]=A[y++],A[n++]=A[y++],A[n++]=A[y++],k-=3}while(k>2);k&&(A[n++]=A[y++],k>1&&(A[n++]=A[y++]))}break}}break}}while(a<i&&n<r);k=c>>3,a-=k,c-=k<<3,f&=(1<<c)-1,t.next_in=a,t.next_out=n,t.avail_in=a<i?i-a+5:5-(a-i),t.avail_out=n<r?r-n+257:257-(n-r),E.hold=f,E.bits=c};const te=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ee=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ae=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ie=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ne=(t,e,a,i,n,s,r,o)=>{const l=o.bits;let h,d,_,f,c,u,w=0,m=0,b=0,g=0,p=0,k=0,v=0,y=0,x=0,z=0,A=null;const E=new Uint16Array(16),R=new Uint16Array(16);let Z,U,S,D=null;for(w=0;w<=15;w++)E[w]=0;for(m=0;m<i;m++)E[e[a+m]]++;for(p=l,g=15;g>=1&&0===E[g];g--);if(p>g&&(p=g),0===g)return n[s++]=20971520,n[s++]=20971520,o.bits=1,0;for(b=1;b<g&&0===E[b];b++);for(p<b&&(p=b),y=1,w=1;w<=15;w++)if(y<<=1,y-=E[w],y<0)return-1;if(y>0&&(0===t||1!==g))return-1;for(R[1]=0,w=1;w<15;w++)R[w+1]=R[w]+E[w];for(m=0;m<i;m++)0!==e[a+m]&&(r[R[e[a+m]]++]=m);if(0===t?(A=D=r,u=20):1===t?(A=te,D=ee,u=257):(A=ae,D=ie,u=0),z=0,m=0,w=b,c=s,k=p,v=0,_=-1,x=1<<p,f=x-1,1===t&&x>852||2===t&&x>592)return 1;for(;;){Z=w-v,r[m]+1<u?(U=0,S=r[m]):r[m]>=u?(U=D[r[m]-u],S=A[r[m]-u]):(U=96,S=0),h=1<<w-v,d=1<<k,b=d;do{d-=h,n[c+(z>>v)+d]=Z<<24|U<<16|S|0}while(0!==d);for(h=1<<w-1;z&h;)h>>=1;if(0!==h?(z&=h-1,z+=h):z=0,m++,0==--E[w]){if(w===g)break;w=e[a+r[m]]}if(w>p&&(z&f)!==_){for(0===v&&(v=p),c+=b,k=w-v,y=1<<k;k+v<g&&(y-=E[k+v],!(y<=0));)k++,y<<=1;if(x+=1<<k,1===t&&x>852||2===t&&x>592)return 1;_=z&f,n[_]=p<<24|k<<16|c-s|0}}return 0!==z&&(n[c+z]=w-v<<24|64<<16|0),o.bits=p,0};const{Z_FINISH:se,Z_BLOCK:re,Z_TREES:oe,Z_OK:le,Z_STREAM_END:he,Z_NEED_DICT:de,Z_STREAM_ERROR:_e,Z_DATA_ERROR:fe,Z_MEM_ERROR:ce,Z_BUF_ERROR:ue,Z_DEFLATED:we}=B,me=16209,be=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function ge(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const pe=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<16180||e.mode>16211?1:0},ke=t=>{if(pe(t))return _e;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=16180,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,le},ve=t=>{if(pe(t))return _e;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,ke(t)},ye=(t,e)=>{let a;if(pe(t))return _e;const i=t.state;return e<0?(a=0,e=-e):(a=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?_e:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=a,i.wbits=e,ve(t))},xe=(t,e)=>{if(!t)return _e;const a=new ge;t.state=a,a.strm=t,a.window=null,a.mode=16180;const i=ye(t,e);return i!==le&&(t.state=null),i};let ze,Ae,Ee=!0;const Re=t=>{if(Ee){ze=new Int32Array(512),Ae=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(ne(1,t.lens,0,288,ze,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;ne(2,t.lens,0,32,Ae,0,t.work,{bits:5}),Ee=!1}t.lencode=ze,t.lenbits=9,t.distcode=Ae,t.distbits=5},Ze=(t,e,a,i)=>{let n;const s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(e.subarray(a-s.wsize,a),0),s.wnext=0,s.whave=s.wsize):(n=s.wsize-s.wnext,n>i&&(n=i),s.window.set(e.subarray(a-i,a-i+n),s.wnext),(i-=n)?(s.window.set(e.subarray(a-i,a),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=n,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=n))),0};var Ue={inflateReset:ve,inflateReset2:ye,inflateResetKeep:ke,inflateInit:t=>xe(t,15),inflateInit2:xe,inflate:(t,e)=>{let a,i,n,s,r,o,l,h,d,_,f,c,u,w,m,b,g,p,k,v,y,x,z=0;const A=new Uint8Array(4);let E,R;const Z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(pe(t)||!t.output||!t.input&&0!==t.avail_in)return _e;a=t.state,16191===a.mode&&(a.mode=16192),r=t.next_out,n=t.output,l=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,h=a.hold,d=a.bits,_=o,f=l,x=le;t:for(;;)switch(a.mode){case 16180:if(0===a.wrap){a.mode=16192;break}for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(2&a.wrap&&35615===h){0===a.wbits&&(a.wbits=15),a.check=0,A[0]=255&h,A[1]=h>>>8&255,a.check=N(a.check,A,2,0),h=0,d=0,a.mode=16181;break}if(a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",a.mode=me;break}if((15&h)!==we){t.msg="unknown compression method",a.mode=me;break}if(h>>>=4,d-=4,y=8+(15&h),0===a.wbits&&(a.wbits=y),y>15||y>a.wbits){t.msg="invalid window size",a.mode=me;break}a.dmax=1<<a.wbits,a.flags=0,t.adler=a.check=1,a.mode=512&h?16189:16191,h=0,d=0;break;case 16181:for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(a.flags=h,(255&a.flags)!==we){t.msg="unknown compression method",a.mode=me;break}if(57344&a.flags){t.msg="unknown header flags set",a.mode=me;break}a.head&&(a.head.text=h>>8&1),512&a.flags&&4&a.wrap&&(A[0]=255&h,A[1]=h>>>8&255,a.check=N(a.check,A,2,0)),h=0,d=0,a.mode=16182;case 16182:for(;d<32;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.head&&(a.head.time=h),512&a.flags&&4&a.wrap&&(A[0]=255&h,A[1]=h>>>8&255,A[2]=h>>>16&255,A[3]=h>>>24&255,a.check=N(a.check,A,4,0)),h=0,d=0,a.mode=16183;case 16183:for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.head&&(a.head.xflags=255&h,a.head.os=h>>8),512&a.flags&&4&a.wrap&&(A[0]=255&h,A[1]=h>>>8&255,a.check=N(a.check,A,2,0)),h=0,d=0,a.mode=16184;case 16184:if(1024&a.flags){for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.length=h,a.head&&(a.head.extra_len=h),512&a.flags&&4&a.wrap&&(A[0]=255&h,A[1]=h>>>8&255,a.check=N(a.check,A,2,0)),h=0,d=0}else a.head&&(a.head.extra=null);a.mode=16185;case 16185:if(1024&a.flags&&(c=a.length,c>o&&(c=o),c&&(a.head&&(y=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Uint8Array(a.head.extra_len)),a.head.extra.set(i.subarray(s,s+c),y)),512&a.flags&&4&a.wrap&&(a.check=N(a.check,i,c,s)),o-=c,s+=c,a.length-=c),a.length))break t;a.length=0,a.mode=16186;case 16186:if(2048&a.flags){if(0===o)break t;c=0;do{y=i[s+c++],a.head&&y&&a.length<65536&&(a.head.name+=String.fromCharCode(y))}while(y&&c<o);if(512&a.flags&&4&a.wrap&&(a.check=N(a.check,i,c,s)),o-=c,s+=c,y)break t}else a.head&&(a.head.name=null);a.length=0,a.mode=16187;case 16187:if(4096&a.flags){if(0===o)break t;c=0;do{y=i[s+c++],a.head&&y&&a.length<65536&&(a.head.comment+=String.fromCharCode(y))}while(y&&c<o);if(512&a.flags&&4&a.wrap&&(a.check=N(a.check,i,c,s)),o-=c,s+=c,y)break t}else a.head&&(a.head.comment=null);a.mode=16188;case 16188:if(512&a.flags){for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(4&a.wrap&&h!==(65535&a.check)){t.msg="header crc mismatch",a.mode=me;break}h=0,d=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),t.adler=a.check=0,a.mode=16191;break;case 16189:for(;d<32;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}t.adler=a.check=be(h),h=0,d=0,a.mode=16190;case 16190:if(0===a.havedict)return t.next_out=r,t.avail_out=l,t.next_in=s,t.avail_in=o,a.hold=h,a.bits=d,de;t.adler=a.check=1,a.mode=16191;case 16191:if(e===re||e===oe)break t;case 16192:if(a.last){h>>>=7&d,d-=7&d,a.mode=16206;break}for(;d<3;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}switch(a.last=1&h,h>>>=1,d-=1,3&h){case 0:a.mode=16193;break;case 1:if(Re(a),a.mode=16199,e===oe){h>>>=2,d-=2;break t}break;case 2:a.mode=16196;break;case 3:t.msg="invalid block type",a.mode=me}h>>>=2,d-=2;break;case 16193:for(h>>>=7&d,d-=7&d;d<32;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if((65535&h)!=(h>>>16^65535)){t.msg="invalid stored block lengths",a.mode=me;break}if(a.length=65535&h,h=0,d=0,a.mode=16194,e===oe)break t;case 16194:a.mode=16195;case 16195:if(c=a.length,c){if(c>o&&(c=o),c>l&&(c=l),0===c)break t;n.set(i.subarray(s,s+c),r),o-=c,s+=c,l-=c,r+=c,a.length-=c;break}a.mode=16191;break;case 16196:for(;d<14;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(a.nlen=257+(31&h),h>>>=5,d-=5,a.ndist=1+(31&h),h>>>=5,d-=5,a.ncode=4+(15&h),h>>>=4,d-=4,a.nlen>286||a.ndist>30){t.msg="too many length or distance symbols",a.mode=me;break}a.have=0,a.mode=16197;case 16197:for(;a.have<a.ncode;){for(;d<3;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.lens[Z[a.have++]]=7&h,h>>>=3,d-=3}for(;a.have<19;)a.lens[Z[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,E={bits:a.lenbits},x=ne(0,a.lens,0,19,a.lencode,0,a.work,E),a.lenbits=E.bits,x){t.msg="invalid code lengths set",a.mode=me;break}a.have=0,a.mode=16198;case 16198:for(;a.have<a.nlen+a.ndist;){for(;z=a.lencode[h&(1<<a.lenbits)-1],m=z>>>24,b=z>>>16&255,g=65535&z,!(m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(g<16)h>>>=m,d-=m,a.lens[a.have++]=g;else{if(16===g){for(R=m+2;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(h>>>=m,d-=m,0===a.have){t.msg="invalid bit length repeat",a.mode=me;break}y=a.lens[a.have-1],c=3+(3&h),h>>>=2,d-=2}else if(17===g){for(R=m+3;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}h>>>=m,d-=m,y=0,c=3+(7&h),h>>>=3,d-=3}else{for(R=m+7;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}h>>>=m,d-=m,y=0,c=11+(127&h),h>>>=7,d-=7}if(a.have+c>a.nlen+a.ndist){t.msg="invalid bit length repeat",a.mode=me;break}for(;c--;)a.lens[a.have++]=y}}if(a.mode===me)break;if(0===a.lens[256]){t.msg="invalid code -- missing end-of-block",a.mode=me;break}if(a.lenbits=9,E={bits:a.lenbits},x=ne(1,a.lens,0,a.nlen,a.lencode,0,a.work,E),a.lenbits=E.bits,x){t.msg="invalid literal/lengths set",a.mode=me;break}if(a.distbits=6,a.distcode=a.distdyn,E={bits:a.distbits},x=ne(2,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,E),a.distbits=E.bits,x){t.msg="invalid distances set",a.mode=me;break}if(a.mode=16199,e===oe)break t;case 16199:a.mode=16200;case 16200:if(o>=6&&l>=258){t.next_out=r,t.avail_out=l,t.next_in=s,t.avail_in=o,a.hold=h,a.bits=d,$t(t,f),r=t.next_out,n=t.output,l=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,h=a.hold,d=a.bits,16191===a.mode&&(a.back=-1);break}for(a.back=0;z=a.lencode[h&(1<<a.lenbits)-1],m=z>>>24,b=z>>>16&255,g=65535&z,!(m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(b&&0==(240&b)){for(p=m,k=b,v=g;z=a.lencode[v+((h&(1<<p+k)-1)>>p)],m=z>>>24,b=z>>>16&255,g=65535&z,!(p+m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}h>>>=p,d-=p,a.back+=p}if(h>>>=m,d-=m,a.back+=m,a.length=g,0===b){a.mode=16205;break}if(32&b){a.back=-1,a.mode=16191;break}if(64&b){t.msg="invalid literal/length code",a.mode=me;break}a.extra=15&b,a.mode=16201;case 16201:if(a.extra){for(R=a.extra;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.length+=h&(1<<a.extra)-1,h>>>=a.extra,d-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=16202;case 16202:for(;z=a.distcode[h&(1<<a.distbits)-1],m=z>>>24,b=z>>>16&255,g=65535&z,!(m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(0==(240&b)){for(p=m,k=b,v=g;z=a.distcode[v+((h&(1<<p+k)-1)>>p)],m=z>>>24,b=z>>>16&255,g=65535&z,!(p+m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}h>>>=p,d-=p,a.back+=p}if(h>>>=m,d-=m,a.back+=m,64&b){t.msg="invalid distance code",a.mode=me;break}a.offset=g,a.extra=15&b,a.mode=16203;case 16203:if(a.extra){for(R=a.extra;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.offset+=h&(1<<a.extra)-1,h>>>=a.extra,d-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){t.msg="invalid distance too far back",a.mode=me;break}a.mode=16204;case 16204:if(0===l)break t;if(c=f-l,a.offset>c){if(c=a.offset-c,c>a.whave&&a.sane){t.msg="invalid distance too far back",a.mode=me;break}c>a.wnext?(c-=a.wnext,u=a.wsize-c):u=a.wnext-c,c>a.length&&(c=a.length),w=a.window}else w=n,u=r-a.offset,c=a.length;c>l&&(c=l),l-=c,a.length-=c;do{n[r++]=w[u++]}while(--c);0===a.length&&(a.mode=16200);break;case 16205:if(0===l)break t;n[r++]=a.length,l--,a.mode=16200;break;case 16206:if(a.wrap){for(;d<32;){if(0===o)break t;o--,h|=i[s++]<<d,d+=8}if(f-=l,t.total_out+=f,a.total+=f,4&a.wrap&&f&&(t.adler=a.check=a.flags?N(a.check,n,f,r-f):F(a.check,n,f,r-f)),f=l,4&a.wrap&&(a.flags?h:be(h))!==a.check){t.msg="incorrect data check",a.mode=me;break}h=0,d=0}a.mode=16207;case 16207:if(a.wrap&&a.flags){for(;d<32;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(4&a.wrap&&h!==(4294967295&a.total)){t.msg="incorrect length check",a.mode=me;break}h=0,d=0}a.mode=16208;case 16208:x=he;break t;case me:x=fe;break t;case 16210:return ce;default:return _e}return t.next_out=r,t.avail_out=l,t.next_in=s,t.avail_in=o,a.hold=h,a.bits=d,(a.wsize||f!==t.avail_out&&a.mode<me&&(a.mode<16206||e!==se))&&Ze(t,t.output,t.next_out,f-t.avail_out),_-=t.avail_in,f-=t.avail_out,t.total_in+=_,t.total_out+=f,a.total+=f,4&a.wrap&&f&&(t.adler=a.check=a.flags?N(a.check,n,f,t.next_out-f):F(a.check,n,f,t.next_out-f)),t.data_type=a.bits+(a.last?64:0)+(16191===a.mode?128:0)+(16199===a.mode||16194===a.mode?256:0),(0===_&&0===f||e===se)&&x===le&&(x=ue),x},inflateEnd:t=>{if(pe(t))return _e;let e=t.state;return e.window&&(e.window=null),t.state=null,le},inflateGetHeader:(t,e)=>{if(pe(t))return _e;const a=t.state;return 0==(2&a.wrap)?_e:(a.head=e,e.done=!1,le)},inflateSetDictionary:(t,e)=>{const a=e.length;let i,n,s;return pe(t)?_e:(i=t.state,0!==i.wrap&&16190!==i.mode?_e:16190===i.mode&&(n=1,n=F(n,e,a,0),n!==i.check)?fe:(s=Ze(t,e,a,a),s?(i.mode=16210,ce):(i.havedict=1,le)))},inflateInfo:"pako inflate (from Nodeca project)"};var Se=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const De=Object.prototype.toString,{Z_NO_FLUSH:Te,Z_FINISH:Oe,Z_OK:Fe,Z_STREAM_END:Le,Z_NEED_DICT:Ne,Z_STREAM_ERROR:Ie,Z_DATA_ERROR:Be,Z_MEM_ERROR:Ce}=B;function He(t){this.options=Tt({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ct,this.strm.avail_out=0;let a=Ue.inflateInit2(this.strm,e.windowBits);if(a!==Fe)throw new Error(I[a]);if(this.header=new Se,Ue.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Nt(e.dictionary):"[object ArrayBuffer]"===De.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(a=Ue.inflateSetDictionary(this.strm,e.dictionary),a!==Fe)))throw new Error(I[a])}He.prototype.push=function(t,e){const a=this.strm,i=this.options.chunkSize,n=this.options.dictionary;let s,r,o;if(this.ended)return!1;for(r=e===~~e?e:!0===e?Oe:Te,"[object ArrayBuffer]"===De.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;){for(0===a.avail_out&&(a.output=new Uint8Array(i),a.next_out=0,a.avail_out=i),s=Ue.inflate(a,r),s===Ne&&n&&(s=Ue.inflateSetDictionary(a,n),s===Fe?s=Ue.inflate(a,r):s===Be&&(s=Ne));a.avail_in>0&&s===Le&&a.state.wrap>0&&0!==t[a.next_in];)Ue.inflateReset(a),s=Ue.inflate(a,r);switch(s){case Ie:case Be:case Ne:case Ce:return this.onEnd(s),this.ended=!0,!1}if(o=a.avail_out,a.next_out&&(0===a.avail_out||s===Le))if("string"===this.options.to){let t=Bt(a.output,a.next_out),e=a.next_out-t,n=It(a.output,t);a.next_out=e,a.avail_out=i-e,e&&a.output.set(a.output.subarray(t,t+e),0),this.onData(n)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(s!==Fe||0!==o){if(s===Le)return s=Ue.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===a.avail_in)break}}return!0},He.prototype.onData=function(t){this.chunks.push(t)},He.prototype.onEnd=function(t){t===Fe&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Ot(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const{Deflate:Me,deflate:je,deflateRaw:Ke,gzip:Pe}=Vt;var Ye=Me,Ge=je,Xe=B;const We=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const e=this._hasEvents?",":"";this.deflate.push(e+t,Xe.Z_SYNC_FLUSH),this._hasEvents=!0}finish(){if(this.deflate.push("]",Xe.Z_FINISH),this.deflate.err)throw this.deflate.err;const t=this.deflate.result;return this._init(),t}_init(){this._hasEvents=!1,this.deflate=new Ye,this.deflate.push("[",Xe.Z_NO_FLUSH)}},qe={clear:()=>{We.clear()},addEvent:t=>We.addEvent(t),finish:()=>We.finish(),compress:t=>function(t){return Ge(t)}(t)};addEventListener("message",(function(t){const e=t.data.method,a=t.data.id,i=t.data.arg;if(e in qe&&"function"==typeof qe[e])try{const t=qe[e](i);postMessage({id:a,method:e,success:!0,response:t})}catch(t){postMessage({id:a,method:e,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});`;function Yh(){let e=new Blob([Hh]);return URL.createObjectURL(e)}function ae(e,t){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&(m.info(e),t&&Eu(e))}function on(e,t){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&(m.info(e),t&&setTimeout(()=>{Eu(e)},0))}function Eu(e){T().addBreadcrumb({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}var Jn=class extends Error{constructor(){super(`Event buffer exceeded maximum size of ${lo}.`)}},ui=class{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){let n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>lo)throw new Jn;this.events.push(t)}finish(){return new Promise(t=>{let n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let t=this.events.map(n=>n.timestamp).sort()[0];return t?ho(t):null}},Xs=class{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){ae("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(t,n){let r=this._getAndIncrementId();return new Promise((i,s)=>{let o=({data:a})=>{let c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",o),!c.success){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error("[Replay]",c.response),s(new Error("Error in compression worker"));return}i(c.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}},Qs=class{constructor(t){this._worker=new Xs(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){let n=ho(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);let r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>lo?Promise.reject(new Jn):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear")}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){let t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}},eo=class{constructor(t){this._fallback=new ui,this._compression=new Qs(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch{ae("[Replay] Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){let{events:t,hasCheckout:n}=this._fallback,r=[];for(let i of t)r.push(this._compression.addEvent(i));this._compression.hasCheckout=n,this._used=this._compression;try{await Promise.all(r)}catch(i){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn("[Replay] Failed to add events when switching buffers.",i)}}};function zh({useCompression:e}){if(e&&window.Worker)try{let t=Yh();ae("[Replay] Using compression worker");let n=new Worker(t);return new eo(n)}catch{ae("[Replay] Failed to create compression worker")}return ae("[Replay] Using simple buffer"),new ui}function mo(){try{return"sessionStorage"in P&&!!P.sessionStorage}catch{return!1}}function Wh(e){$h(),e.session=void 0}function $h(){if(mo())try{P.sessionStorage.removeItem(co)}catch{}}function Su(e){return e===void 0?!1:Math.random()<e}function go(e){if(mo())try{P.sessionStorage.setItem(co,JSON.stringify(e))}catch{}}function vu(e){let t=Date.now(),n=e.id||V(),r=e.started||t,i=e.lastActivity||t,s=e.segmentId||0,o=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:i,segmentId:s,sampled:o,previousSessionId:a}}function Vh(e,t){return Su(e)?"session":t?"buffer":!1}function zc({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){let i=Vh(e,t),s=vu({sampled:i,previousSessionId:r});return n&&go(s),s}function Zh(e){if(!mo())return null;try{let t=P.sessionStorage.getItem(co);if(!t)return null;let n=JSON.parse(t);return on("[Replay] Loading existing session",e),vu(n)}catch{return null}}function to(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function wu(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return to(e.started,t,r)||to(e.lastActivity,n,r)}function Iu(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!wu(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function Ps({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:n,previousSessionId:r},i){let s=i.stickySession&&Zh(e);return s?Iu(s,{sessionIdleExpire:t,maxReplayDuration:n})?(on("[Replay] Session in sessionStorage is expired, creating new one..."),zc(i,{previousSessionId:s.id})):s:(on("[Replay] Creating new session",e),zc(i,{previousSessionId:r}))}var jh=5;function qh(e){return e.type===D.Custom}function yo(e,t,n){return Cu(e,t)?(Tu(e,t,n),!0):!1}function Kh(e,t,n){return Cu(e,t)?Tu(e,t,n):Promise.resolve(null)}async function Tu(e,t,n){if(!e.eventBuffer)return null;try{n&&e.recordingMode==="buffer"&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);let r=e.getOptions(),i=Jh(t,r.beforeAddRecordingEvent);return i?await e.eventBuffer.addEvent(i):void 0}catch(r){let i=r&&r instanceof Jn?"addEventSizeExceeded":"addEvent";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error(r),await e.stop({reason:i});let s=T().getClient();s&&s.recordDroppedEvent("internal_sdk_error","replay")}}function Cu(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;let n=ho(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(ae(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,e.getOptions()._experiments.traceInternals),!1):!0}function Jh(e,t){try{if(typeof t=="function"&&qh(e))return t(e)}catch(n){return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",n),null}return e}function ku(e){return!e.type}function no(e){return e.type==="transaction"}function Xh(e){return e.type==="replay_event"}function Ru(e){let t=t_();return(n,r)=>{if(!e.isEnabled()||!ku(n)&&!no(n))return;let i=r&&r.statusCode;if(!(t&&(!i||i<200||i>=300))){if(no(n)){Qh(e,n);return}e_(e,n)}}}function Qh(e,t){let n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function e_(e,t){let n=e.getContext();t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode==="buffer"&&t.tags&&t.tags.replayId&&setTimeout(()=>{e.sendBufferedReplayOrFlush()})}function t_(){let e=T().getClient();if(!e)return!1;let t=e.getTransport();return t&&t.send.__sentry__baseTransport__||!1}function n_(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:t.originalException&&t.originalException.__rrweb__?!0:e.exception.values.some(n=>!n.stacktrace||!n.stacktrace.frames||!n.stacktrace.frames.length?!1:n.stacktrace.frames.some(r=>r.filename&&r.filename.includes("/rrweb/src/")))}function r_(e,t){return e.recordingMode!=="buffer"||t.message===uo||!t.exception||t.type?!1:Su(e.getOptions().errorSampleRate)}function i_(e,t=!1){let n=t?Ru(e):void 0;return Object.assign((r,i)=>e.isEnabled()?Xh(r)?(delete r.breadcrumbs,r):!ku(r)&&!no(r)||!e.checkAndHandleExpiredSession()?r:n_(r,i)&&!e.getOptions()._experiments.captureExceptions?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("[Replay] Ignoring error from rrweb internals",r),null):((r_(e,r)||e.recordingMode==="session")&&(r.tags={...r.tags,replayId:e.getSessionId()}),n&&n(r,{statusCode:200}),r):r,{id:"Replay"})}function mi(e,t){return t.map(({type:n,start:r,end:i,name:s,data:o})=>{let a=e.throttledAddEvent({type:D.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:s,startTimestamp:r,endTimestamp:i,data:o}}});return typeof a=="string"?Promise.resolve(null):a})}function s_(e){let{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function o_(e){return t=>{if(!e.isEnabled())return;let n=s_(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(mi(e,[n]),!1)))}}function a_(e,t){return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&e.getOptions()._experiments.traceInternals?!1:Cs(t,T())}function gi(e,t){e.isEnabled()&&t!==null&&(a_(e,t.name)||e.addUpdate(()=>(mi(e,[t]),!0)))}function c_(e){let{startTimestamp:t,endTimestamp:n,fetchData:r,response:i}=e;if(!n)return null;let{method:s,url:o}=r;return{type:"resource.fetch",start:t/1e3,end:n/1e3,name:o,data:{method:s,statusCode:i?i.status:void 0}}}function u_(e){return t=>{if(!e.isEnabled())return;let n=c_(t);gi(e,n)}}function l_(e){let{startTimestamp:t,endTimestamp:n,xhr:r}=e,i=r[Ie];if(!t||!n||!i)return null;let{method:s,url:o,status_code:a}=i;return o===void 0?null:{type:"resource.xhr",name:o,start:t/1e3,end:n/1e3,data:{method:s,statusCode:a}}}function d_(e){return t=>{if(!e.isEnabled())return;let n=l_(t);gi(e,n)}}var ct=10,bo=11,ro=12,Xe=13,io=14,ln=15,Ke=20,Ce=21,so=22,dn=23,xu=["true","false","null"];function f_(e,t){if(!t.length)return e;let n=e,r=t.length-1,i=t[r];n=p_(n,i);for(let s=r;s>=0;s--)switch(t[s]){case ct:n=`${n}}`;break;case Ke:n=`${n}]`;break}return n}function p_(e,t){switch(t){case ct:return`${e}"~~":"~~"`;case bo:return`${e}:"~~"`;case ro:return`${e}~~":"~~"`;case Xe:return m_(e);case io:return`${e}~~"`;case ln:return`${e},"~~":"~~"`;case Ke:return`${e}"~~"`;case Ce:return h_(e);case so:return`${e}~~"`;case dn:return`${e},"~~"`}return e}function h_(e){let t=__(e);if(t>-1){let n=e.slice(t+1);return xu.includes(n.trim())?`${e},"~~"`:`${e.slice(0,t+1)}"~~"`}return e}function __(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n===","||n==="[")return t}return-1}function m_(e){let t=e.lastIndexOf(":"),n=e.slice(t+1);return xu.includes(n.trim())?`${e},"~~":"~~"`:`${e.slice(0,t+1)}"~~"`}function g_(e){let t=[];for(let n=0;n<e.length;n++)y_(t,e,n);return t}function y_(e,t,n){let r=e[e.length-1],i=t[n];if(!/\s/.test(i)){if(i==='"'&&!Au(t,n)){b_(e,r);return}switch(i){case"{":E_(e,r);break;case"[":S_(e,r);break;case":":v_(e,r);break;case",":w_(e,r);break;case"}":I_(e,r);break;case"]":T_(e,r);break}}}function b_(e,t){if(t===io){e.pop(),e.push(ln);return}if(t===so){e.pop(),e.push(dn);return}if(t===Xe){e.push(io);return}if(t===Ce){e.push(so);return}if(t===ct){e.push(ro);return}if(t===ro){e.pop(),e.push(bo);return}}function E_(e,t){if(!t){e.push(ct);return}if(t===Xe){e.push(ct);return}if(t===Ce&&e.push(ct),t===Ke){e.push(ct);return}}function S_(e,t){if(!t){e.push(Ke),e.push(Ce);return}if(t===Xe){e.push(Ke),e.push(Ce);return}if(t===Ce&&(e.push(Ke),e.push(Ce)),t===Ke){e.push(Ke),e.push(Ce);return}}function v_(e,t){t===bo&&(e.pop(),e.push(Xe))}function w_(e,t){if(t===Xe){e.pop();return}if(t===ln){e.pop(),e.pop();return}if(t!==Ce&&t===dn){e.pop();return}}function I_(e,t){t===ct&&e.pop(),t===Xe&&(e.pop(),e.pop()),t===ln&&(e.pop(),e.pop(),e.pop()),e[e.length-1]===Xe&&e.push(ln),e[e.length-1]===Ce&&e.push(dn)}function T_(e,t){t===Ke&&e.pop(),t===Ce&&(e.pop(),e.pop()),t===dn&&(e.pop(),e.pop(),e.pop()),e[e.length-1]===Xe&&e.push(ln),e[e.length-1]===Ce&&e.push(dn)}function Au(e,t){return e[t-1]==="\\"&&!Au(e,t-1)}function Nu(e){let t=g_(e);return f_(e,t)}function li(e,t){if(e)try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){let n=Bu(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function Du(e){if(!e)return;let t=parseInt(e,10);return isNaN(t)?void 0:t}function Ou(e){if(typeof e=="string")return e;if(e instanceof URLSearchParams)return e.toString();if(e instanceof FormData)return Bu(e)}function Mu(e,t){if(!t)return null;let{startTimestamp:n,endTimestamp:r,url:i,method:s,statusCode:o,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:i,data:ie({method:s,statusCode:o,request:a,response:c})}}function Xn(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function ut(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};let r={headers:e,size:t},{body:i,warnings:s}=C_(n);return r.body=i,s.length>0&&(r._meta={warnings:s}),r}function oo(e,t){return Object.keys(e).reduce((n,r)=>{let i=r.toLowerCase();return t.includes(i)&&e[r]&&(n[i]=e[r]),n},{})}function Bu(e){return new URLSearchParams(e).toString()}function C_(e){if(!e||typeof e!="string")return{body:e,warnings:[]};let t=e.length>Zr;if(k_(e))try{let n=t?Nu(e.slice(0,Zr)):e;return{body:JSON.parse(n),warnings:t?["JSON_TRUNCATED"]:[]}}catch{return{body:t?`${e.slice(0,Zr)}\u2026`:e,warnings:t?["INVALID_JSON","TEXT_TRUNCATED"]:["INVALID_JSON"]}}return{body:t?`${e.slice(0,Zr)}\u2026`:e,warnings:t?["TEXT_TRUNCATED"]:[]}}function k_(e){let t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function di(e,t){let n=R_(e);return Pe(n,t)}function R_(e,t=P.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(P.location.origin))return e;let n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;let r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function x_(e,t,n){try{let r=await N_(e,t,n),i=Mu("resource.fetch",r);gi(n.replay,i)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error("[Replay] Failed to capture fetch breadcrumb",r)}}function A_(e,t,n){let{input:r,response:i}=t,s=Uu(r),o=li(s,n.textEncoder),a=i?Du(i.headers.get("content-length")):void 0;o!==void 0&&(e.data.request_body_size=o),a!==void 0&&(e.data.response_body_size=a)}async function N_(e,t,n){let{startTimestamp:r,endTimestamp:i}=t,{url:s,method:o,status_code:a=0,request_body_size:c,response_body_size:l}=e.data,d=di(s,n.networkDetailAllowUrls)&&!di(s,n.networkDetailDenyUrls),u=d?D_(n,t.input,c):Xn(c),f=await O_(d,n,t.response,l);return{startTimestamp:r,endTimestamp:i,url:s,method:o,statusCode:a,request:u,response:f}}function D_({networkCaptureBodies:e,networkRequestHeaders:t},n,r){let i=B_(n,t);if(!e)return ut(i,r,void 0);let s=Uu(n),o=Ou(s);return ut(i,r,o)}async function O_(e,{networkCaptureBodies:t,textEncoder:n,networkResponseHeaders:r},i,s){if(!e&&s!==void 0)return Xn(s);let o=Lu(i.headers,r);if(!t&&s!==void 0)return ut(o,s,void 0);try{let a=i.clone(),c=await M_(a),l=c&&c.length&&s===void 0?li(c,n):s;return e?t?ut(o,l,c):ut(o,l,void 0):Xn(l)}catch{return ut(o,s,void 0)}}async function M_(e){try{return await e.text()}catch{return}}function Uu(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function Lu(e,t){let n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function B_(e,t){return e.length===1&&typeof e[0]!="string"?Wc(e[0],t):e.length===2?Wc(e[1],t):{}}function Wc(e,t){if(!e)return{};let n=e.headers;return n?n instanceof Headers?Lu(n,t):Array.isArray(n)?{}:oo(n,t):{}}async function U_(e,t,n){try{let r=P_(e,t,n),i=Mu("resource.xhr",r);gi(n.replay,i)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error("[Replay] Failed to capture fetch breadcrumb",r)}}function L_(e,t,n){let{xhr:r,input:i}=t,s=li(i,n.textEncoder),o=r.getResponseHeader("content-length")?Du(r.getResponseHeader("content-length")):li(r.response,n.textEncoder);s!==void 0&&(e.data.request_body_size=s),o!==void 0&&(e.data.response_body_size=o)}function P_(e,t,n){let{startTimestamp:r,endTimestamp:i,input:s,xhr:o}=t,{url:a,method:c,status_code:l=0,request_body_size:d,response_body_size:u}=e.data;if(!a)return null;if(!di(a,n.networkDetailAllowUrls)||di(a,n.networkDetailDenyUrls)){let g=Xn(d),b=Xn(u);return{startTimestamp:r,endTimestamp:i,url:a,method:c,statusCode:l,request:g,response:b}}let f=o[Ie],p=f?oo(f.request_headers,n.networkRequestHeaders):{},_=oo(F_(o),n.networkResponseHeaders),h=ut(p,d,n.networkCaptureBodies?Ou(s):void 0),y=ut(_,u,n.networkCaptureBodies?t.xhr.responseText:void 0);return{startTimestamp:r,endTimestamp:i,url:a,method:c,statusCode:l,request:h,response:y}}function F_(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[i,s]=r.split(": ");return n[i.toLowerCase()]=s,n},{}):{}}function G_(e){let t=T().getClient();try{let n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:i,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:a}=e.getOptions(),c={replay:e,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:i,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:a};t&&t.on?t.on("beforeAddBreadcrumb",(l,d)=>H_(c,l,d)):(W("fetch",u_(e)),W("xhr",d_(e)))}catch{}}function H_(e,t,n){if(t.data)try{Y_(t)&&W_(n)&&(L_(t,n,e),U_(t,n,e)),z_(t)&&$_(n)&&(A_(t,n,e),x_(t,n,e))}catch{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn("Error when enriching network breadcrumb")}}function Y_(e){return e.category==="xhr"}function z_(e){return e.category==="fetch"}function W_(e){return e&&e.xhr}function $_(e){return e&&e.response}var $c=null;function V_(e){return!!e.category}var Z_=e=>t=>{if(!e.isEnabled())return;let n=j_(t);n&&_i(e,n)};function j_(e){let t=e.getLastBreadcrumb&&e.getLastBreadcrumb();return $c===t||!t||($c=t,!V_(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))?null:t.category==="console"?q_(t):Je(t)}function q_(e){let t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return Je(e);let n=!1,r=t.map(i=>{if(!i)return i;if(typeof i=="string")return i.length>jr?(n=!0,`${i.slice(0,jr)}\u2026`):i;if(typeof i=="object")try{let s=fe(i,7),o=JSON.stringify(s);if(o.length>jr){let a=Nu(o.slice(0,jr)),c=JSON.parse(a);return n=!0,c}return s}catch{}return i});return Je({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function K_(e){let t=T().getScope(),n=T().getClient();t.addScopeListener(Z_(e)),W("dom",Nh(e)),W("history",o_(e)),G_(e);let r=i_(e,!Vc(n));n&&n.addEventProcessor?n.addEventProcessor(r):zt(r),Vc(n)&&(n.on("afterSendEvent",Ru(e)),n.on("createDsc",i=>{let s=e.getSessionId();s&&e.isEnabled()&&e.recordingMode==="session"&&(i.replay_id=s)}),n.on("startTransaction",i=>{e.lastTransaction=i}),n.on("finishTransaction",i=>{e.lastTransaction=i}))}function Vc(e){return!!(e&&e.on)}async function J_(e){try{return Promise.all(mi(e,[X_(P.performance.memory)]))}catch{return[]}}function X_(e){let{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}var Zc={resource:rm,paint:tm,navigation:nm,"largest-contentful-paint":im};function Q_(e){return e.map(em).filter(Boolean)}function em(e){return Zc[e.entryType]===void 0?null:Zc[e.entryType](e)}function fn(e){return((oe||P.performance.timeOrigin)+e)/1e3}function tm(e){let{duration:t,entryType:n,name:r,startTime:i}=e,s=fn(i);return{type:n,name:r,start:s,end:s+t,data:void 0}}function nm(e){let{entryType:t,name:n,decodedBodySize:r,duration:i,domComplete:s,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:l,loadEventStart:d,loadEventEnd:u,redirectCount:f,startTime:p,transferSize:_,type:h}=e;return i===0?null:{type:`${t}.${h}`,start:fn(p),end:fn(s),name:n,data:{size:_,decodedBodySize:r,encodedBodySize:o,duration:i,domInteractive:l,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:u,domComplete:s,redirectCount:f}}}function rm(e){let{entryType:t,initiatorType:n,name:r,responseEnd:i,startTime:s,decodedBodySize:o,encodedBodySize:a,responseStatus:c,transferSize:l}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:fn(s),end:fn(i),name:r,data:{size:l,statusCode:c,decodedBodySize:o,encodedBodySize:a}}}function im(e){let{entryType:t,startTime:n,size:r}=e,i=0;if(P.performance){let a=P.performance.getEntriesByType("navigation")[0];i=a&&a.activationStart||0}let s=Math.max(n-i,0),o=fn(i)+s/1e3;return{type:t,name:t,start:o,end:o,data:{value:s,size:r,nodeId:Ge.mirror.getId(e.element)}}}function sm(e,t,n){let r,i,s,o=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return c(),r=e(),r}function c(){i!==void 0&&clearTimeout(i),s!==void 0&&clearTimeout(s),i=s=void 0}function l(){return i!==void 0||s!==void 0?a():r}function d(){return i&&clearTimeout(i),i=setTimeout(a,t),o&&s===void 0&&(s=setTimeout(a,o)),r}return d.cancel=c,d.flush=l,d}function om(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn("[Replay] Received replay event after session expired.");return}let i=r||!t;t=!0,e.addUpdate(()=>{if(e.recordingMode==="buffer"&&i&&e.setInitialState(),!yo(e,n,i))return!0;if(!i)return!1;if(cm(e,i),e.session&&e.session.previousSessionId)return!0;if(e.recordingMode==="buffer"&&e.session&&e.eventBuffer){let s=e.eventBuffer.getEarliestTimestamp();s&&(ae(`[Replay] Updating session start time to earliest event in buffer to ${new Date(s)}`,e.getOptions()._experiments.traceInternals),e.session.started=s,e.getOptions().stickySession&&go(e.session))}return e.recordingMode==="session"&&e.flush(),!0})}}function am(e){let t=e.getOptions();return{type:D.Custom,timestamp:Date.now(),data:{tag:"options",payload:{sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function cm(e,t){!t||!e.session||e.session.segmentId!==0||yo(e,am(e),!1)}function um(e,t,n,r){return Te(Un(e,Gt(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function lm({recordingData:e,headers:t}){let n,r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{let s=new TextEncoder().encode(r);n=new Uint8Array(s.length+e.length),n.set(s),n.set(e,s.length)}return n}async function dm({client:e,scope:t,replayId:n,event:r}){let i=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,s={event_id:n,integrations:i};e.emit&&e.emit("preprocessEvent",r,s);let o=await Gn(e.getOptions(),r,s,t,e);if(!o)return null;o.platform=o.platform||"javascript";let a=e.getSdkMetadata&&e.getSdkMetadata(),{name:c,version:l}=a&&a.sdk||{};return o.sdk={...o.sdk,name:c||"sentry.javascript.unknown",version:l||"0.0.0"},o}async function fm({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:i,session:s}){let o=lm({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:l,initialTimestamp:d}=r,u=T(),f=u.getClient(),p=u.getScope(),_=f&&f.getTransport(),h=f&&f.getDsn();if(!f||!_||!h||!s.sampled)return;let y={type:tp,replay_start_timestamp:d/1e3,timestamp:i/1e3,error_ids:c,trace_ids:l,urls:a,replay_id:t,segment_id:n,replay_type:s.sampled},g=await dm({scope:p,client:f,replayId:t,event:y});if(!g){f.recordDroppedEvent("event_processor","replay",y),ae("An event processor returned `null`, will not send event.");return}delete g.sdkProcessingMetadata;let b=um(g,o,h,f.getOptions().tunnel),w;try{w=await _.send(b)}catch(I){let x=new Error(uo);try{x.cause=I}catch{}throw x}if(!w)return w;if(typeof w.statusCode=="number"&&(w.statusCode<200||w.statusCode>=300))throw new fi(w.statusCode);return w}var fi=class extends Error{constructor(t){super(`Transport returned status code ${t}`)}};async function Pu(e,t={count:0,interval:ap}){let{recordingData:n,options:r}=e;if(n.length)try{return await fm(e),!0}catch(i){if(i instanceof fi)throw i;if(Gr("Replays",{_retryCount:t.count}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&r._experiments&&r._experiments.captureExceptions&&wt(i),t.count>=cp){let s=new Error(`${uo} - max retries exceeded`);try{s.cause=i}catch{}throw s}return t.interval*=++t.count,new Promise((s,o)=>{setTimeout(async()=>{try{await Pu(e,t),s(!0)}catch(a){o(a)}},t.interval)})}}var Fu="__THROTTLED",pm="__SKIPPED";function hm(e,t,n){let r=new Map,i=a=>{let c=a-n;r.forEach((l,d)=>{d<c&&r.delete(d)})},s=()=>[...r.values()].reduce((a,c)=>a+c,0),o=!1;return(...a)=>{let c=Math.floor(Date.now()/1e3);if(i(c),s()>=t){let d=o;return o=!0,d?pm:Fu}o=!1;let l=r.get(c)||0;return r.set(c,l+1),e(...a)}}var ao=class e{constructor({options:t,recordingOptions:n}){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),e.prototype.__init5.call(this),e.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEvents=[],this.recordingMode="session",this.timeouts={sessionIdlePause:np,sessionIdleExpire:rp},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=sm(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=hm((o,a)=>Kh(this,o,a),300,5);let{slowClickTimeout:r,slowClickIgnoreSelectors:i}=this.getOptions(),s=r?{threshold:Math.min(up,r),timeout:r,scrollTimeout:lp,ignoreSelector:i?i.join(","):""}:void 0;s&&(this.clickDetector=new Js(this,s))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}getOptions(){return this._options}initializeSampling(t){let{errorSampleRate:n,sessionSampleRate:r}=this._options;if(!(n<=0&&r<=0)){if(this._initializeSessionForSampling(t),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",on(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");on("[Replay] Starting replay in session mode",this._options._experiments.traceInternals);let t=Ps({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");on("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);let t=Ps({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{this._stopRecording=Ge({...this._recordingOptions,...this.recordingMode==="buffer"&&{checkoutEveryNms:op},emit:om(this),onMutation:this._onMutationHandler})}catch(t){this._handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this._handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{ae(`[Replay] Stopping Replay${n?` triggered by ${n}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,Wh(this)}catch(r){this._handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),ae("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),ae("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();let n=Date.now();ae("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();let r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){let n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&to(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){let t=`${P.location.pathname}${P.location.hash}${P.location.search}`,n=`${P.location.origin}${t}`;this.performanceEvents=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){let r=this._throttledAddEvent(t,n);if(r===Fu){let i=Je({category:"replay.throttled"});this.addUpdate(()=>!yo(this,{type:jh,timestamp:i.timestamp||0,data:{tag:"breadcrumb",payload:i,metric:!0}}))}return r}getCurrentRoute(){let t=this.lastTransaction||T().getScope().getTransaction();if(!(!t||!["route","custom"].includes(t.metadata.source)))return t.name}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=zh({useCompression:this._options.useCompression}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(t){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error("[Replay]",t),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&this._options._experiments&&this._options._experiments.captureExceptions&&wt(t)}_initializeSessionForSampling(t){let n=this._options.errorSampleRate>0,r=Ps({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;let t=this.session;return Iu(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{P.document.addEventListener("visibilitychange",this._handleVisibilityChange),P.addEventListener("blur",this._handleWindowBlur),P.addEventListener("focus",this._handleWindowFocus),P.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(K_(this),this._hasInitializedCoreListeners=!0)}catch(t){this._handleException(t)}"PerformanceObserver"in P&&(this._performanceObserver=Gh(this))}_removeListeners(){try{P.document.removeEventListener("visibilitychange",this._handleVisibilityChange),P.removeEventListener("blur",this._handleWindowBlur),P.removeEventListener("focus",this._handleWindowFocus),P.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceObserver&&(this._performanceObserver.disconnect(),this._performanceObserver=void 0)}catch(t){this._handleException(t)}}__init(){this._handleVisibilityChange=()=>{P.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{let t=Je({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{let t=Je({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{Bh(this,t)}}_doChangeToBackgroundTasks(t){!this.session||wu(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){ae("[Replay] Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_triggerFullSnapshot(t=!0){try{ae("[Replay] Taking full rrweb snapshot"),Ge.takeFullSnapshot(t)}catch(n){this._handleException(n)}}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:D.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=[...this.performanceEvents];return this.performanceEvents=[],Promise.all(mi(this,Q_(t)))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:t,eventBuffer:n}=this;if(!t||!n||t.segmentId)return;let r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){let t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){let t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error("[Replay] No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await J_(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();let n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");let r=this._popEventContext(),i=this.session.segmentId++;this._maybeSaveSession();let s=await this.eventBuffer.finish();await Pu({replayId:t,recordingData:s,segmentId:i,eventContext:r,session:this.session,options:this.getOptions(),timestamp:n})}catch(n){this._handleException(n),this.stop({reason:"sendReplay"});let r=T().getClient();r&&r.recordDroppedEvent("send_error","replay")}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error("[Replay] No session found to flush.");return}let n=this.session.started,i=Date.now()-n;this._debouncedFlush.cancel();let s=i<this._options.minReplayDuration,o=i>this._options.maxReplayDuration+5e3;if(s||o){ae(`[Replay] Session duration (${Math.floor(i/1e3)}s) is too ${s?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),s&&this._debouncedFlush();return}let a=this.eventBuffer;if(a&&this.session.segmentId===0&&!a.hasCheckout&&ae("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),await this._flushLock,this._flushLock=void 0;return}try{await this._flushLock}catch(c){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.error(c)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&go(this.session)}__init6(){this._onMutationHandler=t=>{let n=t.length,r=this._options.mutationLimit,i=this._options.mutationBreadcrumbLimit,s=r&&n>r;if(n>i||s){let o=Je({category:"replay.mutations",data:{count:n,limit:s}});this._createCustomBreadcrumb(o)}return s?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}};function Wn(e,t,n,r){let i=typeof r=="string"?r.split(","):[],s=[...e,...i,...t];return typeof n<"u"&&(typeof n=="string"&&s.push(`.${n}`),console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")),s.join(",")}function _m({mask:e,unmask:t,block:n,unblock:r,ignore:i,blockClass:s,blockSelector:o,maskTextClass:a,maskTextSelector:c,ignoreClass:l}){let d=['base[href="/"]'],u=Wn(e,[".sentry-mask","[data-sentry-mask]"],a,c),f=Wn(t,[".sentry-unmask","[data-sentry-unmask]"]),p={maskTextSelector:u,unmaskTextSelector:f,blockSelector:Wn(n,[".sentry-block","[data-sentry-block]",...d],s,o),unblockSelector:Wn(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:Wn(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],l)};return s instanceof RegExp&&(p.blockClass=s),a instanceof RegExp&&(p.maskTextClass=a),p}function jc(){return typeof window<"u"&&(!Nn()||mm())}function mm(){return typeof process<"u"&&process.type==="renderer"}function gm({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:i,value:s}){return!r||i.unmaskTextSelector&&e.matches(i.unmaskTextSelector)?s:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?s.replace(/[\S]/g,"*"):s}var qc='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',ym=["content-length","content-type","accept"],Kc=!1,pn=class e{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=ip,flushMaxDelay:n=sp,minReplayDuration:r=dp,maxReplayDuration:i=xc,stickySession:s=!0,useCompression:o=!0,_experiments:a={},sessionSampleRate:c,errorSampleRate:l,maskAllText:d=!0,maskAllInputs:u=!0,blockAllMedia:f=!0,mutationBreadcrumbLimit:p=750,mutationLimit:_=1e4,slowClickTimeout:h=7e3,slowClickIgnoreSelectors:y=[],networkDetailAllowUrls:g=[],networkDetailDenyUrls:b=[],networkCaptureBodies:w=!0,networkRequestHeaders:I=[],networkResponseHeaders:x=[],mask:C=[],maskAttributes:E=["title","placeholder"],unmask:R=[],block:L=[],unblock:S=[],ignore:N=[],maskFn:H,beforeAddRecordingEvent:te,blockClass:re,blockSelector:he,maskInputOptions:F,maskTextClass:Ee,maskTextSelector:K,ignoreClass:Se}={}){this.name=e.id;let ve=_m({mask:C,unmask:R,block:L,unblock:S,ignore:N,blockClass:re,blockSelector:he,maskTextClass:Ee,maskTextSelector:K,ignoreClass:Se});if(this._recordingOptions={maskAllInputs:u,maskAllText:d,maskInputOptions:{...F||{},password:!0},maskTextFn:H,maskInputFn:H,maskAttributeFn:(dt,ft,bn)=>gm({maskAttributes:E,maskAllText:d,privacyOptions:ve,key:dt,value:ft,el:bn}),...ve,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:dt=>{try{dt.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,fp),maxReplayDuration:Math.min(i,xc),stickySession:s,sessionSampleRate:c,errorSampleRate:l,useCompression:o,blockAllMedia:f,maskAllInputs:u,maskAllText:d,mutationBreadcrumbLimit:p,mutationLimit:_,slowClickTimeout:h,slowClickIgnoreSelectors:y,networkDetailAllowUrls:g,networkDetailDenyUrls:b,networkCaptureBodies:w,networkRequestHeaders:Jc(I),networkResponseHeaders:Jc(x),beforeAddRecordingEvent:te,_experiments:a},typeof c=="number"&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysSessionSampleRate: ${c} })`),this._initialOptions.sessionSampleRate=c),typeof l=="number"&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysOnErrorSampleRate: ${l} })`),this._initialOptions.errorSampleRate=l),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${qc}`:qc),this._isInitialized&&jc())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Kc}set _isInitialized(t){Kc=t}setupOnce(){jc()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(t)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(){this._replay&&this._replay.initializeSampling()}_setup(){let t=bm(this._initialOptions);this._replay=new ao({options:t,recordingOptions:this._recordingOptions})}};pn.__initStatic();function bm(e){let t=T().getClient(),n=t&&t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...ie(e)};return n?(e.sessionSampleRate==null&&e.errorSampleRate==null&&n.replaysSessionSampleRate==null&&n.replaysOnErrorSampleRate==null&&console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set."),typeof n.replaysSessionSampleRate=="number"&&(r.sessionSampleRate=n.replaysSessionSampleRate),typeof n.replaysOnErrorSampleRate=="number"&&(r.errorSampleRate=n.replaysOnErrorSampleRate),r):(console.warn("SDK client is not available."),r)}function Jc(e){return[...ym,...e.map(t=>t.toLowerCase())]}var U=G;function Gu(){U&&U.document?U.document.addEventListener("visibilitychange",()=>{let e=Me();if(U.document.hidden&&e){let t="cancelled";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${e.op}`),e.status||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.finish()}}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var _n=(e,t,n)=>{let r,i;return s=>{t.value>=0&&(s||n)&&(i=t.value-(r||0),(i||r===void 0)&&(r=t.value,t.delta=i,e(t)))}};var Hu=()=>`v3-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`;var Em=()=>{let e=U.performance.timing,t=U.performance.navigation.type,n={entryType:"navigation",startTime:0,type:t==2?"back_forward":t===1?"reload":"navigate"};for(let r in e)r!=="navigationStart"&&r!=="toJSON"&&(n[r]=Math.max(e[r]-e.navigationStart,0));return n},yi=()=>U.__WEB_VITALS_POLYFILL__?U.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||Em()):U.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];var bi=()=>{let e=yi();return e&&e.activationStart||0};var mn=(e,t)=>{let n=yi(),r="navigate";return n&&(U.document.prerendering||bi()>0?r="prerender":r=n.type.replace(/_/g,"-")),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:Hu(),navigationType:r}};var Qe=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let r=new PerformanceObserver(i=>{t(i.getEntries())});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}};var lt=(e,t)=>{let n=r=>{(r.type==="pagehide"||U.document.visibilityState==="hidden")&&(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)};var Yu=e=>{let t=mn("CLS",0),n,r=0,i=[],s=a=>{a.forEach(c=>{if(!c.hadRecentInput){let l=i[0],d=i[i.length-1];r&&i.length!==0&&c.startTime-d.startTime<1e3&&c.startTime-l.startTime<5e3?(r+=c.value,i.push(c)):(r=c.value,i=[c]),r>t.value&&(t.value=r,t.entries=i,n&&n())}})},o=Qe("layout-shift",s);if(o){n=_n(e,t);let a=()=>{s(o.takeRecords()),n(!0)};return lt(a),a}};var Ei=-1,Sm=()=>U.document.visibilityState==="hidden"&&!U.document.prerendering?0:1/0,vm=()=>{lt(({timeStamp:e})=>{Ei=e},!0)},gn=()=>(Ei<0&&(Ei=Sm(),vm()),{get firstHiddenTime(){return Ei}});var zu=e=>{let t=gn(),n=mn("FID"),r,i=a=>{a.startTime<t.firstHiddenTime&&(n.value=a.processingStart-a.startTime,n.entries.push(a),r(!0))},s=a=>{a.forEach(i)},o=Qe("first-input",s);r=_n(e,n),o&&lt(()=>{s(o.takeRecords()),o.disconnect()},!0)};var Wu={},$u=e=>{let t=gn(),n=mn("LCP"),r,i=o=>{let a=o[o.length-1];if(a){let c=Math.max(a.startTime-bi(),0);c<t.firstHiddenTime&&(n.value=c,n.entries=[a],r())}},s=Qe("largest-contentful-paint",i);if(s){r=_n(e,n);let o=()=>{Wu[n.id]||(i(s.takeRecords()),s.disconnect(),Wu[n.id]=!0,r(!0))};return["keydown","click"].forEach(a=>{addEventListener(a,o,{once:!0,capture:!0})}),lt(o,!0),o}};function Si(e){return typeof e=="number"&&isFinite(e)}function Dt(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}function ee(e){return e/1e3}function Zu(){return U&&U.addEventListener&&U.performance}var Vu=0,q={},He,er;function ju(){let e=Zu();if(e&&oe){e.mark&&U.performance.mark("sentry-tracing-init"),Tm();let t=wm(),n=Im();return()=>{t&&t(),n&&n()}}return()=>{}}function qu(){Qe("longtask",t=>{for(let n of t){let r=Me();if(!r)return;let i=ee(oe+n.startTime),s=ee(n.duration);r.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:i,endTimestamp:i+s})}})}function Ku(){Qe("event",t=>{for(let n of t){let r=Me();if(!r)return;if(n.name==="click"){let i=ee(oe+n.startTime),s=ee(n.duration);r.startChild({description:ge(n.target),op:`ui.interaction.${n.name}`,origin:"auto.ui.browser.metrics",startTimestamp:i,endTimestamp:i+s})}}},{durationThreshold:0})}function wm(){return Yu(e=>{let t=e.entries.pop();t&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("[Measurements] Adding CLS"),q.cls={value:e.value,unit:""},er=t)})}function Im(){return $u(e=>{let t=e.entries.pop();t&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("[Measurements] Adding LCP"),q.lcp={value:e.value,unit:"millisecond"},He=t)})}function Tm(){zu(e=>{let t=e.entries.pop();if(!t)return;let n=ee(oe),r=ee(t.startTime);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("[Measurements] Adding FID"),q.fid={value:e.value,unit:"millisecond"},q["mark.fid"]={value:n+r,unit:"second"}})}function Ju(e){let t=Zu();if(!t||!U.performance.getEntries||!oe)return;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("[Tracing] Adding & adjusting spans using Performance API");let n=ee(oe),r=t.getEntries(),i,s;if(r.slice(Vu).forEach(o=>{let a=ee(o.startTime),c=ee(o.duration);if(!(e.op==="navigation"&&n+a<e.startTimestamp))switch(o.entryType){case"navigation":{km(e,o,n),i=n+ee(o.responseStart),s=n+ee(o.requestStart);break}case"mark":case"paint":case"measure":{Cm(e,o,a,c,n);let l=gn(),d=o.startTime<l.firstHiddenTime;o.name==="first-paint"&&d&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("[Measurements] Adding FP"),q.fp={value:o.startTime,unit:"millisecond"}),o.name==="first-contentful-paint"&&d&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("[Measurements] Adding FCP"),q.fcp={value:o.startTime,unit:"millisecond"});break}case"resource":{let l=o.name.replace(U.location.origin,"");xm(e,o,l,a,c,n);break}}}),Vu=Math.max(r.length-1,0),Am(e),e.op==="pageload"){typeof i=="number"&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("[Measurements] Adding TTFB"),q.ttfb={value:(i-e.startTimestamp)*1e3,unit:"millisecond"},typeof s=="number"&&s<=i&&(q["ttfb.requestTime"]={value:(i-s)*1e3,unit:"millisecond"})),["fcp","fp","lcp"].forEach(a=>{if(!q[a]||n>=e.startTimestamp)return;let c=q[a].value,l=n+ee(c),d=Math.abs((l-e.startTimestamp)*1e3),u=d-c;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log(`[Measurements] Normalized ${a} from ${c} to ${d} (${u})`),q[a].value=d});let o=q["mark.fid"];o&&q.fid&&(Dt(e,{description:"first input delay",endTimestamp:o.value+ee(q.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:o.value}),delete q["mark.fid"]),"fcp"in q||delete q.cls,Object.keys(q).forEach(a=>{e.setMeasurement(a,q[a].value,q[a].unit)}),Nm(e)}He=void 0,er=void 0,q={}}function Cm(e,t,n,r,i){let s=i+n,o=s+r;return Dt(e,{description:t.name,endTimestamp:o,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:s}),s}function km(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{vi(e,t,r,n)}),vi(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),vi(e,t,"fetch",n,"cache","domainLookupStart"),vi(e,t,"domainLookup",n,"DNS"),Rm(e,t,n)}function vi(e,t,n,r,i,s){let o=s?t[s]:t[`${n}End`],a=t[`${n}Start`];!a||!o||Dt(e,{op:"browser",origin:"auto.browser.browser.metrics",description:i||n,startTimestamp:r+ee(a),endTimestamp:r+ee(o)})}function Rm(e,t,n){Dt(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+ee(t.requestStart),endTimestamp:n+ee(t.responseEnd)}),Dt(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+ee(t.responseStart),endTimestamp:n+ee(t.responseEnd)})}function xm(e,t,n,r,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;let o={};"transferSize"in t&&(o["http.response_transfer_size"]=t.transferSize),"encodedBodySize"in t&&(o["http.response_content_length"]=t.encodedBodySize),"decodedBodySize"in t&&(o["http.decoded_response_content_length"]=t.decodedBodySize),"renderBlockingStatus"in t&&(o["resource.render_blocking_status"]=t.renderBlockingStatus);let a=s+r,c=a+i;Dt(e,{description:n,endTimestamp:c,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:a,data:o})}function Am(e){let t=U.navigator;if(!t)return;let n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),Si(n.rtt)&&(q["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Si(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),Si(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}function Nm(e){He&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("[Measurements] Adding LCP Data"),He.element&&e.setTag("lcp.element",ge(He.element)),He.id&&e.setTag("lcp.id",He.id),He.url&&e.setTag("lcp.url",He.url.trim().slice(0,200)),e.setTag("lcp.size",He.size)),er&&er.sources&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log("[Measurements] Adding CLS Data"),er.sources.forEach((t,n)=>e.setTag(`cls.source.${n+1}`,ge(t.node))))}var Eo=["localhost",/^\/(?!\/)/],tr={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:Eo,tracePropagationTargets:Eo};function So(e){let{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:i,shouldCreateSpanForRequest:s,enableHTTPTimings:o}={traceFetch:tr.traceFetch,traceXHR:tr.traceXHR,...e},a=typeof s=="function"?s:d=>!0,c=d=>Bm(d,r||i),l={};t&&W("fetch",d=>{let u=Um(d,a,c,l);o&&u&&Xu(u)}),n&&W("xhr",d=>{let u=Pm(d,a,c,l);o&&u&&Xu(u)})}function Dm(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function Xu(e){let t=e.data.url,n=new PerformanceObserver(r=>{r.getEntries().forEach(s=>{Dm(s)&&s.name.endsWith(t)&&(Mm(s).forEach(a=>e.setData(...a)),n.disconnect())})});n.observe({entryTypes:["resource"]})}function Om(e){let t="unknown",n="unknown",r="";for(let i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function Ye(e=0){return((oe||performance.timeOrigin)+e)/1e3}function Mm(e){let{name:t,version:n}=Om(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),oe?[...r,["http.request.redirect_start",Ye(e.redirectStart)],["http.request.fetch_start",Ye(e.fetchStart)],["http.request.domain_lookup_start",Ye(e.domainLookupStart)],["http.request.domain_lookup_end",Ye(e.domainLookupEnd)],["http.request.connect_start",Ye(e.connectStart)],["http.request.secure_connection_start",Ye(e.secureConnectionStart)],["http.request.connection_end",Ye(e.connectEnd)],["http.request.request_start",Ye(e.requestStart)],["http.request.response_start",Ye(e.responseStart)],["http.request.response_end",Ye(e.responseEnd)]]:r}function Bm(e,t){return Pe(e,t||Eo)}function Um(e,t,n,r){if(!qt()||!e.fetchData)return;let i=t(e.fetchData.url);if(e.endTimestamp&&i){let f=e.fetchData.__span;if(!f)return;let p=r[f];if(p){if(e.response){p.setHttpStatus(e.response.status);let _=e.response&&e.response.headers&&e.response.headers.get("content-length"),h=parseInt(_);h>0&&p.setData("http.response_content_length",h)}else e.error&&p.setStatus("internal_error");p.finish(),delete r[f]}return}let s=T(),o=s.getScope(),a=s.getClient(),c=o.getSpan(),{method:l,url:d}=e.fetchData,u=i&&c?c.startChild({data:{url:d,type:"fetch","http.method":l},description:`${l} ${d}`,op:"http.client",origin:"auto.http.browser"}):void 0;if(u&&(e.fetchData.__span=u.spanId,r[u.spanId]=u),n(e.fetchData.url)&&a){let f=e.args[0];e.args[1]=e.args[1]||{};let p=e.args[1];p.headers=Lm(f,a,o,p,u)}return u}function Lm(e,t,n,r,i){let s=i||n.getSpan(),o=s&&s.transaction,{traceId:a,sampled:c,dsc:l}=n.getPropagationContext(),d=s?s.toTraceparent():Ft(a,void 0,c),u=o?o.getDynamicSamplingContext():l||rt(a,t,n),f=Bn(u),p=typeof Request<"u"&&me(e,Request)?e.headers:r.headers;if(p)if(typeof Headers<"u"&&me(p,Headers)){let _=new Headers(p);return _.append("sentry-trace",d),f&&_.append(Mn,f),_}else if(Array.isArray(p)){let _=[...p,["sentry-trace",d]];return f&&_.push([Mn,f]),_}else{let _="baggage"in p?p.baggage:void 0,h=[];return Array.isArray(_)?h.push(..._):_&&h.push(_),f&&h.push(f),{...p,"sentry-trace":d,baggage:h.length>0?h.join(","):void 0}}else return{"sentry-trace":d,baggage:f}}function Pm(e,t,n,r){let i=e.xhr,s=i&&i[Ie];if(!qt()||i&&i.__sentry_own_request__||!i||!s)return;let o=t(s.url);if(e.endTimestamp&&o){let u=i.__sentry_xhr_span_id__;if(!u)return;let f=r[u];f&&(f.setHttpStatus(s.status_code),f.finish(),delete r[u]);return}let a=T(),c=a.getScope(),l=c.getSpan(),d=o&&l?l.startChild({data:{...s.data,type:"xhr","http.method":s.method,url:s.url},description:`${s.method} ${s.url}`,op:"http.client",origin:"auto.http.browser"}):void 0;if(d&&(i.__sentry_xhr_span_id__=d.spanId,r[i.__sentry_xhr_span_id__]=d),i.setRequestHeader&&n(s.url))if(d){let u=d&&d.transaction,f=u&&u.getDynamicSamplingContext(),p=Bn(f);Qu(i,d.toTraceparent(),p)}else{let u=a.getClient(),{traceId:f,sampled:p,dsc:_}=c.getPropagationContext(),h=Ft(f,void 0,p),y=_||(u?rt(f,u,c):void 0),g=Bn(y);Qu(i,h,g)}return d}function Qu(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(Mn,n)}catch{}}function el(e,t=!0,n=!0){if(!U||!U.location){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn("Could not initialize routing instrumentation due to invalid location");return}let r=U.location.href,i;t&&(i=e({name:U.location.pathname,startTimestamp:oe?oe/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&W("history",({to:s,from:o})=>{if(o===void 0&&r&&r.indexOf(s)!==-1){r=void 0;return}o!==s&&(r=void 0,i&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log(`[Tracing] Finishing current transaction with op: ${i.op}`),i.finish()),i=e({name:U.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})}var nl="BrowserTracing",Fm={...jt,markBackgroundTransactions:!0,routingInstrumentation:el,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...tr},yn=class{constructor(t){this.name=nl,this._hasSetTracePropagationTargets=!1,Fr(),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&(this._hasSetTracePropagationTargets=!!(t&&(t.tracePropagationTargets||t.tracingOrigins))),this.options={...Fm,...t},this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),t&&!t.tracePropagationTargets&&t.tracingOrigins&&(this.options.tracePropagationTargets=t.tracingOrigins),this._collectWebVitals=ju(),this.options.enableLongTask&&qu(),this.options._experiments.enableInteractions&&Ku()}setupOnce(t,n){this._getCurrentHub=n;let i=n().getClient(),s=i&&i.getOptions(),{routingInstrumentation:o,startTransactionOnLocationChange:a,startTransactionOnPageLoad:c,markBackgroundTransactions:l,traceFetch:d,traceXHR:u,shouldCreateSpanForRequest:f,enableHTTPTimings:p,_experiments:_}=this.options,h=s&&s.tracePropagationTargets,y=h||this.options.tracePropagationTargets;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&this._hasSetTracePropagationTargets&&h&&m.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),o(g=>{let b=this._createRouteTransaction(g);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(b,g,n),b},c,a),l&&Gu(),_.enableInteractions&&this._registerInteractionListener(),So({traceFetch:d,traceXHR:u,tracePropagationTargets:y,shouldCreateSpanForRequest:f,enableHTTPTimings:p})}_createRouteTransaction(t){if(!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`);return}let n=this._getCurrentHub(),{beforeNavigate:r,idleTimeout:i,finalTimeout:s,heartbeatInterval:o}=this.options,a=t.op==="pageload",c=a?tl("sentry-trace"):"",l=a?tl("baggage"):"",{traceparentData:d,dynamicSamplingContext:u,propagationContext:f}=ds(c,l),p={...t,...d,metadata:{...t.metadata,dynamicSamplingContext:d&&!u?{}:u},trimEnd:!0},_=typeof r=="function"?r(p):p,h=_===void 0?{...p,sampled:!1}:_;h.metadata=h.name!==p.name?{...h.metadata,source:"custom"}:h.metadata,this._latestRouteName=h.name,this._latestRouteSource=h.metadata&&h.metadata.source,h.sampled===!1&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log(`[Tracing] Will not send ${h.op} transaction because of beforeNavigate.`),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.log(`[Tracing] Starting ${h.op} transaction on scope`);let{location:y}=U,g=Pr(n,h,i,s,!0,{location:y},o),b=n.getScope();return a&&d?b.setPropagationContext(f):b.setPropagationContext({traceId:g.traceId,spanId:g.spanId,parentSpanId:g.parentSpanId,sampled:g.sampled}),g.registerBeforeFinishCallback(w=>{this._collectWebVitals(),Ju(w)}),g}_registerInteractionListener(){let t,n=()=>{let{idleTimeout:r,finalTimeout:i,heartbeatInterval:s}=this.options,o="ui.action.click",a=Me();if(a&&a.op&&["navigation","pageload"].includes(a.op)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn(`[Tracing] Did not create ${o} transaction because a pageload or navigation transaction is in progress.`);return}if(t&&(t.setFinishReason("interactionInterrupted"),t.finish(),t=void 0),!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn(`[Tracing] Did not create ${o} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRouteName){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&m.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}let c=this._getCurrentHub(),{location:l}=U,d={name:this._latestRouteName,op:o,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};t=Pr(c,d,r,i,!0,{location:l},s)};["click"].forEach(r=>{addEventListener(r,n,{once:!1,capture:!0})})}};function tl(e){let t=Vi(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}var rl={};O.Sentry&&O.Sentry.Integrations&&(rl=O.Sentry.Integrations);var Nw={...rl,...It,...Bs};function vo(e){let t={_metadata:{},...e};t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.react",packages:[{name:"npm:@sentry/react",version:it}],version:it},Ms(t)}document.location.hostname==="blank.page"&&vo({dsn:"https://72f60a927c8555bcc4de92fa40fb6c1d@o4506088787410944.ingest.sentry.io/4506088789311488",integrations:[new yn({tracePropagationTargets:["localhost",/^https:\/\/blank.page/]}),new pn],tracesSampleRate:1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1});function Hm(e){let t=document.createElement("div");return t.classList.add("tw"),e.appendChild(t),t}function Ym(){let[e,t]=Ue(!1),[n,r]=Ue(!1);return gt(()=>{localStorage.getItem("topbarClosed")!=="true"&&document.body.classList.add("topbar-open");let i=document.getElementById("topbar-close-button"),s=document.getElementById("topbar-cta");i&&i.addEventListener("click",o=>{o.preventDefault(),document.body.classList.remove("topbar-open"),localStorage.setItem("topbarClosed","true"),t(!0),ze("SC Topbar Close Clicked")}),s&&s.addEventListener("click",()=>{localStorage.setItem("topbarClosed","true"),document.body.classList.remove("topbar-open"),ze("SC Topbar CTA Clicked")})},[]),k("div",{children:[k(pr,{show:e,onClose:()=>t(!1),className:"w-[640px]",allowClose:!1,title:"Before you keep writing...",content:k(_e,{children:[k("p",{className:"pt-2 leading-relaxed",children:"This page is made possible by people like you. We believe the Internet deserves an open, beautiful, blank page to write what matters in our lives. Support us in keeping it this way with as little as $1."}),k("p",{className:"pt-6 text-sm text-gray-500",children:"Once or monthly, we\u2019ll thank from the heart."}),k("div",{className:"pt-6 mt-6 flex border-t dark:border-gray-800",children:[k("div",{className:"flex gap-x-5 items-center",children:[k("a",{onClick:()=>{ze("SC First Modal CTA Clicked"),t(!1)},href:"https://www.buymeacoffee.com/blankpage",target:"_blank",rel:"noreferrer",className:"bg-[#474B55] hover:bg-[#363840] py-2 px-4 rounded-lg text-white no-underline text-sm",children:"Support"}),k("div",{className:"max-w-[120px]",children:k("a",{onClick:()=>{ze("SC First Modal BMCA Logo Clicked"),t(!1)},href:"https://www.buymeacoffee.com/blankpage",target:"_blank",rel:"noreferrer",children:[k("img",{className:"block dark:hidden",src:"/img/bmc.svg"}),k("img",{className:"hidden dark:block",src:"/img/bmc_dark.svg"})]})})]}),k("a",{href:"#",onClick:i=>{i.preventDefault(),t(!1),r(!0),ze("SC First Modal Maybe Later Clicked")},className:"ml-auto text-gray-500 hover:text-gray-600 py-2 pr-5 text-sm font-medium hover:cursor-pointer",children:"Maybe later"})]})]})}),k(pr,{show:n,onClose:()=>{r(!1),ze("SC Second Modal Close Clicked")},className:"max-w-xl",allowClose:!0,title:"There are more ways to support!",content:k(_e,{children:[k("p",{className:"leading-relaxed",children:"If you are unable to donate, you can still help us by taking a quick survey or by joining our community forum."}),k("p",{className:"pt-6 text-sm text-gray-500",children:"Thanks for your time \u{1F64C}"}),k("div",{className:"pt-6 mt-6 flex border-t dark:border-gray-800",children:k("div",{className:"flex gap-x-4 items-center",children:k("a",{onClick:()=>{r(!1),ze("SC Second Modal CTA Clicked")},href:"https://forms.reform.app/ZCfKMr/feedback-2024/ud25nv",target:"_blank",rel:"noreferrer",className:"bg-[#474B55] hover:bg-[#363840] py-2 px-4 rounded-lg text-white no-underline text-sm",children:"Take 1-min survey"})})})]})})]})}async function zm(e){Di(k(Ym,{}),Hm(document.body))}return fl(Wm);})();
/*! Bundled license information:

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)

@sentry/replay/esm/index.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/
//# sourceMappingURL=ts-bundle.js.map
